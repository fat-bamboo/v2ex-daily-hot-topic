[{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/4ea0/6fbc/770_large.png?m=1695370146","name":"career","avatar_normal":"https://cdn.v2ex.com/navatar/4ea0/6fbc/770_normal.png?m=1695370146","title":"职场话题","url":"https://www.v2ex.com/go/career","topics":16833,"footer":"","header":"这里，我们聊聊那些工作中遇到的开心和不开心的事。","title_alternative":"Career","avatar_mini":"https://cdn.v2ex.com/navatar/4ea0/6fbc/770_mini.png?m=1695370146","stars":3093,"aliases":[],"root":false,"id":770,"parent_node_name":"work"},"member":{"id":579421,"username":"FlyingBackscratc","url":"https://www.v2ex.com/u/FlyingBackscratc","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/avatar/2f07/59a3/579421_mini.png?m=1651021090","avatar_normal":"https://cdn.v2ex.com/avatar/2f07/59a3/579421_normal.png?m=1651021090","avatar_large":"https://cdn.v2ex.com/avatar/2f07/59a3/579421_large.png?m=1651021090","avatar_xlarge":"https://cdn.v2ex.com/avatar/2f07/59a3/579421_xlarge.png?m=1651021090","avatar_xxlarge":"https://cdn.v2ex.com/avatar/2f07/59a3/579421_xlarge.png?m=1651021090","created":1651020925,"last_modified":1651021090},"last_reply_by":"wanderingq","last_touched":1713706423,"title":"应届生找不到工作的话有没有什么非编程类的工作能做的？有没有生活经验丰富的老哥给点建议","url":"https://www.v2ex.com/t/1034320","created":1713671052,"deleted":0,"content":"**快毕业了，到目前看校招是寄了。**\r\n\r\n我目前心态倒是还行，因为我倒不感觉自己真会饿死，毕竟学历还是在这摆着，还可以，技术也还凑合。目前所有谈到的能给岗位的工作，要不然就是工资比较低，我感觉我教育投资这么多，找个低工资的工作亏了。要不然就是工资开的高，但是明确说了我们加班很多的，说实话我是想正常过双休的。所以只能说是工资给低了不愿意去，高的又找不到这样。\r\n\r\n**最近突然有个想法是，能不能先找个非编程类的工作干着，比如送外卖啊，卖手抓饼啊，当服务生啊这类的。**\r\n\r\n因为我感觉自己有个问题是跟社会脱节比较远。比如一直是感觉自己成绩好，技术牛逼这种的，家里也有没逼我出去赚钱，我是感觉有空余时间多学习比出去打工划算的，所以就从上大学开始就一直在学校里，也没说出去接触什么社会。实际上现在感觉这套东西纯粹是自己陷入乌托邦幻想了，以为自己牛逼，你不去接触真实的群众，阶层滑落现在是很容易就发生的事情，本来也没说谁比谁高级。\r\n\r\n我现在的想法是我的学历技术在这，相对于没学历没技术的老哥们来讲肯定是有优势了，但是老哥们了解社会比我多。我想能不能找个贴近老哥们工作的真实社会的工作，多了解了解社会，总归是有好处的。就算校招里面这次找到了个体面的工作，走精英路线了，每天过体面人上人的生活，少这一层了解我感觉总归从做人角度也是缺失的，不是好事。\r\n\r\n有没有老哥给提提建议，有没有什么能临时做的工作的种类，比较好入行的，还能接触真实社会的。跑外卖或者开滴滴这两个是直接就能想到的，但是想跑滴滴的问题是没车，跑外卖的话感觉好像不怎么跟人打交道啊。\r\n\r\n工地搬砖这种我是不太行。进厂打螺丝的话，我没啥了解，不知道现在是不是说找个厂就能找到的。而且这种工作如果是准备短期做，比如做两个月或者三个月的，进厂签合同有支持这种短期合同的？\r\n\r\n卖手抓饼，咱又没有推车，没有生产资料，还得预先投资买一套，感觉不太合适","content_rendered":"<p><strong>快毕业了，到目前看校招是寄了。</strong></p>\n<p>我目前心态倒是还行，因为我倒不感觉自己真会饿死，毕竟学历还是在这摆着，还可以，技术也还凑合。目前所有谈到的能给岗位的工作，要不然就是工资比较低，我感觉我教育投资这么多，找个低工资的工作亏了。要不然就是工资开的高，但是明确说了我们加班很多的，说实话我是想正常过双休的。所以只能说是工资给低了不愿意去，高的又找不到这样。</p>\n<p><strong>最近突然有个想法是，能不能先找个非编程类的工作干着，比如送外卖啊，卖手抓饼啊，当服务生啊这类的。</strong></p>\n<p>因为我感觉自己有个问题是跟社会脱节比较远。比如一直是感觉自己成绩好，技术牛逼这种的，家里也有没逼我出去赚钱，我是感觉有空余时间多学习比出去打工划算的，所以就从上大学开始就一直在学校里，也没说出去接触什么社会。实际上现在感觉这套东西纯粹是自己陷入乌托邦幻想了，以为自己牛逼，你不去接触真实的群众，阶层滑落现在是很容易就发生的事情，本来也没说谁比谁高级。</p>\n<p>我现在的想法是我的学历技术在这，相对于没学历没技术的老哥们来讲肯定是有优势了，但是老哥们了解社会比我多。我想能不能找个贴近老哥们工作的真实社会的工作，多了解了解社会，总归是有好处的。就算校招里面这次找到了个体面的工作，走精英路线了，每天过体面人上人的生活，少这一层了解我感觉总归从做人角度也是缺失的，不是好事。</p>\n<p>有没有老哥给提提建议，有没有什么能临时做的工作的种类，比较好入行的，还能接触真实社会的。跑外卖或者开滴滴这两个是直接就能想到的，但是想跑滴滴的问题是没车，跑外卖的话感觉好像不怎么跟人打交道啊。</p>\n<p>工地搬砖这种我是不太行。进厂打螺丝的话，我没啥了解，不知道现在是不是说找个厂就能找到的。而且这种工作如果是准备短期做，比如做两个月或者三个月的，进厂签合同有支持这种短期合同的？</p>\n<p>卖手抓饼，咱又没有推车，没有生产资料，还得预先投资买一套，感觉不太合适</p>\n","last_modified":1713671217,"replies":66,"id":1034320},{"node":{"avatar_large":"/static/img/node_default_large.png","name":"fit","avatar_normal":"/static/img/node_default_normal.png","title":"健康","url":"https://www.v2ex.com/go/fit","topics":1141,"footer":"","header":"这个节点的设立，是为了让大家可以分享关于健身和健康生活方式的经验。如果你有什么正在困扰自己的身体症状，请立刻寻求正规医院的帮助。","title_alternative":"Fit","avatar_mini":"/static/img/node_default_mini.png","stars":330,"aliases":[],"root":false,"id":700,"parent_node_name":"life"},"member":{"id":622705,"username":"timjunk","url":"https://www.v2ex.com/u/timjunk","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/avatar/87f8/a126/622705_mini.png?m=1713662008","avatar_normal":"https://cdn.v2ex.com/avatar/87f8/a126/622705_normal.png?m=1713662008","avatar_large":"https://cdn.v2ex.com/avatar/87f8/a126/622705_large.png?m=1713662008","avatar_xlarge":"https://cdn.v2ex.com/avatar/87f8/a126/622705_xlarge.png?m=1713662008","avatar_xxlarge":"https://cdn.v2ex.com/avatar/87f8/a126/622705_xlarge.png?m=1713662008","avatar_xxxlarge":"https://cdn.v2ex.com/avatar/87f8/a126/622705_xlarge.png?m=1713662008","created":1680755015,"last_modified":1713662008},"last_reply_by":"yidev","last_touched":1713705141,"title":"差点挂了","url":"https://www.v2ex.com/t/1034302","created":1713661722,"deleted":0,"content":"可能有些标题党了，但我刚刚真的觉得我怕不是要折了。。。\r\n\r\n刚刚坐在椅子上，伸手去捡地上的东西，右手手臂根部扭了一小下，有点痛(是那种内痛，但其实也没感觉有多扭到，但就是痛了一小会。也没有特别痛，但比这个手伸到椅子下这个行为预期的痛感要稍微强一些，也要持久一些)，坐在椅子上扭几下手臂想缓一缓，结果感觉有贫血的感觉，越来越强烈，脑袋放空，身体没甚么力气，眼睛出现雪花，视野缩窄(不是变黑，而是单纯的看不太见，很难描述，反正就是很难看见东西但视野没变黑)，然后感觉有点恶心，有喘不上气的感觉，我感觉不太妙，有种之前运动过度，喘不上气，感觉恶心，感觉好象要死了的感觉，不是初中时正常运动的喘，而是上大学多年不运动后骑完脚踏车忽然停下来的那种喘不上气。很担心是不是要猝死了...\r\n\r\n我觉得不妙，就颤颤巍巍的从椅子上爬回床上躺下来，耳朵开始耳鸣，有很明显的嗡嗡叫，浴室里的抽风机的噪声很明显的变小了。我躺在床上尝试稳定心跳，不过我没有感觉心律不整。\r\n\r\n躺在床上一会之后，耳鸣消失了，那种贫血的感觉减少了，也喘的上气了，我又缓了一会儿，然后从床上起来，站在地上，又有了贫血的感觉，不过这种感觉是常见的站起来的贫血感，可能大约 10-20 秒左右就渐渐恢复视力了，脑袋也不会感觉很怪了。\r\n\r\n右手靠近嘎吱窝那边有一点点拉伤的感觉。\r\n\r\n坐下来想了想，心里有些后怕，肯定得做做身体检查之类的。\r\n\r\n忽然想到我好象应该测一下心律和血氧，不过很可惜，刚刚手上没有带手环，我是等状况好很多，甚至是写完刚刚那上面那堆东西之后才想起来要测血氧的。结果是 95-97%，心律大约是 75-80\r\n\r\n如果你要问我最近的作息的话，那确实是相当奇怪了。差不多每天都是凌晨 4-5 点睡，这学期没有早课，所以基本中午 11 点左右起床。今天因为是假日，我是下午 1 点左右起床的，昨晚因为有一只大飞蛾非到我房间里面，我不太敢睡... 那隻飞蛾后来飞到浴室里面，我就赶紧把门关了假装它不存在... (然后那只飞蛾就不见了，浴室里再也没看到，房间里也没看到，我浴室的门下方有漏缝所以其实那只飞蛾可以从那边钻出来。我用纸箱稍微堵了一下，但可能有漏缝。我把牙刷拿出来了，但漱口杯没有)\r\n\r\n把上面写的那串东西丢给 chatGPT ，居然就回了个\"听起来挺吓人的。\"，就离谱。这 chatGPT 200%是变傻了。\r\nbing 跟我说有可能是血压有问题。llama3 8b instruct 说是过度呼吸或者血管迷走性晕厥，反正跟血压有关。llama3 70b 和 claude sonnet 也说是血压。 \r\n因为我的小米手环只能测心率和血氧，我就上亚马逊买了个血压仪，但就算我是高贵的 prime 会员，最快也要两天后才能送到。查了一下附近的药店买同样的血压仪价格直接翻倍，就离谱。 \r\n\r\n但高血压低血压这种事不是大多数发生在中老年吗？我不懂呀，我 tm 只是个才 20 岁出头的大学牲啊。不健身不抽烟不喝酒不吸毒，压力低吃的多作息混乱... 几年前做健检的时候是有查处过一次心率比正常人稍微慢那么一丢丢，但应该不是大问题...\r\n\r\n\r\n![]( https://i.imgur.com/V5GR35W.png) \r\n![]( https://i.imgur.com/NLO37wB.png) \r\n![]( https://i.imgur.com/xA0yGKx.png) \r\n![]( https://i.imgur.com/xacOJTh.png)\r\n![]( https://i.imgur.com/K8nTNIq.png)","content_rendered":"<p>可能有些标题党了，但我刚刚真的觉得我怕不是要折了。。。</p>\n<p>刚刚坐在椅子上，伸手去捡地上的东西，右手手臂根部扭了一小下，有点痛(是那种内痛，但其实也没感觉有多扭到，但就是痛了一小会。也没有特别痛，但比这个手伸到椅子下这个行为预期的痛感要稍微强一些，也要持久一些)，坐在椅子上扭几下手臂想缓一缓，结果感觉有贫血的感觉，越来越强烈，脑袋放空，身体没甚么力气，眼睛出现雪花，视野缩窄(不是变黑，而是单纯的看不太见，很难描述，反正就是很难看见东西但视野没变黑)，然后感觉有点恶心，有喘不上气的感觉，我感觉不太妙，有种之前运动过度，喘不上气，感觉恶心，感觉好象要死了的感觉，不是初中时正常运动的喘，而是上大学多年不运动后骑完脚踏车忽然停下来的那种喘不上气。很担心是不是要猝死了...</p>\n<p>我觉得不妙，就颤颤巍巍的从椅子上爬回床上躺下来，耳朵开始耳鸣，有很明显的嗡嗡叫，浴室里的抽风机的噪声很明显的变小了。我躺在床上尝试稳定心跳，不过我没有感觉心律不整。</p>\n<p>躺在床上一会之后，耳鸣消失了，那种贫血的感觉减少了，也喘的上气了，我又缓了一会儿，然后从床上起来，站在地上，又有了贫血的感觉，不过这种感觉是常见的站起来的贫血感，可能大约 10-20 秒左右就渐渐恢复视力了，脑袋也不会感觉很怪了。</p>\n<p>右手靠近嘎吱窝那边有一点点拉伤的感觉。</p>\n<p>坐下来想了想，心里有些后怕，肯定得做做身体检查之类的。</p>\n<p>忽然想到我好象应该测一下心律和血氧，不过很可惜，刚刚手上没有带手环，我是等状况好很多，甚至是写完刚刚那上面那堆东西之后才想起来要测血氧的。结果是 95-97%，心律大约是 75-80</p>\n<p>如果你要问我最近的作息的话，那确实是相当奇怪了。差不多每天都是凌晨 4-5 点睡，这学期没有早课，所以基本中午 11 点左右起床。今天因为是假日，我是下午 1 点左右起床的，昨晚因为有一只大飞蛾非到我房间里面，我不太敢睡... 那隻飞蛾后来飞到浴室里面，我就赶紧把门关了假装它不存在... (然后那只飞蛾就不见了，浴室里再也没看到，房间里也没看到，我浴室的门下方有漏缝所以其实那只飞蛾可以从那边钻出来。我用纸箱稍微堵了一下，但可能有漏缝。我把牙刷拿出来了，但漱口杯没有)</p>\n<p>把上面写的那串东西丢给 chatGPT ，居然就回了个\"听起来挺吓人的。\"，就离谱。这 chatGPT 200%是变傻了。\nbing 跟我说有可能是血压有问题。llama3 8b instruct 说是过度呼吸或者血管迷走性晕厥，反正跟血压有关。llama3 70b 和 claude sonnet 也说是血压。\n因为我的小米手环只能测心率和血氧，我就上亚马逊买了个血压仪，但就算我是高贵的 prime 会员，最快也要两天后才能送到。查了一下附近的药店买同样的血压仪价格直接翻倍，就离谱。 </p>\n<p>但高血压低血压这种事不是大多数发生在中老年吗？我不懂呀，我 tm 只是个才 20 岁出头的大学牲啊。不健身不抽烟不喝酒不吸毒，压力低吃的多作息混乱... 几年前做健检的时候是有查处过一次心率比正常人稍微慢那么一丢丢，但应该不是大问题...</p>\n<p><img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://i.imgur.com/V5GR35W.png\"/>\n<img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://i.imgur.com/NLO37wB.png\"/>\n<img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://i.imgur.com/xA0yGKx.png\"/>\n<img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://i.imgur.com/xacOJTh.png\"/>\n<img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://i.imgur.com/K8nTNIq.png\"/></p>\n","last_modified":1713661722,"replies":40,"id":1034302},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/a3c6/5c29/108_large.png?m=1691642161","name":"bb","avatar_normal":"https://cdn.v2ex.com/navatar/a3c6/5c29/108_normal.png?m=1691642161","title":"宽带症候群","url":"https://www.v2ex.com/go/bb","topics":15254,"footer":"","header":"网速很重要。比快更快。","title_alternative":"Broadband Symptom Complex","avatar_mini":"https://cdn.v2ex.com/navatar/a3c6/5c29/108_mini.png?m=1691642161","stars":7306,"aliases":[],"root":false,"id":108,"parent_node_name":"geek"},"member":{"id":551037,"username":"RageBubble","url":"https://www.v2ex.com/u/RageBubble","website":"","twitter":null,"psn":null,"github":null,"btc":null,"location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/avatar/3426/d183/551037_mini.png?m=1713672543","avatar_normal":"https://cdn.v2ex.com/avatar/3426/d183/551037_normal.png?m=1713672543","avatar_large":"https://cdn.v2ex.com/avatar/3426/d183/551037_large.png?m=1713672543","avatar_xlarge":"https://cdn.v2ex.com/avatar/3426/d183/551037_xlarge.png?m=1713672543","avatar_xxlarge":"https://cdn.v2ex.com/avatar/3426/d183/551037_xlarge.png?m=1713672543","avatar_xxxlarge":"https://cdn.v2ex.com/avatar/3426/d183/551037_xlarge.png?m=1713672543","created":1626416739,"last_modified":1713672543},"last_reply_by":"RageBubble","last_touched":1713705507,"title":"使用 clash 上网时应对 dns 泄露的心得","url":"https://www.v2ex.com/t/1034325","created":1713672957,"deleted":0,"content":"** 本人使用的是 clash verge rev 客户端，内核为 clash-meta （ mihomo ），windows 系统。\r\n\r\n# 一、\r\n\r\n最近我对上网隐私有些关注，虽然 vpn 可以有效保护隐私，但根据大家都知道的原因，vpn 上网在国内非常不方便，一个是无法根据域名和 ip 分流，另一个是 vpn 协议太容易被检测。所以我就在想，使用 clash 这类更符合国情的代理软件，怎么才能保证基本的隐私和信息安全呢？\r\n\r\n当然我只是追求基本的隐私保护，对于更高的安全需求，当然可以使用 tor 网络和虚拟机等，这些不在此次讨论范围，我主要以 ipleak.net 这类网站的结果作为判断标准。\r\n\r\nipleak.net 这类网站对泄露的检测可以分为三类：dns 泄露，ip 泄露，webrtc 泄露。\r\n\r\n只要使用 clash 上网，ip 泄露和 webrtc 泄露检测的结果都是代理服务器的 ip ，这两个没什么问题。但是对于 dns 泄露，我总是发现检测到的服务器列表里，除了国外的服务器，竟然还有很多是国内的 dns 服务器（包括本地 isp 运营商的），而在我的 clash 中（系统代理+规则模式），dns 字段里 nameserver 设置的是 8.8.8.8 ，fallback 设置的是国外加密 dns 。这有些不对劲，因国内的 dns 服务器不应该出现。\r\n\r\n这里说明一下，clash 的 dns 字段里，nameserver 就是主要使用的 dns 服务器，default-nameserver 是用来解析 nameserver 中的加密 dns （如果有加密 dns 的话），fallback 是备用的 dns 服务器，当 clash 要发出 dns 请求时，如果 fallback-filter 没有特别设置，会并发的向 nameserver 和 fallback 中的 dns 服务器发出解析请求，使用最早响应的那个结果。\r\n\r\n![mihomo 的 dns 解析流程]( https://i.imgur.com/OB9ER5A.png)\r\n\r\n言归正传，为了搞清楚这背后的原理，我做了很多测试，用到了 wireshark 抓包 53 端口的 dns 请求。发现 wireshark 中，电脑是按照 clash 配置正确地，并发地向 nameserver 和 fallback 中的 dns 服务器发出了域名解析请求（ ipleak 提供的测试域名），也收到了发回的响应，所以不太可能是 clash 或者 windows 系统的问题。\r\n\r\n我推测会不会是因为 nameserver 使用了明文 dns ，导致 dns 泄露，使得 isp 运营商的 dns 服务器也向测试域名发出了解析请求。于是我把配置里 nameserver 中的 dns 服务器全部替换成加密 dns （ DOH ），果然，再次检测后就再也没有中国 dns 服务器的踪迹了。\r\n\r\n需要说明的是，当 clash 使用系统代理+全局模式时，dns 请求会被 clash 加密并全部发往代理服务器，是让代理服务器的 dns 去解析域名，所以也不会出现国内 dns 服务器的踪迹。\r\n\r\n# 二、\r\n\r\n在解决了上面的 dns 泄露问题后，我又有了新的疑惑。\r\n\r\nclash 系统代理下的规则模式打开，通过 ipleak 网站测试，我发现明明 clash 日志中这些 ipleak 的测试域名最后都是命中了我规则中最后一行的 final （ final 的作用是兜底，当前面的所有规则都没有命中时，域名最后会命中 final 规则，我设置的是命中 final 规则后使用代理服务器）.本应该是通过代理服务器去解析域名，但得到的结果和全局模式下检测到的 dns 服务器不同，而且 wireshark 中会发现 clash 在通过 nameserver 和 fallback 发送域名解析请求.\r\n\r\n因为根据那张流程图，域名命中代理规则后应该直接让代理服务器去解析域名，电脑上的 clash 是不该发出这些请求的。这是为什么呢？原因只能是这些测试域名既通过了代理服务器解析域名，又通过 clash 的 dns 去解析域名。\r\n\r\n我又折腾了一下，到处上网查阅，仔细查看那张 dns 解析流程图，我注意到了“匹配到基于 ip 的规则”这几个字，瞬间恍然大悟。原来这是因为 clash 通过从上往下的方式一条条匹配规则，直到命中规则停止。这些测试域名的确命中了 final 规则，通过代理服务器的 dns 解析了域名。\r\n\r\n但是，在此之前，由于我的配置中有基于 ip 的规则存在，位置比 final 规则更靠前，并且没有加上 no- resolve 这个参数（ no-resolve 告诉 clash 在遇到基于 ip 的规则时，不要去单独解析域名），导致在遇到这些靠前的 ip 规则时，clash 会先通过 nameserver 和 fallback 中的服务器并发请求，以查看该域名是否符合该 ip 规则，不符合则继续往下匹配规则，最后命中了 final 规则。\r\n\r\n所以这就是为什么在我的电脑上，这些 ipleak 的测试域名既会先被 clash 上的 dns 解析，还会被代理服务器上的 dns 解析。而在全局模式下，因为不需要判断规则，这些自定义测试域名只会被代理服务器解析。\r\n\r\n# 三、\r\n\r\n说了这么多，我总结出来的经验是，要想避免 dns 泄漏，一个方法是在 nameserver 中使用加密 dns ，另一个是给配置中的 ip 规则后面加上 no- resolve ，告诉 clash 直接跳过，不要去解析域名。最后是 fallback-filter 中设置 geosite 为“!CN”等，这样在遇到国外的网站域名时，clash 不会再并发请求，只会使用 fallback 的 dns 服务器而不会使用 nameserver 中的服务器。可以看出，最后两个方法的思路都是不让 clash 向 nameserver 发送国外网站的 dns 请求。为了防止 dns 泄露，这三个方法我建议最好同时使用。\r\n\r\n上面就是最近这段时间我自己折腾后整理出来的心得，希望能帮助知道如何处理出现的 dns 泄露。不知道文中有没有什么错误，欢迎大家反馈。另外，我到现在也不太清楚图片中的 fake-ip 未命中和 fakeip-Direct 未命中是什么意思，该如何理解，希望有大佬解释一下。","content_rendered":"<p>** 本人使用的是 clash verge rev 客户端，内核为 clash-meta （ mihomo ），windows 系统。</p>\n<h1>一、</h1>\n<p>最近我对上网隐私有些关注，虽然 vpn 可以有效保护隐私，但根据大家都知道的原因，vpn 上网在国内非常不方便，一个是无法根据域名和 ip 分流，另一个是 vpn 协议太容易被检测。所以我就在想，使用 clash 这类更符合国情的代理软件，怎么才能保证基本的隐私和信息安全呢？</p>\n<p>当然我只是追求基本的隐私保护，对于更高的安全需求，当然可以使用 tor 网络和虚拟机等，这些不在此次讨论范围，我主要以 <a href=\"http://ipleak.net\" rel=\"nofollow\">ipleak.net</a> 这类网站的结果作为判断标准。</p>\n<p><a href=\"http://ipleak.net\" rel=\"nofollow\">ipleak.net</a> 这类网站对泄露的检测可以分为三类：dns 泄露，ip 泄露，webrtc 泄露。</p>\n<p>只要使用 clash 上网，ip 泄露和 webrtc 泄露检测的结果都是代理服务器的 ip ，这两个没什么问题。但是对于 dns 泄露，我总是发现检测到的服务器列表里，除了国外的服务器，竟然还有很多是国内的 dns 服务器（包括本地 isp 运营商的），而在我的 clash 中（系统代理+规则模式），dns 字段里 nameserver 设置的是 8.8.8.8 ，fallback 设置的是国外加密 dns 。这有些不对劲，因国内的 dns 服务器不应该出现。</p>\n<p>这里说明一下，clash 的 dns 字段里，nameserver 就是主要使用的 dns 服务器，default-nameserver 是用来解析 nameserver 中的加密 dns （如果有加密 dns 的话），fallback 是备用的 dns 服务器，当 clash 要发出 dns 请求时，如果 fallback-filter 没有特别设置，会并发的向 nameserver 和 fallback 中的 dns 服务器发出解析请求，使用最早响应的那个结果。</p>\n<p><img alt=\"mihomo 的 dns 解析流程\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://i.imgur.com/OB9ER5A.png\"/></p>\n<p>言归正传，为了搞清楚这背后的原理，我做了很多测试，用到了 wireshark 抓包 53 端口的 dns 请求。发现 wireshark 中，电脑是按照 clash 配置正确地，并发地向 nameserver 和 fallback 中的 dns 服务器发出了域名解析请求（ ipleak 提供的测试域名），也收到了发回的响应，所以不太可能是 clash 或者 windows 系统的问题。</p>\n<p>我推测会不会是因为 nameserver 使用了明文 dns ，导致 dns 泄露，使得 isp 运营商的 dns 服务器也向测试域名发出了解析请求。于是我把配置里 nameserver 中的 dns 服务器全部替换成加密 dns （ DOH ），果然，再次检测后就再也没有中国 dns 服务器的踪迹了。</p>\n<p>需要说明的是，当 clash 使用系统代理+全局模式时，dns 请求会被 clash 加密并全部发往代理服务器，是让代理服务器的 dns 去解析域名，所以也不会出现国内 dns 服务器的踪迹。</p>\n<h1>二、</h1>\n<p>在解决了上面的 dns 泄露问题后，我又有了新的疑惑。</p>\n<p>clash 系统代理下的规则模式打开，通过 ipleak 网站测试，我发现明明 clash 日志中这些 ipleak 的测试域名最后都是命中了我规则中最后一行的 final （ final 的作用是兜底，当前面的所有规则都没有命中时，域名最后会命中 final 规则，我设置的是命中 final 规则后使用代理服务器）.本应该是通过代理服务器去解析域名，但得到的结果和全局模式下检测到的 dns 服务器不同，而且 wireshark 中会发现 clash 在通过 nameserver 和 fallback 发送域名解析请求.</p>\n<p>因为根据那张流程图，域名命中代理规则后应该直接让代理服务器去解析域名，电脑上的 clash 是不该发出这些请求的。这是为什么呢？原因只能是这些测试域名既通过了代理服务器解析域名，又通过 clash 的 dns 去解析域名。</p>\n<p>我又折腾了一下，到处上网查阅，仔细查看那张 dns 解析流程图，我注意到了“匹配到基于 ip 的规则”这几个字，瞬间恍然大悟。原来这是因为 clash 通过从上往下的方式一条条匹配规则，直到命中规则停止。这些测试域名的确命中了 final 规则，通过代理服务器的 dns 解析了域名。</p>\n<p>但是，在此之前，由于我的配置中有基于 ip 的规则存在，位置比 final 规则更靠前，并且没有加上 no- resolve 这个参数（ no-resolve 告诉 clash 在遇到基于 ip 的规则时，不要去单独解析域名），导致在遇到这些靠前的 ip 规则时，clash 会先通过 nameserver 和 fallback 中的服务器并发请求，以查看该域名是否符合该 ip 规则，不符合则继续往下匹配规则，最后命中了 final 规则。</p>\n<p>所以这就是为什么在我的电脑上，这些 ipleak 的测试域名既会先被 clash 上的 dns 解析，还会被代理服务器上的 dns 解析。而在全局模式下，因为不需要判断规则，这些自定义测试域名只会被代理服务器解析。</p>\n<h1>三、</h1>\n<p>说了这么多，我总结出来的经验是，要想避免 dns 泄漏，一个方法是在 nameserver 中使用加密 dns ，另一个是给配置中的 ip 规则后面加上 no- resolve ，告诉 clash 直接跳过，不要去解析域名。最后是 fallback-filter 中设置 geosite 为“!CN”等，这样在遇到国外的网站域名时，clash 不会再并发请求，只会使用 fallback 的 dns 服务器而不会使用 nameserver 中的服务器。可以看出，最后两个方法的思路都是不让 clash 向 nameserver 发送国外网站的 dns 请求。为了防止 dns 泄露，这三个方法我建议最好同时使用。</p>\n<p>上面就是最近这段时间我自己折腾后整理出来的心得，希望能帮助知道如何处理出现的 dns 泄露。不知道文中有没有什么错误，欢迎大家反馈。另外，我到现在也不太清楚图片中的 fake-ip 未命中和 fakeip-Direct 未命中是什么意思，该如何理解，希望有大佬解释一下。</p>\n","last_modified":1713678801,"replies":37,"id":1034325},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/a3c6/5c29/108_large.png?m=1691642161","name":"bb","avatar_normal":"https://cdn.v2ex.com/navatar/a3c6/5c29/108_normal.png?m=1691642161","title":"宽带症候群","url":"https://www.v2ex.com/go/bb","topics":15254,"footer":"","header":"网速很重要。比快更快。","title_alternative":"Broadband Symptom Complex","avatar_mini":"https://cdn.v2ex.com/navatar/a3c6/5c29/108_mini.png?m=1691642161","stars":7306,"aliases":[],"root":false,"id":108,"parent_node_name":"geek"},"member":{"id":686080,"username":"povsister","url":"https://www.v2ex.com/u/povsister","website":"","twitter":null,"psn":null,"github":null,"btc":null,"location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/gravatar/ac48ac7e8d5e8ad7fdbdcc5cd3a9e435?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/ac48ac7e8d5e8ad7fdbdcc5cd3a9e435?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/ac48ac7e8d5e8ad7fdbdcc5cd3a9e435?s=73&d=retro","created":1713606648,"last_modified":1713632820},"last_reply_by":"asuraa","last_touched":1713659803,"title":"分享个人认为是旁路由透明代理的终极方案","url":"https://www.v2ex.com/t/1034317","created":1713669485,"deleted":0,"content":"<del>想来想去这玩意除了 GitHub 好像只有这里能讨论了</del>\r\n\r\n## 开头先叠个甲\r\n\r\n本方案，<del>配置繁琐完全不能开箱即用</del>，适合\r\n\r\n* 有一定网络基础知识（理解透明代理，路由表，防火墙等）\r\n* 有网关大流量吞吐需求（例如：BT/PT 下载）\r\n* 对家庭网络稳定性要求高（例如：主路由为纯粹电信级设备）\r\n* 有任意内网终端的科学需求（例如：坐在马桶上可以接力阅读电脑网页的内容）\r\n* 不希望在终端设备上做特殊设置（包括切换终端设备默认网关，切换 SSID 等）\r\n* 有异地组网需求的用户（远程 L2TP 回家，异地打洞组网等）\r\n\r\n以下内容不是完全教程向，仅会在关键步骤上予以解释说明。\r\n\r\n请在充分理解方案，并考虑自己需求后再进行尝试，有问题我会尽量解答。\r\n\r\n\r\n# 背景\r\n\r\n我个人需求是，\r\n科学只部署在旁路由上，\r\n主路由只承担拨号，转发，vlan ，子网划分等纯 L2/L3 的工作，追求极致稳定。\r\n内网设备不用安装代理软件，切换网关等。\r\n\r\n所以，基本就只有网关透明代理一种方案可选。\r\n\r\n但现有的两种基于透明代理的网关方案\r\n\r\n* 要么是流量全部经过代理（默认网关设置为旁路）\r\n* 要么是指定某一台内网设备全部过代理（这台设备的默认网关写旁路由）\r\n\r\n\r\n前者性能差，而且面对 BT/PT 等高连接数大流量的场景表现不好，而且经过代理后，NAT 状况可能会变的复杂。<del>当然你说加钱可以解决，但是我用不起 E5 当软路由网关这个确实是我的问题。</del>\r\n\r\n后者不够灵活，每次要使用的时候都需要设置，用完还得恢复，过于繁琐。<del>懒才是人类进步的第一动力</del>\r\n\r\n所以，我需要一种能够**按需分流至旁路由，全程无需人工介入的方案。**\r\n\r\n在这个方案中，主路由仍然负责大多数场景的流量处理，仅在命中某些规则的时候，按需转发流量至旁路处理。\r\n\r\n# 方案\r\n\r\n现有的代理软件尤其是 *Ray-core 系列，在规则定义上已经非常成熟好用，社区也有非常多的预定义的域名/IP 列表可以使用。\r\n\r\n但是，主路由作为电信设备，不能也不适合直接加载域名列表/进行流量嗅探之类的。\r\n\r\n这种设备唯一进行流量转发的依据就只有路由表/防火墙规则。\r\n\r\n所以，我需要将这些规则，适当翻译成电信设备能理解的路由表和防火墙规则。\r\n\r\n基于这个想法，我去年[在 v2fly 社区，提出了基于 DNS 嗅探的动态路由通告方案]( https://github.com/v2fly/v2ray-core/discussions/2686)，详细罗列了优缺点。\r\n有兴趣的可以去看看。\r\n\r\n<del>然后因为太忙鸽了大半年</del>\r\n\r\n**最近终于抽出时间来，按照自己的想法，手搓了一个对应的实现。**\r\n\r\n但在使用中也碰到一些小问题，[目前分享在 xray 社区讨论]( https://github.com/XTLS/Xray-core/discussions/3284)，里边也有一些配置的截图和基本解释。\r\n<del>感兴趣的可以来填坑</del>\r\n\r\n## 原理上主要还是三大块：\r\n\r\n* *Ray-core 接管 DNS 解析\r\n* 根据 DNS 解析结果+配置的路由决策，将路由决策结果转换为动态路由表，然后通告给主路由\r\n* 路由环路的预防和解决\r\n\r\n## 实现步骤为\r\n\r\n* 将主路由的 DNS 指向旁路由\r\n* 旁路由上的*Ray-core 接管内网 DNS 解析，并按照国内外域名做 DNS 分流请求： [Loyalsoldier/v2ray-rules-dat]( https://github.com/Loyalsoldier/v2ray-rules-dat/)\r\n* 根据域名和 DNS 解析结果，预先查询一次自身的路由规则（同样可以应用上面的规则集）\r\n* 如果该域名命中代理规则，则将对应的 IP 段通告给主路由，让主路由将对应流量转发过来\r\n* 如果不命中，则不做任何操作，返回 DNS 解析结果，对应流量仍由主路由处理\r\n\r\n\r\n## 这一套组合拳下来\r\n\r\n* **解决了 DNS 污染问题**：GFW 污染，以及同类型方案 FakeDNS 造成的污染\r\n* **避免网关性能问题**：流量按需转发，麻麻再也不怕我的旁路冒烟了\r\n* 避免全局透明代理可能的 NAT 问题\r\n* **内网设备完全无感**：无需 SSID 切换也无需划 vlan 换网关等操作\r\n* **网络稳定性问题**：不用担心科学爆炸导致断网\r\n* **自动容灾**：如果旁路 GG ，OSPF 探活会自动清理对应路由，实际只有 DNS 会受到影响，但并不致命\r\n\r\n\r\n# 设备需求\r\n\r\n## 主路由\r\n* 支持动态路由协议 OSPFv2 ，\r\n* 支持策略路由（用于防止路由环路）\r\n\r\n<del>推荐使用 ROS</del>\r\n\r\n## 旁路由\r\n* 可以运行 v2ray/xray 的 linux 机器，有一个网口即可\r\n\r\n我个人使用运行在 AIO 里的 Debian 12 \r\n\r\n<del>最后，拿一根网线把主路由和旁路由连接起来</del>\r\n\r\n理论上，如果你旁路由是跑在主路由里的虚拟机也没问题，但是你都主路由上软路由了，搞这个没意义的。\r\n\r\n# 关键步骤\r\n\r\n1. **旁路由** 配置 TPROXY 方式的*Ray-core 透明代理，接管 53 UDP 的 DNS 查询，接受 TCP/UDP 协议传入，linux 内核开启 ip 转发（开 ipv4 即可）\r\n2. **旁路由** *Ray-core 配置国内网站的 DNS 分流，建议使用 ISP DNS + 腾讯 DNS Backup 的形式（[这块 v2ray 有 bug 记得不要跟我一样再踩一遍]( https://github.com/v2fly/v2ray-core/issues/2981)），默认兜底 DNS 依据你个人喜欢，配 CF 或者谷歌都可以\r\n3. **旁路由** 配置*Ray-core 的路由分流规则，建议用 GFW 黑名单规则。\r\n4. **旁路由** nftable 配置 srcnat ，即所有转发 IP 报文要 masquerade**（重要）**\r\n5. **主路由** 开启 OSPFv2 动态路由协议：类型 broadcast ，area=0 ，HelloInterval=10s ，DeadInterval=40s ，RouterId 填主路由自己内网 IP 。\r\n6. **观察旁路由** 的*Ray-core 是否已经完成路由协议握手，即日志有没有 neighbor state Full 的字样，同时主路由上应该也能看到旁路由的邻接状态。\r\n7. **主路由** 将 DNS 服务器指向旁路由的 IP ，此时 DNS 请求应该全部由旁路的*Ray-core 进行处理。\r\n8. **主路由** 设置策略路由：来源为旁路由 IP 的报文直接经由 WAN 口发出**（用于配合配置 4 避免路由环路，以及直接发出透明代理不处理的流量，毕竟透明代理只处理 TCP/UDP 数据）**\r\n9. 如果有访问旁路的需求，则在相同策略路由表里，再添加一条到内网地址区间的静态路由即可。\r\n\r\n\r\n<del>这里贴不了图</del>，部分步骤的图示及配置可以参考[xray 社区的 discussion]( https://github.com/XTLS/Xray-core/discussions/3284)\r\n\r\n**可用代码目前在我 fork 的 v2ray 分支上。可以自行构建。**\r\n\r\n# FAQ\r\n\r\n**Q：主路由表不会爆炸吗**\r\n\r\nA：目前会以 DNS 解析结果的/24 掩码进行 OSPF 路由通告，且 2 小时内不访问的网段会自动清理。日常大概 200-300 条路由的样子。\r\n\r\n**Q：OSPF 收敛速度怎么样**\r\n\r\nA：啪的一下，很快啊。首次访问的情况下如果运气不好被 RST 了，立即刷新一下就能加载出来。\r\n\r\n**Q：eBPF DAE/paopaoGateway/mosdns 了解一下？**\r\n\r\nA：<del>别骂了别骂了，我要是买的起性能那么好的软路由做网关折腾这个干啥。</del>\r\n\r\n开个玩笑，DAE 是内核态加速，本质流量还是要从透明代理过。ppGW 基于 FakeDNS ，我接受不了污染问题。mosdns 仍然需要配合多个软件使用，我的哲学还是 simple is better <del>大道智减</del>，所以最终魔改了一个仅需要*Ray-core 就可以的方案。\r\n\r\n而且我也有 L2TP 回家，vlan 划分，子网转发/ACL ，远程异地网等一堆传统电信设备强项的需求。传统的硬件路由设备稳定性都还是要好不少的。<del>呜呜我开机 600 多天的 ROS 上周被我不小心重启了</del>\r\n\r\n**Q：碰到 IP 直连，DoH/DoT 的应用怎么办**\r\n\r\nA：<del>你怎么知道我被 telegram 的回旋镖打了。</del>\r\n\r\n提供 persistentRoute 配置，支持 geoip 或者手写静态路由，由*Ray-core 固定通告给主路由即可。\r\n\r\n这种 case 还是比较少，完全可以挨个打地鼠解决，会视情况考虑 persistentDomain 之类的配置。\r\n\r\n# One more thing\r\n\r\n除开 ROS 本身具有的 GRE/L2TP IPSec 这些组网工具外，XRay-core 透明代理玩的比较花的应该已经意识到了，通过透明代理这一桥梁，还可以将任意运行 XRay-core 的远程网络纳入自己的局域网（尤其是自己有公网地址的话），实现两侧网络的 L3 级别互通，再搭配 DNS 分流机制，具体用途就不细说了，一个字，香！","content_rendered":"<p><del>想来想去这玩意除了 GitHub 好像只有这里能讨论了</del></p>\n<h2>开头先叠个甲</h2>\n<p>本方案，<del>配置繁琐完全不能开箱即用</del>，适合</p>\n<ul>\n<li>有一定网络基础知识（理解透明代理，路由表，防火墙等）</li>\n<li>有网关大流量吞吐需求（例如：BT/PT 下载）</li>\n<li>对家庭网络稳定性要求高（例如：主路由为纯粹电信级设备）</li>\n<li>有任意内网终端的科学需求（例如：坐在马桶上可以接力阅读电脑网页的内容）</li>\n<li>不希望在终端设备上做特殊设置（包括切换终端设备默认网关，切换 SSID 等）</li>\n<li>有异地组网需求的用户（远程 L2TP 回家，异地打洞组网等）</li>\n</ul>\n<p>以下内容不是完全教程向，仅会在关键步骤上予以解释说明。</p>\n<p>请在充分理解方案，并考虑自己需求后再进行尝试，有问题我会尽量解答。</p>\n<h1>背景</h1>\n<p>我个人需求是，\n科学只部署在旁路由上，\n主路由只承担拨号，转发，vlan ，子网划分等纯 L2/L3 的工作，追求极致稳定。\n内网设备不用安装代理软件，切换网关等。</p>\n<p>所以，基本就只有网关透明代理一种方案可选。</p>\n<p>但现有的两种基于透明代理的网关方案</p>\n<ul>\n<li>要么是流量全部经过代理（默认网关设置为旁路）</li>\n<li>要么是指定某一台内网设备全部过代理（这台设备的默认网关写旁路由）</li>\n</ul>\n<p>前者性能差，而且面对 BT/PT 等高连接数大流量的场景表现不好，而且经过代理后，NAT 状况可能会变的复杂。<del>当然你说加钱可以解决，但是我用不起 E5 当软路由网关这个确实是我的问题。</del></p>\n<p>后者不够灵活，每次要使用的时候都需要设置，用完还得恢复，过于繁琐。<del>懒才是人类进步的第一动力</del></p>\n<p>所以，我需要一种能够<strong>按需分流至旁路由，全程无需人工介入的方案。</strong></p>\n<p>在这个方案中，主路由仍然负责大多数场景的流量处理，仅在命中某些规则的时候，按需转发流量至旁路处理。</p>\n<h1>方案</h1>\n<p>现有的代理软件尤其是 *Ray-core 系列，在规则定义上已经非常成熟好用，社区也有非常多的预定义的域名/IP 列表可以使用。</p>\n<p>但是，主路由作为电信设备，不能也不适合直接加载域名列表/进行流量嗅探之类的。</p>\n<p>这种设备唯一进行流量转发的依据就只有路由表/防火墙规则。</p>\n<p>所以，我需要将这些规则，适当翻译成电信设备能理解的路由表和防火墙规则。</p>\n<p>基于这个想法，我去年<a href=\"https://github.com/v2fly/v2ray-core/discussions/2686\" rel=\"nofollow\">在 v2fly 社区，提出了基于 DNS 嗅探的动态路由通告方案</a>，详细罗列了优缺点。\n有兴趣的可以去看看。</p>\n<p><del>然后因为太忙鸽了大半年</del></p>\n<p><strong>最近终于抽出时间来，按照自己的想法，手搓了一个对应的实现。</strong></p>\n<p>但在使用中也碰到一些小问题，<a href=\"https://github.com/XTLS/Xray-core/discussions/3284\" rel=\"nofollow\">目前分享在 xray 社区讨论</a>，里边也有一些配置的截图和基本解释。\n<del>感兴趣的可以来填坑</del></p>\n<h2>原理上主要还是三大块：</h2>\n<ul>\n<li>*Ray-core 接管 DNS 解析</li>\n<li>根据 DNS 解析结果+配置的路由决策，将路由决策结果转换为动态路由表，然后通告给主路由</li>\n<li>路由环路的预防和解决</li>\n</ul>\n<h2>实现步骤为</h2>\n<ul>\n<li>将主路由的 DNS 指向旁路由</li>\n<li>旁路由上的*Ray-core 接管内网 DNS 解析，并按照国内外域名做 DNS 分流请求： <a href=\"https://github.com/Loyalsoldier/v2ray-rules-dat/\" rel=\"nofollow\">Loyalsoldier/v2ray-rules-dat</a></li>\n<li>根据域名和 DNS 解析结果，预先查询一次自身的路由规则（同样可以应用上面的规则集）</li>\n<li>如果该域名命中代理规则，则将对应的 IP 段通告给主路由，让主路由将对应流量转发过来</li>\n<li>如果不命中，则不做任何操作，返回 DNS 解析结果，对应流量仍由主路由处理</li>\n</ul>\n<h2>这一套组合拳下来</h2>\n<ul>\n<li><strong>解决了 DNS 污染问题</strong>：GFW 污染，以及同类型方案 FakeDNS 造成的污染</li>\n<li><strong>避免网关性能问题</strong>：流量按需转发，麻麻再也不怕我的旁路冒烟了</li>\n<li>避免全局透明代理可能的 NAT 问题</li>\n<li><strong>内网设备完全无感</strong>：无需 SSID 切换也无需划 vlan 换网关等操作</li>\n<li><strong>网络稳定性问题</strong>：不用担心科学爆炸导致断网</li>\n<li><strong>自动容灾</strong>：如果旁路 GG ，OSPF 探活会自动清理对应路由，实际只有 DNS 会受到影响，但并不致命</li>\n</ul>\n<h1>设备需求</h1>\n<h2>主路由</h2>\n<ul>\n<li>支持动态路由协议 OSPFv2 ，</li>\n<li>支持策略路由（用于防止路由环路）</li>\n</ul>\n<p><del>推荐使用 ROS</del></p>\n<h2>旁路由</h2>\n<ul>\n<li>可以运行 v2ray/xray 的 linux 机器，有一个网口即可</li>\n</ul>\n<p>我个人使用运行在 AIO 里的 Debian 12 </p>\n<p><del>最后，拿一根网线把主路由和旁路由连接起来</del></p>\n<p>理论上，如果你旁路由是跑在主路由里的虚拟机也没问题，但是你都主路由上软路由了，搞这个没意义的。</p>\n<h1>关键步骤</h1>\n<ol>\n<li><strong>旁路由</strong> 配置 TPROXY 方式的*Ray-core 透明代理，接管 53 UDP 的 DNS 查询，接受 TCP/UDP 协议传入，linux 内核开启 ip 转发（开 ipv4 即可）</li>\n<li><strong>旁路由</strong> *Ray-core 配置国内网站的 DNS 分流，建议使用 ISP DNS + 腾讯 DNS Backup 的形式（<a href=\"https://github.com/v2fly/v2ray-core/issues/2981\" rel=\"nofollow\">这块 v2ray 有 bug 记得不要跟我一样再踩一遍</a>），默认兜底 DNS 依据你个人喜欢，配 CF 或者谷歌都可以</li>\n<li><strong>旁路由</strong> 配置*Ray-core 的路由分流规则，建议用 GFW 黑名单规则。</li>\n<li><strong>旁路由</strong> nftable 配置 srcnat ，即所有转发 IP 报文要 masquerade<strong>（重要）</strong></li>\n<li><strong>主路由</strong> 开启 OSPFv2 动态路由协议：类型 broadcast ，area=0 ，HelloInterval=10s ，DeadInterval=40s ，RouterId 填主路由自己内网 IP 。</li>\n<li><strong>观察旁路由</strong> 的*Ray-core 是否已经完成路由协议握手，即日志有没有 neighbor state Full 的字样，同时主路由上应该也能看到旁路由的邻接状态。</li>\n<li><strong>主路由</strong> 将 DNS 服务器指向旁路由的 IP ，此时 DNS 请求应该全部由旁路的*Ray-core 进行处理。</li>\n<li><strong>主路由</strong> 设置策略路由：来源为旁路由 IP 的报文直接经由 WAN 口发出<strong>（用于配合配置 4 避免路由环路，以及直接发出透明代理不处理的流量，毕竟透明代理只处理 TCP/UDP 数据）</strong></li>\n<li>如果有访问旁路的需求，则在相同策略路由表里，再添加一条到内网地址区间的静态路由即可。</li>\n</ol>\n<p><del>这里贴不了图</del>，部分步骤的图示及配置可以参考<a href=\"https://github.com/XTLS/Xray-core/discussions/3284\" rel=\"nofollow\">xray 社区的 discussion</a></p>\n<p><strong>可用代码目前在我 fork 的 v2ray 分支上。可以自行构建。</strong></p>\n<h1>FAQ</h1>\n<p><strong>Q：主路由表不会爆炸吗</strong></p>\n<p>A：目前会以 DNS 解析结果的/24 掩码进行 OSPF 路由通告，且 2 小时内不访问的网段会自动清理。日常大概 200-300 条路由的样子。</p>\n<p><strong>Q：OSPF 收敛速度怎么样</strong></p>\n<p>A：啪的一下，很快啊。首次访问的情况下如果运气不好被 RST 了，立即刷新一下就能加载出来。</p>\n<p><strong>Q：eBPF DAE/paopaoGateway/mosdns 了解一下？</strong></p>\n<p>A：<del>别骂了别骂了，我要是买的起性能那么好的软路由做网关折腾这个干啥。</del></p>\n<p>开个玩笑，DAE 是内核态加速，本质流量还是要从透明代理过。ppGW 基于 FakeDNS ，我接受不了污染问题。mosdns 仍然需要配合多个软件使用，我的哲学还是 simple is better <del>大道智减</del>，所以最终魔改了一个仅需要*Ray-core 就可以的方案。</p>\n<p>而且我也有 L2TP 回家，vlan 划分，子网转发/ACL ，远程异地网等一堆传统电信设备强项的需求。传统的硬件路由设备稳定性都还是要好不少的。<del>呜呜我开机 600 多天的 ROS 上周被我不小心重启了</del></p>\n<p><strong>Q：碰到 IP 直连，DoH/DoT 的应用怎么办</strong></p>\n<p>A：<del>你怎么知道我被 telegram 的回旋镖打了。</del></p>\n<p>提供 persistentRoute 配置，支持 geoip 或者手写静态路由，由*Ray-core 固定通告给主路由即可。</p>\n<p>这种 case 还是比较少，完全可以挨个打地鼠解决，会视情况考虑 persistentDomain 之类的配置。</p>\n<h1>One more thing</h1>\n<p>除开 ROS 本身具有的 GRE/L2TP IPSec 这些组网工具外，XRay-core 透明代理玩的比较花的应该已经意识到了，通过透明代理这一桥梁，还可以将任意运行 XRay-core 的远程网络纳入自己的局域网（尤其是自己有公网地址的话），实现两侧网络的 L3 级别互通，再搭配 DNS 分流机制，具体用途就不细说了，一个字，香！</p>\n","last_modified":1713669485,"replies":29,"id":1034317},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/9f61/408e/56_large.png?m=1628212285","name":"internet","avatar_normal":"https://cdn.v2ex.com/navatar/9f61/408e/56_normal.png?m=1628212285","title":"互联网","url":"https://www.v2ex.com/go/internet","topics":3659,"footer":"","header":"In Internet we trust","title_alternative":"Internet","avatar_mini":"https://cdn.v2ex.com/navatar/9f61/408e/56_mini.png?m=1628212285","stars":1090,"aliases":[],"root":false,"id":56,"parent_node_name":"computer"},"member":{"id":60691,"username":"justincnn","url":"https://www.v2ex.com/u/justincnn","website":"","twitter":null,"psn":null,"github":null,"btc":null,"location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/avatar/387f/986a/60691_mini.png?m=1689252237","avatar_normal":"https://cdn.v2ex.com/avatar/387f/986a/60691_normal.png?m=1689252237","avatar_large":"https://cdn.v2ex.com/avatar/387f/986a/60691_large.png?m=1689252237","created":1397875323,"last_modified":1689252237},"last_reply_by":"huhexian","last_touched":1713704717,"title":"大家有在网上配眼镜么，有什么店铺可以推荐？","url":"https://www.v2ex.com/t/1034304","created":1713662006,"deleted":0,"content":"时常有看到 v 友在网上配镜，大家都是去哪里的？\r\n\r\npdd ？ smzdm 上推荐的 jd 第三方都是商家在自推，感觉和 pdd 也没有什么区别\r\n\r\n大家有什么推荐的么？先谢谢了\r\n\r\n![]( https://s2.loli.net/2024/04/14/z36OKu2WtXS1Ny5.png)","content_rendered":"<p>时常有看到 v 友在网上配镜，大家都是去哪里的？</p>\n<p>pdd ？ smzdm 上推荐的 jd 第三方都是商家在自推，感觉和 pdd 也没有什么区别</p>\n<p>大家有什么推荐的么？先谢谢了</p>\n<p><img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://s2.loli.net/2024/04/14/z36OKu2WtXS1Ny5.png\"/></p>\n","last_modified":1713662006,"replies":24,"id":1034304},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":218070,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340","stars":4148,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"id":589056,"username":"htxy1985","url":"https://www.v2ex.com/u/htxy1985","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/gravatar/78765bd5e63fe8a815cd95a3c6306110?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/78765bd5e63fe8a815cd95a3c6306110?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/78765bd5e63fe8a815cd95a3c6306110?s=73&d=retro","created":1658717346,"last_modified":1712642591},"last_reply_by":"wangweei","last_touched":1713698857,"title":"AlibabaCloud/Opencloud/centos8/Ubuntu/Debian 各自有什么优势","url":"https://www.v2ex.com/t/1034311","created":1713666841,"deleted":0,"content":"新手想避避坑，问 Ai 就是说各有优势，有没有实际有使用体会的兄弟指点一下的，感谢","content_rendered":"新手想避避坑，问 Ai 就是说各有优势，有没有实际有使用体会的兄弟指点一下的，感谢","last_modified":1713666841,"replies":21,"id":1034311},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/9c3b/1830/1113_large.png?m=1652442934","name":"crypto","avatar_normal":"https://cdn.v2ex.com/navatar/9c3b/1830/1113_normal.png?m=1652442934","title":"加密货币","url":"https://www.v2ex.com/go/crypto","topics":124,"footer":"","header":"","title_alternative":"Crypto","avatar_mini":"https://cdn.v2ex.com/navatar/9c3b/1830/1113_mini.png?m=1652442934","stars":451,"aliases":[],"root":false,"id":1113,"parent_node_name":"blockchain"},"member":{"id":233305,"username":"yinchunde","url":"https://www.v2ex.com/u/yinchunde","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/gravatar/a6bc0b048f57b08aee4f3e1ed3b46cd2?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/a6bc0b048f57b08aee4f3e1ed3b46cd2?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/a6bc0b048f57b08aee4f3e1ed3b46cd2?s=73&d=retro","created":1496223943,"last_modified":1496223943},"last_reply_by":"OutOfMemoryError","last_touched":1713686566,"title":"真诚请教， U 换成 Wise，再转回 RMB，是否有风险？","url":"https://www.v2ex.com/t/1034314","created":1713668509,"deleted":0,"content":"目前发现 U 可以用比较大的汇率换成 Wise ，Wise 再换成 RMB 损失也不大，这样就会有额外的收益。\r\n虽然知道天山不会掉馅饼，但因为收益超过 50%，并且平时都是几千块的额度，就有试试的打算。\r\n但我从谷歌上没找到更多有效的信息，尚不确定这样操作是不是会被卷进洗钱的漩涡里。\r\n真诚请教～","content_rendered":"<p>目前发现 U 可以用比较大的汇率换成 Wise ，Wise 再换成 RMB 损失也不大，这样就会有额外的收益。\n虽然知道天山不会掉馅饼，但因为收益超过 50%，并且平时都是几千块的额度，就有试试的打算。\n但我从谷歌上没找到更多有效的信息，尚不确定这样操作是不是会被卷进洗钱的漩涡里。\n真诚请教～</p>\n","last_modified":1713679357,"replies":21,"id":1034314},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c74d/97b0/16_large.png?m=1707293361","name":"share","avatar_normal":"https://cdn.v2ex.com/navatar/c74d/97b0/16_normal.png?m=1707293361","title":"分享发现","url":"https://www.v2ex.com/go/share","topics":40997,"footer":"","header":"分享你看到的好玩的，有信息量的，欢迎从这里获取灵感。","title_alternative":"Share","avatar_mini":"https://cdn.v2ex.com/navatar/c74d/97b0/16_mini.png?m=1707293361","stars":5765,"aliases":[],"root":false,"id":16,"parent_node_name":"v2ex"},"member":{"id":685850,"username":"angeliaxia80902","url":"https://www.v2ex.com/u/angeliaxia80902","website":"","twitter":null,"psn":null,"github":null,"btc":null,"location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/avatar/bdfa/25f9/685850_mini.png?m=1713663360","avatar_normal":"https://cdn.v2ex.com/avatar/bdfa/25f9/685850_normal.png?m=1713663360","avatar_large":"https://cdn.v2ex.com/avatar/bdfa/25f9/685850_large.png?m=1713663360","avatar_xlarge":"https://cdn.v2ex.com/avatar/bdfa/25f9/685850_xlarge.png?m=1713663360","avatar_xxlarge":"https://cdn.v2ex.com/avatar/bdfa/25f9/685850_xlarge.png?m=1713663360","avatar_xxxlarge":"https://cdn.v2ex.com/avatar/bdfa/25f9/685850_xlarge.png?m=1713663360","created":1713485384,"last_modified":1713663360},"last_reply_by":"wolfan","last_touched":1713665952,"title":"我在北美无法注册新的 QQ 号，旧的也无法找回了，现在需要用 QQ，这里在国内的朋友帮我注册一个，或者卖我一个也行，拜托拜托，谢谢各位哥哥姐姐，弟弟妹妹们，帮帮孩子吧😭","url":"https://www.v2ex.com/t/1034294","created":1713657809,"deleted":0,"content":"我在北美无法注册新的 QQ 号，旧的也无法找回了，现在需要用 QQ ，这里在国内的朋友帮我注册一个，或者卖我一个也行，拜托拜托，谢谢各位哥哥姐姐，弟弟妹妹们，帮帮孩子吧😭\r\n如果有卖的可以先邮箱联系 reginaxia062@gmail.com\r\n昨天在 Google 搜卖 QQ 的商家，提供的微信，加的时候提示什么诈骗号，给我的微信也整封锁了！！！！郁闷了","content_rendered":"<p>我在北美无法注册新的 QQ 号，旧的也无法找回了，现在需要用 QQ ，这里在国内的朋友帮我注册一个，或者卖我一个也行，拜托拜托，谢谢各位哥哥姐姐，弟弟妹妹们，帮帮孩子吧😭\n如果有卖的可以先邮箱联系 <a href=\"mailto:reginaxia062@gmail.com\">reginaxia062@gmail.com</a>\n昨天在 Google 搜卖 QQ 的商家，提供的微信，加的时候提示什么诈骗号，给我的微信也整封锁了！！！！郁闷了</p>\n","last_modified":1713657809,"replies":20,"id":1034294},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/a3c6/5c29/108_large.png?m=1691642161","name":"bb","avatar_normal":"https://cdn.v2ex.com/navatar/a3c6/5c29/108_normal.png?m=1691642161","title":"宽带症候群","url":"https://www.v2ex.com/go/bb","topics":15254,"footer":"","header":"网速很重要。比快更快。","title_alternative":"Broadband Symptom Complex","avatar_mini":"https://cdn.v2ex.com/navatar/a3c6/5c29/108_mini.png?m=1691642161","stars":7305,"aliases":[],"root":false,"id":108,"parent_node_name":"geek"},"member":{"id":414419,"username":"luckykelan","url":"https://www.v2ex.com/u/luckykelan","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/gravatar/2fd64e35c691555ab16737f6265ac41d?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/2fd64e35c691555ab16737f6265ac41d?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/2fd64e35c691555ab16737f6265ac41d?s=73&d=retro","created":1558438103,"last_modified":1558438103},"last_reply_by":"longsays","last_touched":1713680375,"title":"阿里云 OSS 可以套一层 cloudflare 的 cdn 实现海外访问吗？","url":"https://www.v2ex.com/t/1034301","created":1713661441,"deleted":0,"content":"有大概 2T 的图片，想同时实现国内和海外用户的浏览和下载，国内和海外的访问量是差不多的，请问下面两种方式哪种更合理一些？我对 cloudflare 还是久仰大名的状态，没有实际使用过...\r\n1. 2T 图片存储在阿里云 OSS ，套一层 cloudflare 的 cdn 实现海外访问\r\n2. 2T 图片存储在 cloudflare 的 R2 中，套一层阿里云的 DCND 实现国内访问","content_rendered":"<p>有大概 2T 的图片，想同时实现国内和海外用户的浏览和下载，国内和海外的访问量是差不多的，请问下面两种方式哪种更合理一些？我对 cloudflare 还是久仰大名的状态，没有实际使用过...</p>\n<ol>\n<li>2T 图片存储在阿里云 OSS ，套一层 cloudflare 的 cdn 实现海外访问</li>\n<li>2T 图片存储在 cloudflare 的 R2 中，套一层阿里云的 DCND 实现国内访问</li>\n</ol>\n","last_modified":1713678899,"replies":18,"id":1034301},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":218070,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340","stars":4148,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"id":493197,"username":"Liftman","url":"https://www.v2ex.com/u/Liftman","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/avatar/ee4a/3666/493197_mini.png?m=1703416189","avatar_normal":"https://cdn.v2ex.com/avatar/ee4a/3666/493197_normal.png?m=1703416189","avatar_large":"https://cdn.v2ex.com/avatar/ee4a/3666/493197_large.png?m=1703416189","avatar_xlarge":"https://cdn.v2ex.com/avatar/ee4a/3666/493197_xlarge.png?m=1703416189","avatar_xxlarge":"https://cdn.v2ex.com/avatar/ee4a/3666/493197_xlarge.png?m=1703416189","avatar_xxxlarge":"https://cdn.v2ex.com/avatar/ee4a/3666/493197_xlarge.png?m=1703416189","created":1591261248,"last_modified":1703416189},"last_reply_by":"vecZro","last_touched":1713706351,"title":"有什么室内养老爱好可以推荐的吗？","url":"https://www.v2ex.com/t/1034413","created":1713702781,"deleted":0,"content":"这两年生活和物质极度稳定，也没有结婚之类的负能量需求。基本上休闲的时间基本上就是。养鱼，玩玩块根，最近开始入门盆景了。\r\n\r\n而且感觉现在植物越买越多。最近半年买了一连排的植物。都已经开始考虑租个地了。正经的当成爱好培养了。毕竟写字楼里面的环境真不合适。\r\n\r\n但是植物和养鱼大部分时间是不需要参与的。所以还有什么适合年龄大的“室内”爱好吗。","content_rendered":"<p>这两年生活和物质极度稳定，也没有结婚之类的负能量需求。基本上休闲的时间基本上就是。养鱼，玩玩块根，最近开始入门盆景了。</p>\n<p>而且感觉现在植物越买越多。最近半年买了一连排的植物。都已经开始考虑租个地了。正经的当成爱好培养了。毕竟写字楼里面的环境真不合适。</p>\n<p>但是植物和养鱼大部分时间是不需要参与的。所以还有什么适合年龄大的“室内”爱好吗。</p>\n","last_modified":1713702781,"replies":14,"id":1034413},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/41ae/36ec/417_large.png?m=1625409262","name":"software","avatar_normal":"https://cdn.v2ex.com/navatar/41ae/36ec/417_normal.png?m=1625409262","title":"软件","url":"https://www.v2ex.com/go/software","topics":764,"footer":"","header":"关于软件使用的日常讨论","title_alternative":"Software","avatar_mini":"https://cdn.v2ex.com/navatar/41ae/36ec/417_mini.png?m=1625409262","stars":317,"aliases":[],"root":false,"id":417,"parent_node_name":"computer"},"member":{"id":550562,"username":"hekouwang123","url":"https://www.v2ex.com/u/hekouwang123","website":"","twitter":null,"psn":null,"github":null,"btc":null,"location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/gravatar/4bc866d6b02f79a26ad94e602ceb3dc5?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/4bc866d6b02f79a26ad94e602ceb3dc5?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/4bc866d6b02f79a26ad94e602ceb3dc5?s=73&d=retro","created":1625916021,"last_modified":1625916021},"last_reply_by":"shizhibuyu2023","last_touched":1713680247,"title":"最喜欢 obsidian 的这几个功能 2","url":"https://www.v2ex.com/t/1034313","created":1713667921,"deleted":0,"content":"承接上周，上一篇分析了一些其他笔记软件的功能和不足以及发现 obsidian 的契机，这期重点说一下几个功能\r\n。\r\n\r\n# 双链\r\n\r\n双链是最近几年比较火的概念。双链全称是双向链接。\r\n\r\n正常我们在网页上可以看到一些链接可以点进去，例如百度百科里的周杰伦介绍，\r\n\r\n这个页面上现在有个淡江中学，这是一个链接，我们可以点进去，\r\n\r\n可以看到这样的效果，是关于淡江中学的介绍，看上去很完美对不对，我们把周杰伦当做一个笔记，淡江中学当做一个笔记，如果我们想知道哪些笔记里引用了这个淡江中学，传统的单链的笔记就很难做到了\r\n\r\n双链笔记的好处是，它可以链接回来，这样两个页面可以直接关联起来。\r\n\r\n我们针对淡江中学的笔记，会看到具体有哪些笔记会引用到这个，自然也就帮助我们归类了，原来胡德夫和周杰伦是校友，对于其他的科目知识也一样，无形中帮助我们对知识进行了归纳和整理\r\n\r\n这里不得不提起卡片笔记法了，以前我们笔记的结构就是文件夹-文件夹 1-文件夹 2 ，这样层层嵌套的树状的结构，层次很清楚，但是也限制了范围，归类也会有问题，当你有一个厨房美食的文件夹，有一个植物的文件夹，而你新建一个胡萝卜的笔记时， 该放在哪个文件夹下呢？而卡片笔记法的通过双链这种，不需要归纳，也不需要特定的文件夹，直接通过连接的形式自动连接每篇笔记，你所要做的仅仅是加上双中括号。\r\n\r\n# 关系图谱\r\n\r\n关系图谱可谓是 obsidian 的特色功能，这个一直是它宣传的重点以及亮点，obsidian 宣传说是把它打造成人的第二大脑。我以前很喜欢看《中国诗词大会》，里面有个环节是飞花令，经常出的题目是说出一联含春的诗词，然后选手就会轮流说出，最后谁说不出来就算失败。按照这个思路，我做了一个关于古诗词的关系图谱，在每一篇笔记里摘录下古诗词，将诗词中我觉得可以作为链接或者有意向的词语都作为双链标记，最后就形成了这样的效果。\r\n\r\n当我找酒的时候，就会把关联酒的诗词都连接在一起，当我想看白居易有哪些诗的时候，只要看一下这个关系图谱，就能很快找到关联。而且这个笔记你做的越多，这个图谱的信息量就会越大，当积累到一定量的时候，我觉得它是完全可以当做第二大脑来用的。\r\n# dataview\r\n\r\ndataview 是一种 js 语法，它的功能非常的强大，我目前用它主要做一些统计的功能。\r\n\r\n针对看过的电影，做了一个电影记录墙，这个看过的电影都会展示在这里，这里会展示电影的名称，看过的时间，上映的时间，导演，豆瓣评分等等，还可以根据自己想要的顺序排序，我这里是根据豆瓣评分从高到低排序的。\r\n\r\n第二个是根据论坛里大神提供的脚本，我稍微修改了一下样式，做了一个可视化的进度条，通过加减按钮可以动态的记录下自己完成某件事的一个目标，每天进步一点点。\r\n\r\n# 丰富的插件       \r\n\r\n虽然 obsidian 这个软件是闭源的，但是网上有各种大神为它写了丰富的第三方插件，而且官方的中文论坛十分活跃，有什么想法或者 bug 都可以反馈到论坛里，这让我觉得十分安心。\r\n\r\ndataview 在上面说过了，其他目前用到的第三方的插件有这些：\r\n\r\n## File Explorer Note Count Settings\r\n\r\n这个插件主要是统计每个文件夹有多少笔记，我的文字记录是这样的效果\r\n\r\n## Recent Files List\r\n\r\n顾名思义，这是可以看到最近打开的文件，如果你想看一下最近有哪些改动，或者是做了写了哪些笔记，那么这个插件将十分有用。\r\n\r\n## Remember cursor position\r\n\r\n记住编辑位置，当你有一篇很长的笔记时，如果关掉再打开，那么你需要一直拖动滚动条，直到找到你上次编辑的位置，十分不方便，有了这个插件，它可以在你打开笔记的时候，迅速定位到你上次编辑的位置，继续你的笔记。\r\n\r\n## Vault Statistics\r\n\r\n我理解的 vault 就是单独的一个笔记本，这个插件会统计这个 vault 里总共有多少篇笔记，多少个附件，多少个文件，当你打开具体某一个笔记时，它还会统计当前笔记的文字数量，字符数量。\r\n\r\n主要用的插件就是这些，我个人认为插件在精而不是在多，之前看到有人安装了几百个插件，不但很少用到，而且还会拖慢打开软件的速度。\r\n\r\n# 不足\r\n\r\nobsisian 原始的功能比较单一，很多功能要配合插件完成，而插件需要一定的技术手段才能获取，这对于小白来说实在是件难事。","content_rendered":"<p>承接上周，上一篇分析了一些其他笔记软件的功能和不足以及发现 obsidian 的契机，这期重点说一下几个功能\n。</p>\n<h1>双链</h1>\n<p>双链是最近几年比较火的概念。双链全称是双向链接。</p>\n<p>正常我们在网页上可以看到一些链接可以点进去，例如百度百科里的周杰伦介绍，</p>\n<p>这个页面上现在有个淡江中学，这是一个链接，我们可以点进去，</p>\n<p>可以看到这样的效果，是关于淡江中学的介绍，看上去很完美对不对，我们把周杰伦当做一个笔记，淡江中学当做一个笔记，如果我们想知道哪些笔记里引用了这个淡江中学，传统的单链的笔记就很难做到了</p>\n<p>双链笔记的好处是，它可以链接回来，这样两个页面可以直接关联起来。</p>\n<p>我们针对淡江中学的笔记，会看到具体有哪些笔记会引用到这个，自然也就帮助我们归类了，原来胡德夫和周杰伦是校友，对于其他的科目知识也一样，无形中帮助我们对知识进行了归纳和整理</p>\n<p>这里不得不提起卡片笔记法了，以前我们笔记的结构就是文件夹-文件夹 1-文件夹 2 ，这样层层嵌套的树状的结构，层次很清楚，但是也限制了范围，归类也会有问题，当你有一个厨房美食的文件夹，有一个植物的文件夹，而你新建一个胡萝卜的笔记时， 该放在哪个文件夹下呢？而卡片笔记法的通过双链这种，不需要归纳，也不需要特定的文件夹，直接通过连接的形式自动连接每篇笔记，你所要做的仅仅是加上双中括号。</p>\n<h1>关系图谱</h1>\n<p>关系图谱可谓是 obsidian 的特色功能，这个一直是它宣传的重点以及亮点，obsidian 宣传说是把它打造成人的第二大脑。我以前很喜欢看《中国诗词大会》，里面有个环节是飞花令，经常出的题目是说出一联含春的诗词，然后选手就会轮流说出，最后谁说不出来就算失败。按照这个思路，我做了一个关于古诗词的关系图谱，在每一篇笔记里摘录下古诗词，将诗词中我觉得可以作为链接或者有意向的词语都作为双链标记，最后就形成了这样的效果。</p>\n<p>当我找酒的时候，就会把关联酒的诗词都连接在一起，当我想看白居易有哪些诗的时候，只要看一下这个关系图谱，就能很快找到关联。而且这个笔记你做的越多，这个图谱的信息量就会越大，当积累到一定量的时候，我觉得它是完全可以当做第二大脑来用的。</p>\n<h1>dataview</h1>\n<p>dataview 是一种 js 语法，它的功能非常的强大，我目前用它主要做一些统计的功能。</p>\n<p>针对看过的电影，做了一个电影记录墙，这个看过的电影都会展示在这里，这里会展示电影的名称，看过的时间，上映的时间，导演，豆瓣评分等等，还可以根据自己想要的顺序排序，我这里是根据豆瓣评分从高到低排序的。</p>\n<p>第二个是根据论坛里大神提供的脚本，我稍微修改了一下样式，做了一个可视化的进度条，通过加减按钮可以动态的记录下自己完成某件事的一个目标，每天进步一点点。</p>\n<h1>丰富的插件</h1>\n<p>虽然 obsidian 这个软件是闭源的，但是网上有各种大神为它写了丰富的第三方插件，而且官方的中文论坛十分活跃，有什么想法或者 bug 都可以反馈到论坛里，这让我觉得十分安心。</p>\n<p>dataview 在上面说过了，其他目前用到的第三方的插件有这些：</p>\n<h2>File Explorer Note Count Settings</h2>\n<p>这个插件主要是统计每个文件夹有多少笔记，我的文字记录是这样的效果</p>\n<h2>Recent Files List</h2>\n<p>顾名思义，这是可以看到最近打开的文件，如果你想看一下最近有哪些改动，或者是做了写了哪些笔记，那么这个插件将十分有用。</p>\n<h2>Remember cursor position</h2>\n<p>记住编辑位置，当你有一篇很长的笔记时，如果关掉再打开，那么你需要一直拖动滚动条，直到找到你上次编辑的位置，十分不方便，有了这个插件，它可以在你打开笔记的时候，迅速定位到你上次编辑的位置，继续你的笔记。</p>\n<h2>Vault Statistics</h2>\n<p>我理解的 vault 就是单独的一个笔记本，这个插件会统计这个 vault 里总共有多少篇笔记，多少个附件，多少个文件，当你打开具体某一个笔记时，它还会统计当前笔记的文字数量，字符数量。</p>\n<p>主要用的插件就是这些，我个人认为插件在精而不是在多，之前看到有人安装了几百个插件，不但很少用到，而且还会拖慢打开软件的速度。</p>\n<h1>不足</h1>\n<p>obsisian 原始的功能比较单一，很多功能要配合插件完成，而插件需要一定的技术手段才能获取，这对于小白来说实在是件难事。</p>\n","last_modified":1713667921,"replies":13,"id":1034313},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/4ea0/6fbc/770_large.png?m=1695370146","name":"career","avatar_normal":"https://cdn.v2ex.com/navatar/4ea0/6fbc/770_normal.png?m=1695370146","title":"职场话题","url":"https://www.v2ex.com/go/career","topics":16833,"footer":"","header":"这里，我们聊聊那些工作中遇到的开心和不开心的事。","title_alternative":"Career","avatar_mini":"https://cdn.v2ex.com/navatar/4ea0/6fbc/770_mini.png?m=1695370146","stars":3093,"aliases":[],"root":false,"id":770,"parent_node_name":"work"},"member":{"id":661700,"username":"kutius67","url":"https://www.v2ex.com/u/kutius67","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/gravatar/8aae10d455f2eb7ea97668930afc98e5?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/8aae10d455f2eb7ea97668930afc98e5?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/8aae10d455f2eb7ea97668930afc98e5?s=73&d=retro","created":1699627761,"last_modified":1699627761},"last_reply_by":"janrone","last_touched":1713705020,"title":"兄弟们帮我看一下拿到的一个国外全职远程是不是坑？","url":"https://www.v2ex.com/t/1034371","created":1713689038,"deleted":0,"content":"之前在 v 站看到有个国外远程前端招人，投了之后有一个多月的时间没有动静，后来 hr 突然联系我面试，我抱着试试的心态去面了，一面技术面，然后没后文，过了十天左右和我说一面过了，后面流程就是，直接他所称的技术部门领导谈入职时间和薪资（竟然只有一面？），到了这时候我才知道工资竟然是以 usdt 结算，hr 说公司在英国，项目内容是游戏门户平台网站，技术大多都在国内远程，其他在英国现场办公\r\n\r\n现在我比较担心的公司会不会是做灰色产业，以及会不会很不稳定，随时把人开了，因为薪资尚可（国内一般水平但是对我来说是理想的范围）\r\nhr 跟我说的是非黑灰，英国纯游戏项目，正规产业\r\n我没什么经验，所以来向兄弟们问问意见","content_rendered":"<p>之前在 v 站看到有个国外远程前端招人，投了之后有一个多月的时间没有动静，后来 hr 突然联系我面试，我抱着试试的心态去面了，一面技术面，然后没后文，过了十天左右和我说一面过了，后面流程就是，直接他所称的技术部门领导谈入职时间和薪资（竟然只有一面？），到了这时候我才知道工资竟然是以 usdt 结算，hr 说公司在英国，项目内容是游戏门户平台网站，技术大多都在国内远程，其他在英国现场办公</p>\n<p>现在我比较担心的公司会不会是做灰色产业，以及会不会很不稳定，随时把人开了，因为薪资尚可（国内一般水平但是对我来说是理想的范围）\nhr 跟我说的是非黑灰，英国纯游戏项目，正规产业\n我没什么经验，所以来向兄弟们问问意见</p>\n","last_modified":1713689320,"replies":12,"id":1034371},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/74bb/a227/938_large.png?m=1591791660","name":"gts","avatar_normal":"https://cdn.v2ex.com/navatar/74bb/a227/938_normal.png?m=1591791660","title":"全球工单系统","url":"https://www.v2ex.com/go/gts","topics":9833,"footer":"","header":"希望这里能够为你遇到的问题找到解决方案","title_alternative":"Global Ticket System","avatar_mini":"https://cdn.v2ex.com/navatar/74bb/a227/938_mini.png?m=1591791660","stars":1826,"aliases":[],"root":false,"id":938,"parent_node_name":"geek"},"member":{"id":26842,"username":"Radeon","url":"https://www.v2ex.com/u/Radeon","website":"","twitter":"","psn":"","github":"","btc":"","location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/avatar/63f6/019c/26842_mini.png?m=1713688338","avatar_normal":"https://cdn.v2ex.com/avatar/63f6/019c/26842_normal.png?m=1713688338","avatar_large":"https://cdn.v2ex.com/avatar/63f6/019c/26842_large.png?m=1713688338","created":1347891423,"last_modified":1713688338},"last_reply_by":"EdwardXia","last_touched":1713700013,"title":"这个世界果然是草台班子组成的，昨天有淘宝的证书出错，今天我又发现了腾讯的产品...","url":"https://www.v2ex.com/t/1034369","created":1713688398,"deleted":0,"content":"TDesign 的官方主页 tdesign.tencent.com 上，左上角图标点开\r\n* “腾讯云设计的”链接的证书是错的（而且还不是过期问题...）\r\n* “AI Design”的链接点不开\r\n* “Pro Work”的链接点不开\r\n\r\n\r\n一个地方有 3 个错误，确实也让人服气","content_rendered":"<p>TDesign 的官方主页 <a href=\"http://tdesign.tencent.com\" rel=\"nofollow\">tdesign.tencent.com</a> 上，左上角图标点开</p>\n<ul>\n<li>“腾讯云设计的”链接的证书是错的（而且还不是过期问题...）</li>\n<li>“AI Design”的链接点不开</li>\n<li>“Pro Work”的链接点不开</li>\n</ul>\n<p>一个地方有 3 个错误，确实也让人服气</p>\n","last_modified":1713688433,"replies":12,"id":1034369},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1700771269","name":"programmer","avatar_normal":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1700771269","title":"程序员","url":"https://www.v2ex.com/go/programmer","topics":62430,"footer":"","header":"While code monkeys are not eating bananas, they're coding.","title_alternative":"Programmer","avatar_mini":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1700771269","stars":8936,"aliases":[],"root":false,"id":300,"parent_node_name":"computer"},"member":{"id":421999,"username":"tlerbao","url":"https://www.v2ex.com/u/tlerbao","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/avatar/9deb/c5d9/421999_mini.png?m=1691047818","avatar_normal":"https://cdn.v2ex.com/avatar/9deb/c5d9/421999_normal.png?m=1691047818","avatar_large":"https://cdn.v2ex.com/avatar/9deb/c5d9/421999_large.png?m=1691047818","created":1560581227,"last_modified":1691047818},"last_reply_by":"winterpotato","last_touched":1713695593,"title":"域名转到了 CloudFlare，话说 CF 都有哪些好用免费的服务？","url":"https://www.v2ex.com/t/1034356","created":1713683818,"deleted":0,"content":"听说 CF 很良心，都有哪些好用免费的服务？","content_rendered":"<p>听说 CF 很良心，都有哪些好用免费的服务？</p>\n","last_modified":1713683818,"replies":11,"id":1034356},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/03af/dbd6/63_large.png?m=1644490200","name":"java","avatar_normal":"https://cdn.v2ex.com/navatar/03af/dbd6/63_normal.png?m=1644490200","title":"Java","url":"https://www.v2ex.com/go/java","topics":5887,"footer":"","header":"Sun 公司发明，被广泛使用的一门编程语言。","title_alternative":"Java","avatar_mini":"https://cdn.v2ex.com/navatar/03af/dbd6/63_mini.png?m=1644490200","stars":5570,"aliases":[],"root":false,"id":63,"parent_node_name":"programming"},"member":{"id":685946,"username":"dvsusan123","url":"https://www.v2ex.com/u/dvsusan123","website":"","twitter":null,"psn":null,"github":null,"btc":null,"location":"","tagline":"","bio":"掘金签约作者，腾讯云最佳作者，阿里云专家博主。\r\n关注公众号：「苏三说技术」\r\n回复：面试，获取BAT大佬写的一手面试资料，\r\n让你offer拿到手软，同时还有大厂内推的机会","avatar_mini":"https://cdn.v2ex.com/avatar/d21b/200b/685946_mini.png?m=1713673402","avatar_normal":"https://cdn.v2ex.com/avatar/d21b/200b/685946_normal.png?m=1713673402","avatar_large":"https://cdn.v2ex.com/avatar/d21b/200b/685946_large.png?m=1713673402","avatar_xlarge":"https://cdn.v2ex.com/avatar/d21b/200b/685946_xlarge.png?m=1713673402","avatar_xxlarge":"https://cdn.v2ex.com/avatar/d21b/200b/685946_xlarge.png?m=1713673402","avatar_xxxlarge":"https://cdn.v2ex.com/avatar/d21b/200b/685946_xlarge.png?m=1713673402","created":1713516072,"last_modified":1713673402},"last_reply_by":"dvsusan123","last_touched":1713677118,"title":"如何安全中断一个正在运行的线程？","url":"https://www.v2ex.com/t/1034322","created":1713671421,"deleted":0,"content":"线程是操作系统进行运算调度的最小单位，所以线程是系统级别的概念。\r\n\r\n在 Java 中，可以使用 Thread.interrupt()方法安全中断一个正在运行的线程。\r\n\r\n其中 Thread.interrupt()方法用于设置线程的中断状态为\"中断\"。它并不会直接终止线程的执行，而是给线程一个中断信号。\r\n\r\n在执行线程的代码中，可以通过检查 Thread.interrupted()或 Thread.currentThread().isInterrupted()方法来判断线程是否被中断。\r\n\r\n如果线程被中断，应根据具体情况决定如何处理中断。可以选择抛出 InterruptedException 异常、恢复线程到一个安全的状态，或者终止线程的执行。\r\n\r\n如果线程处于等待状态（如 Thread.sleep()、Object.wait()、Thread.join()等），那么线程会立即从等待状态返回，并且 InterruptedException 异常会被抛出。\r\n\r\n使用 Thread.interrupt()方法可以安全地中断一个正在运行的线程，并通过 Thread.currentThread().isInterrupted()方法检查线程的中断状态。在处理中断时，可以选择抛出 InterruptedException 异常、恢复线程到安全状态或者终止线程的执行。","content_rendered":"线程是操作系统进行运算调度的最小单位，所以线程是系统级别的概念。<br /><br />在 Java 中，可以使用 Thread.interrupt()方法安全中断一个正在运行的线程。<br /><br />其中 Thread.interrupt()方法用于设置线程的中断状态为\"中断\"。它并不会直接终止线程的执行，而是给线程一个中断信号。<br /><br />在执行线程的代码中，可以通过检查 Thread.interrupted()或 Thread.currentThread().isInterrupted()方法来判断线程是否被中断。<br /><br />如果线程被中断，应根据具体情况决定如何处理中断。可以选择抛出 InterruptedException 异常、恢复线程到一个安全的状态，或者终止线程的执行。<br /><br />如果线程处于等待状态（如 Thread.sleep()、Object.wait()、Thread.join()等），那么线程会立即从等待状态返回，并且 InterruptedException 异常会被抛出。<br /><br />使用 Thread.interrupt()方法可以安全地中断一个正在运行的线程，并通过 Thread.currentThread().isInterrupted()方法检查线程的中断状态。在处理中断时，可以选择抛出 InterruptedException 异常、恢复线程到安全状态或者终止线程的执行。","last_modified":1713671729,"replies":11,"id":1034322},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":218062,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340","stars":4147,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"id":376725,"username":"roidinev","url":"https://www.v2ex.com/u/roidinev","website":"","twitter":null,"psn":null,"github":null,"btc":null,"location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/gravatar/c04bc67b2b4be8daceb993605131a71f?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/c04bc67b2b4be8daceb993605131a71f?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/c04bc67b2b4be8daceb993605131a71f?s=73&d=retro","created":1547171123,"last_modified":1547171123},"last_reply_by":"zyxk","last_touched":1713683271,"title":"咸鱼商家为啥发货地址在 A，但是显示 ip 在 B？","url":"https://www.v2ex.com/t/1034316","created":1713669480,"deleted":0,"content":"比如我在 B 城市，搜索 B 城市的二手商品。一聊，几乎都是外地比如 A 城市/省份。\r\n这里有啥猫腻吗？","content_rendered":"<p>比如我在 B 城市，搜索 B 城市的二手商品。一聊，几乎都是外地比如 A 城市/省份。\n这里有啥猫腻吗？</p>\n","last_modified":1713669480,"replies":11,"id":1034316},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c81e/728d/2_large.png?m=1692079825","name":"v2ex","avatar_normal":"https://cdn.v2ex.com/navatar/c81e/728d/2_normal.png?m=1692079825","title":"V2EX","url":"https://www.v2ex.com/go/v2ex","topics":3807,"footer":"","header":"这里讨论和发布关于 V2EX 站点的发展。","title_alternative":"V2EX","avatar_mini":"https://cdn.v2ex.com/navatar/c81e/728d/2_mini.png?m=1692079825","stars":1314,"aliases":[],"root":true,"id":2,"parent_node_name":"v2ex"},"member":{"id":578479,"username":"GenericT","url":"https://www.v2ex.com/u/GenericT","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/gravatar/5050de4cc0c9dab5014b316a41a34fd9?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/5050de4cc0c9dab5014b316a41a34fd9?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/5050de4cc0c9dab5014b316a41a34fd9?s=73&d=retro","created":1650123694,"last_modified":1650123694},"last_reply_by":"pinocc012","last_touched":1713704109,"title":"请完全删除我的账户及所有发言","url":"https://www.v2ex.com/t/1034395","created":1713697033,"deleted":0,"content":"同时，我希望删除我之前的账号 @learningman 的所有发言，我不希望我的发言继续存在于 V2EX ，谢谢\r\n@livid","content_rendered":"<p>同时，我希望删除我之前的账号 @<a href=\"/member/learningman\">learningman</a> 的所有发言，我不希望我的发言继续存在于 V2EX ，谢谢\n@<a href=\"/member/livid\">livid</a></p>\n","last_modified":1713697033,"replies":10,"id":1034395},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1700771269","name":"programmer","avatar_normal":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1700771269","title":"程序员","url":"https://www.v2ex.com/go/programmer","topics":62430,"footer":"","header":"While code monkeys are not eating bananas, they're coding.","title_alternative":"Programmer","avatar_mini":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1700771269","stars":8936,"aliases":[],"root":false,"id":300,"parent_node_name":"computer"},"member":{"id":683683,"username":"KINGWAY","url":"https://www.v2ex.com/u/KINGWAY","website":"","twitter":null,"psn":null,"github":null,"btc":null,"location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/gravatar/d044bc2fcf78554cc9741862d91b3b8f?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/d044bc2fcf78554cc9741862d91b3b8f?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/d044bc2fcf78554cc9741862d91b3b8f?s=73&d=retro","created":1712238960,"last_modified":1712238960},"last_reply_by":"PrinceofInj","last_touched":1713703613,"title":"windows11 下有哪些第三方或直接的把一个软件注册为服务?","url":"https://www.v2ex.com/t/1034379","created":1713691548,"deleted":0,"content":"装了个 hyper-v 跑了个虚拟机, 还有个 syncthing, 一直 linux 习惯了 systemd 来注册服务来实现开机自动运行软件以及自行重启停止的服务.\r\n\r\n这 windows 下不太熟悉, 开机自动启动简单 shell:startup 加进去快捷方式就可以, 但是如何运行过程中遇到服务意外终止自行重启服务呢?","content_rendered":"<p>装了个 hyper-v 跑了个虚拟机, 还有个 syncthing, 一直 linux 习惯了 systemd 来注册服务来实现开机自动运行软件以及自行重启停止的服务.</p>\n<p>这 windows 下不太熟悉, 开机自动启动简单 shell:startup 加进去快捷方式就可以, 但是如何运行过程中遇到服务意外终止自行重启服务呢?</p>\n","last_modified":1713691548,"replies":10,"id":1034379},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/e0c6/4119/421_large.png?m=1586514183","name":"db","avatar_normal":"https://cdn.v2ex.com/navatar/e0c6/4119/421_normal.png?m=1586514183","title":"数据库","url":"https://www.v2ex.com/go/db","topics":990,"footer":"","header":"","title_alternative":"Database","avatar_mini":"https://cdn.v2ex.com/navatar/e0c6/4119/421_mini.png?m=1586514183","stars":699,"aliases":[],"root":false,"id":421,"parent_node_name":"computer"},"member":{"id":8373,"username":"Hyvi","url":"https://www.v2ex.com/u/Hyvi","website":"","twitter":"","psn":"","github":"","btc":"","location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/gravatar/343d6ab15ce2190705252441e8083e40?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/343d6ab15ce2190705252441e8083e40?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/343d6ab15ce2190705252441e8083e40?s=73&d=retro","created":1304053219,"last_modified":1304139646},"last_reply_by":"ivmm","last_touched":1713701211,"title":"为什么阿里云、aws 需要这么频繁的升级数据库的版本","url":"https://www.v2ex.com/t/1034365","created":1713686784,"deleted":0,"content":"几乎每年需要升级数据库。每次变更还需要中断服务（不中断的服务的成本不小，微服务太多了。）\r\n\r\n不变更的话，aws 会自动强制升级。","content_rendered":"<p>几乎每年需要升级数据库。每次变更还需要中断服务（不中断的服务的成本不小，微服务太多了。）</p>\n<p>不变更的话，aws 会自动强制升级。</p>\n","last_modified":1713686784,"replies":10,"id":1034365},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":218062,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340","stars":4147,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"id":671959,"username":"Canglin","url":"https://www.v2ex.com/u/Canglin","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/avatar/9131/cc11/671959_mini.png?m=1713313941","avatar_normal":"https://cdn.v2ex.com/avatar/9131/cc11/671959_normal.png?m=1713313941","avatar_large":"https://cdn.v2ex.com/avatar/9131/cc11/671959_large.png?m=1713313941","avatar_xlarge":"https://cdn.v2ex.com/avatar/9131/cc11/671959_xlarge.png?m=1713313941","avatar_xxlarge":"https://cdn.v2ex.com/avatar/9131/cc11/671959_xlarge.png?m=1713313941","avatar_xxxlarge":"https://cdn.v2ex.com/avatar/9131/cc11/671959_xlarge.png?m=1713313941","created":1705456140,"last_modified":1713313941},"last_reply_by":"Canglin","last_touched":1713679665,"title":"求助！招聘考试弃考了还不行？","url":"https://www.v2ex.com/t/1034330","created":1713674373,"deleted":0,"content":"今天参加了一个某国企的招聘考试，去了现场开始考了才知道根本不考软件方面的内容，基本都是 AE 、3DMAX 之类的还有一些项目管理的题，我就表示要弃考，结果不让我走，说必须等考试结束才行，我没理他们，就直接撤了，现在给我打电话说要起诉我说我扰乱考场纪律，这种情况我该怎么办？\r\n补充一下：在招聘人员资格审核的时候压根没说考试的内容，招聘信息也是类似于软件开发/运维方面的","content_rendered":"今天参加了一个某国企的招聘考试，去了现场开始考了才知道根本不考软件方面的内容，基本都是 AE 、3DMAX 之类的还有一些项目管理的题，我就表示要弃考，结果不让我走，说必须等考试结束才行，我没理他们，就直接撤了，现在给我打电话说要起诉我说我扰乱考场纪律，这种情况我该怎么办？<br />补充一下：在招聘人员资格审核的时候压根没说考试的内容，招聘信息也是类似于软件开发/运维方面的","last_modified":1713674627,"replies":10,"id":1034330},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/b0b1/83c2/837_large.png?m=1650095159","name":"react","avatar_normal":"https://cdn.v2ex.com/navatar/b0b1/83c2/837_normal.png?m=1650095159","title":"React","url":"https://www.v2ex.com/go/react","topics":647,"footer":"","header":"一个用于构建用户界面的 JavaScript 库","title_alternative":"React","avatar_mini":"https://cdn.v2ex.com/navatar/b0b1/83c2/837_mini.png?m=1650095159","stars":1025,"aliases":[],"root":false,"id":837,"parent_node_name":"js"},"member":{"id":641609,"username":"devzhaoyou","url":"https://www.v2ex.com/u/devzhaoyou","website":"https://picprose.net","twitter":"","psn":"","github":"gezhaoyou","btc":"","location":"北京","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/avatar/d0ac/322f/641609_mini.png?m=1706774569","avatar_normal":"https://cdn.v2ex.com/avatar/d0ac/322f/641609_normal.png?m=1706774569","avatar_large":"https://cdn.v2ex.com/avatar/d0ac/322f/641609_large.png?m=1706774569","avatar_xlarge":"https://cdn.v2ex.com/avatar/d0ac/322f/641609_xlarge.png?m=1706774569","avatar_xxlarge":"https://cdn.v2ex.com/avatar/d0ac/322f/641609_xlarge.png?m=1706774569","avatar_xxxlarge":"https://cdn.v2ex.com/avatar/d0ac/322f/641609_xlarge.png?m=1706774569","created":1691028121,"last_modified":1706774569},"last_reply_by":"wu67","last_touched":1713702578,"title":"SSR 使用场景疑惑，工具站是否需要 SSR，比如 Figma， SSR 优势是什么","url":"https://www.v2ex.com/t/1034378","created":1713691496,"deleted":0,"content":"刚入门前端，对 SSR 还不太了解其使用场景，个人认为一些文字类，或者展示页面类，如博客，网站首页，落地页等使用 SSR 比较好，但一些如 figma 这种工具页面不需要用 SSR 了吧？、\r\n\r\n或者换个问法 nextjs 的使用场景是啥，比如纯 react + vite 写不行么？","content_rendered":"<p>刚入门前端，对 SSR 还不太了解其使用场景，个人认为一些文字类，或者展示页面类，如博客，网站首页，落地页等使用 SSR 比较好，但一些如 figma 这种工具页面不需要用 SSR 了吧？、</p>\n<p>或者换个问法 nextjs 的使用场景是啥，比如纯 react + vite 写不行么？</p>\n","last_modified":1713691496,"replies":7,"id":1034378},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/4ea0/6fbc/770_large.png?m=1695370146","name":"career","avatar_normal":"https://cdn.v2ex.com/navatar/4ea0/6fbc/770_normal.png?m=1695370146","title":"职场话题","url":"https://www.v2ex.com/go/career","topics":16833,"footer":"","header":"这里，我们聊聊那些工作中遇到的开心和不开心的事。","title_alternative":"Career","avatar_mini":"https://cdn.v2ex.com/navatar/4ea0/6fbc/770_mini.png?m=1695370146","stars":3093,"aliases":[],"root":false,"id":770,"parent_node_name":"work"},"member":{"id":389496,"username":"5wunian","url":"https://www.v2ex.com/u/5wunian","website":"","twitter":"","psn":"","github":"","btc":"","location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/avatar/27e5/9fbb/389496_mini.png?m=1712652997","avatar_normal":"https://cdn.v2ex.com/avatar/27e5/9fbb/389496_normal.png?m=1712652997","avatar_large":"https://cdn.v2ex.com/avatar/27e5/9fbb/389496_large.png?m=1712652997","avatar_xlarge":"https://cdn.v2ex.com/avatar/27e5/9fbb/389496_xlarge.png?m=1712652997","avatar_xxlarge":"https://cdn.v2ex.com/avatar/27e5/9fbb/389496_xlarge.png?m=1712652997","avatar_xxxlarge":"https://cdn.v2ex.com/avatar/27e5/9fbb/389496_xlarge.png?m=1712652997","created":1551768657,"last_modified":1712652997},"last_reply_by":"chendl111","last_touched":1713696084,"title":"Gap 一年，有什么证书推荐考么","url":"https://www.v2ex.com/t/1034355","created":1713683542,"deleted":0,"content":"已经报名 软考-软件设计\r\n下半年还找不到就报-项目管理，考虑转行了。准备读研或投点电商营销相关的工作\r\n有什么建议么。","content_rendered":"<p>已经报名 软考-软件设计\n下半年还找不到就报-项目管理，考虑转行了。准备读研或投点电商营销相关的工作\n有什么建议么。</p>\n","last_modified":1713687157,"replies":7,"id":1034355},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":218067,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340","stars":4147,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"id":545546,"username":"amirobotics","url":"https://www.v2ex.com/u/amirobotics","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/gravatar/2d9845788c3deb1bb10e698c619436b4?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/2d9845788c3deb1bb10e698c619436b4?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/2d9845788c3deb1bb10e698c619436b4?s=73&d=retro","created":1621221712,"last_modified":1694056155},"last_reply_by":"gynantim","last_touched":1713696762,"title":"被生活压得喘没气了","url":"https://www.v2ex.com/t/1034388","created":1713694425,"deleted":0,"content":"主要原因：\r\n\r\n1. 工作\r\n\r\n工作上的失误，老板将责任推给我，并且认定我需要承担主要责任\r\n\r\n\r\n2. 小孩\r\n\r\n妻子母亲目前照顾 13 个月大的小孩。\r\n夫妻都在“打工国”打工，我们 4 人住在一起。\r\n由于在打工国没有身份，小孩目前没有长期居留在该国的权利。\r\n这就导致一段时间后就需要离开该国。\r\n再加上小孩才 13 个月，夫妻俩也不愿小孩离开我们太远。\r\n丈夫的父母距离“打工国”约 200 公里，但是他们不愿照顾小孩\r\n所以妻子母亲也会跟着去丈夫父母那（丈夫认为铁定会吵架）\r\n但是丈夫母亲不太欢迎\r\n\r\n\r\n3. “打工国”的居民申请屡屡被拒\r\n\r\n决定权在该国的移民局。被拒了 3 次。花了好几年了，好想放弃。","content_rendered":"<p>主要原因：</p>\n<ol>\n<li>工作</li>\n</ol>\n<p>工作上的失误，老板将责任推给我，并且认定我需要承担主要责任</p>\n<ol>\n<li>小孩</li>\n</ol>\n<p>妻子母亲目前照顾 13 个月大的小孩。\n夫妻都在“打工国”打工，我们 4 人住在一起。\n由于在打工国没有身份，小孩目前没有长期居留在该国的权利。\n这就导致一段时间后就需要离开该国。\n再加上小孩才 13 个月，夫妻俩也不愿小孩离开我们太远。\n丈夫的父母距离“打工国”约 200 公里，但是他们不愿照顾小孩\n所以妻子母亲也会跟着去丈夫父母那（丈夫认为铁定会吵架）\n但是丈夫母亲不太欢迎</p>\n<ol>\n<li>“打工国”的居民申请屡屡被拒</li>\n</ol>\n<p>决定权在该国的移民局。被拒了 3 次。花了好几年了，好想放弃。</p>\n","last_modified":1713694539,"replies":7,"id":1034388},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":218067,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340","stars":4147,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"id":560868,"username":"anson264556364","url":"https://www.v2ex.com/u/anson264556364","website":"","twitter":null,"psn":null,"github":null,"btc":null,"location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/gravatar/26b828dbaf0320ba22b77f1ba0faeb31?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/26b828dbaf0320ba22b77f1ba0faeb31?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/26b828dbaf0320ba22b77f1ba0faeb31?s=73&d=retro","created":1636119958,"last_modified":1710395988},"last_reply_by":"aoguai","last_touched":1713694759,"title":"批量生成 SRT 字幕","url":"https://www.v2ex.com/t/1034350","created":1713680915,"deleted":0,"content":"有上百个英文小视频，一个几分钟，想要生成 SRT 字幕，对比了一些软件下载语音模型之类的，都不太好用。请教下，有没有付费的字幕网站，可以批量上传和批量下载字幕的？","content_rendered":"有上百个英文小视频，一个几分钟，想要生成 SRT 字幕，对比了一些软件下载语音模型之类的，都不太好用。请教下，有没有付费的字幕网站，可以批量上传和批量下载字幕的？","last_modified":1713680915,"replies":7,"id":1034350},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":218070,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340","stars":4148,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"id":669443,"username":"cunoe","url":"https://www.v2ex.com/u/cunoe","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/gravatar/f7d0e915dac8a3c655089e16f877efeb?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/f7d0e915dac8a3c655089e16f877efeb?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/f7d0e915dac8a3c655089e16f877efeb?s=73&d=retro","created":1704205680,"last_modified":1713692052},"last_reply_by":"IvanLi127","last_touched":1713704090,"title":"tg 和飞书那种消息下面附带 emoji 的信息，这种信息如何高效地存储呢？","url":"https://www.v2ex.com/t/1034382","created":1713692151,"deleted":0,"content":"tg 和飞书都有那种给消息添加 emoji 交互的功能，可以显示有多少人用某个 emoji 附到消息下面\r\n想实现相似的功能，但感觉如果每条新增的 emoji 都按用户 id ，消息 id ，emojiid 这样按行存数据库里会不会比较低效？","content_rendered":"<p>tg 和飞书都有那种给消息添加 emoji 交互的功能，可以显示有多少人用某个 emoji 附到消息下面\n想实现相似的功能，但感觉如果每条新增的 emoji 都按用户 id ，消息 id ，emojiid 这样按行存数据库里会不会比较低效？</p>\n","last_modified":1713692151,"replies":6,"id":1034382}]