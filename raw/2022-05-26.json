[{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/44f6/83a8/62_large.png?m=1644475743","name":"php","avatar_normal":"https://cdn.v2ex.com/navatar/44f6/83a8/62_normal.png?m=1644475743","title":"PHP","url":"https://www.v2ex.com/go/php","topics":4468,"footer":"","header":"PHP 是一门被广泛使用的编程语言，尤其是在各类互联网站项目中。PHP 代码可以被很容易地嵌入到 HTML 中。","title_alternative":"PHP","avatar_mini":"https://cdn.v2ex.com/navatar/44f6/83a8/62_mini.png?m=1644475743","stars":2664,"aliases":[],"root":false,"id":62,"parent_node_name":"programming"},"member":{"id":19577,"username":"minuo0day","url":"https://www.v2ex.com/u/minuo0day","website":"","twitter":"","psn":"","github":"","btc":"","location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/avatar/b323/c8ed/19577_mini.png?m=1336147388","avatar_normal":"https://cdn.v2ex.com/avatar/b323/c8ed/19577_normal.png?m=1336147388","avatar_large":"https://cdn.v2ex.com/avatar/b323/c8ed/19577_large.png?m=1336147388","created":1334715526,"last_modified":1336147388},"last_reply_by":"dem0ns","last_touched":1653531492,"title":"关于 PHP 高并发，请教各位","url":"https://www.v2ex.com/t/855361","created":1653530016,"deleted":0,"content":"H5 页面的核酸系统，前后端分离，前端 VUE ，后端 PHP 自己搭的 larave 框架，数据库 mysql,Nginx ，\r\n三台负载均衡的天翼云应用服务器，都是 32 核 64G ，一台数据库服务器 16 核 32G ；\r\n基本业务逻辑：\r\n用户端，进入页面绑定自己身份证号手机号乡镇信息等个人信息，前端凭借身份证号直接生成个人二维码，向医护人员出示二维码，1 个小时需要做 40 万人口的核酸；\r\n医护端，手机号身份证号登录或者申请，登入先选采集点，扫开箱码，再扫试管码选择十合一或二十合一，再点击添加人员打开扫一扫扫居民个人码添加；\r\n\r\n24 日早上 4 点 30 ，医护人员开始大量的开始进入程序扫箱码开箱，并在后台开始大量的添加临时采集点，于 4 点 58 分，CPU 使用率 100%，系统崩溃，日志显示，瞬间请求数 1 万 4 ，重启在进入还是崩；\r\n\r\n24 日下午系统整体挪到阿里云服务器，也是三台负载均衡的服务器，三台 32 核 64G ，加了 OSS ，用了阿里云的云数据库 RDS 版，主实例 8 核 16G ，只读数据库服务器 8 核，压测 10 分钟 15 万人，和 4000 医护人员同时在线也崩了，数据库和应用服务器的 CPU 利用率都打到了 100%，为了保障第二天不出问题，临时调大了一台应用服务器调到了 52 核，并同时把读写的两台数据库服务器都调到了最大 104 核，第二天检测才扛过去。\r\n\r\n问：我们虽然调大了服务器的配置，但调大以后压测 10 分钟 20 万人和 4000 医护在线，服务器承载 20%都上不去，但前端页面会变得非常慢，基本上 10 几秒才能打开，这种情况请大神指点","content_rendered":"<p>H5 页面的核酸系统，前后端分离，前端 VUE ，后端 PHP 自己搭的 larave 框架，数据库 mysql,Nginx ，\n三台负载均衡的天翼云应用服务器，都是 32 核 64G ，一台数据库服务器 16 核 32G ；\n基本业务逻辑：\n用户端，进入页面绑定自己身份证号手机号乡镇信息等个人信息，前端凭借身份证号直接生成个人二维码，向医护人员出示二维码，1 个小时需要做 40 万人口的核酸；\n医护端，手机号身份证号登录或者申请，登入先选采集点，扫开箱码，再扫试管码选择十合一或二十合一，再点击添加人员打开扫一扫扫居民个人码添加；</p>\n<p>24 日早上 4 点 30 ，医护人员开始大量的开始进入程序扫箱码开箱，并在后台开始大量的添加临时采集点，于 4 点 58 分，CPU 使用率 100%，系统崩溃，日志显示，瞬间请求数 1 万 4 ，重启在进入还是崩；</p>\n<p>24 日下午系统整体挪到阿里云服务器，也是三台负载均衡的服务器，三台 32 核 64G ，加了 OSS ，用了阿里云的云数据库 RDS 版，主实例 8 核 16G ，只读数据库服务器 8 核，压测 10 分钟 15 万人，和 4000 医护人员同时在线也崩了，数据库和应用服务器的 CPU 利用率都打到了 100%，为了保障第二天不出问题，临时调大了一台应用服务器调到了 52 核，并同时把读写的两台数据库服务器都调到了最大 104 核，第二天检测才扛过去。</p>\n<p>问：我们虽然调大了服务器的配置，但调大以后压测 10 分钟 20 万人和 4000 医护在线，服务器承载 20%都上不去，但前端页面会变得非常慢，基本上 10 几秒才能打开，这种情况请大神指点</p>\n","last_modified":1653530016,"replies":31,"id":855361},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1651385949","name":"programmer","avatar_normal":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1651385949","title":"程序员","url":"https://www.v2ex.com/go/programmer","topics":48949,"footer":"","header":"While code monkeys are not eating bananas, they're coding.","title_alternative":"Programmer","avatar_mini":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1651385949","stars":7836,"aliases":[],"root":false,"id":300,"parent_node_name":"computer"},"member":{"id":418864,"username":"Jiajin","url":"https://www.v2ex.com/u/Jiajin","website":"","twitter":null,"psn":null,"github":null,"btc":null,"location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/gravatar/1e1ab2b2dc326b845b2bee1ce95a43e8?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/1e1ab2b2dc326b845b2bee1ce95a43e8?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/1e1ab2b2dc326b845b2bee1ce95a43e8?s=73&d=retro","created":1559699511,"last_modified":1647328575},"last_reply_by":"liuzhihang","last_touched":1653531166,"title":"github copilot 你们会用在公司项目上开发吗？","url":"https://www.v2ex.com/t/855352","created":1653527825,"deleted":0,"content":"很早之前就申请试用了。但是只在个人项目里用过，没在生产项目里用过。 \r\n\r\n有两个原因：  \r\n\r\n1 、最主要的原因：会把公司代码上传到 copilot 服务器，虽然咱这代码没什么宝贵的，但是还是有点违反保密的问题  \r\n2 、次要原因：确实智能，但是会和 IDEA 的智能补全略微有点冲突，而且有时候不是我想要写的代码，就有点打乱思路\r\n\r\n\r\n各位，你们怎么看？","content_rendered":"<p>很早之前就申请试用了。但是只在个人项目里用过，没在生产项目里用过。 </p>\n<p>有两个原因：  </p>\n<p>1 、最主要的原因：会把公司代码上传到 copilot 服务器，虽然咱这代码没什么宝贵的，但是还是有点违反保密的问题<br/>\n2 、次要原因：确实智能，但是会和 IDEA 的智能补全略微有点冲突，而且有时候不是我想要写的代码，就有点打乱思路</p>\n<p>各位，你们怎么看？</p>\n","last_modified":1653527825,"replies":17,"id":855352},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/6e27/13a6/557_large.png?m=1608969785","name":"life","avatar_normal":"https://cdn.v2ex.com/navatar/6e27/13a6/557_normal.png?m=1608969785","title":"生活","url":"https://www.v2ex.com/go/life","topics":3171,"footer":"","header":"生活中的技术讨论","title_alternative":"Life","avatar_mini":"https://cdn.v2ex.com/navatar/6e27/13a6/557_mini.png?m=1608969785","stars":838,"aliases":[],"root":false,"id":557,"parent_node_name":""},"member":{"id":382565,"username":"ccppgo","url":"https://www.v2ex.com/u/ccppgo","website":"","twitter":null,"psn":null,"github":null,"btc":null,"location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/gravatar/0d142d8b3b37eaedea936390a9f5b2f7?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/0d142d8b3b37eaedea936390a9f5b2f7?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/0d142d8b3b37eaedea936390a9f5b2f7?s=73&d=retro","created":1549688592,"last_modified":1649650652},"last_reply_by":"maobukui","last_touched":1653531245,"title":"把一辆老迈腾刮蹭了，留了电话，老哥们帮我看看大概需要赔多少","url":"https://www.v2ex.com/t/855353","created":1653527896,"deleted":0,"content":"黑色车是被刮的，银车是我车， 红色框框住的确定是我刮的，蓝色圈不确定， 打算如果 300 以下就自己掏了，如果更多就直接走保险\r\n\r\n![XAqLU1.md.png]( https://s1.ax1x.com/2022/05/26/XAqLU1.md.png)\r\n\r\n![XAqO4x.md.png]( https://s1.ax1x.com/2022/05/26/XAqO4x.md.png)","content_rendered":"<p>黑色车是被刮的，银车是我车， 红色框框住的确定是我刮的，蓝色圈不确定， 打算如果 300 以下就自己掏了，如果更多就直接走保险</p>\n<p><img alt=\"XAqLU1.md.png\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://s1.ax1x.com/2022/05/26/XAqLU1.md.png\"/></p>\n<p><img alt=\"XAqO4x.md.png\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://s1.ax1x.com/2022/05/26/XAqO4x.md.png\"/></p>\n","last_modified":1653528102,"replies":16,"id":855353},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1651385949","name":"programmer","avatar_normal":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1651385949","title":"程序员","url":"https://www.v2ex.com/go/programmer","topics":48949,"footer":"","header":"While code monkeys are not eating bananas, they're coding.","title_alternative":"Programmer","avatar_mini":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1651385949","stars":7836,"aliases":[],"root":false,"id":300,"parent_node_name":"computer"},"member":{"id":331892,"username":"xnyu125","url":"https://www.v2ex.com/u/xnyu125","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/avatar/b803/097a/331892_mini.png?m=1652886896","avatar_normal":"https://cdn.v2ex.com/avatar/b803/097a/331892_normal.png?m=1652886896","avatar_large":"https://cdn.v2ex.com/avatar/b803/097a/331892_large.png?m=1652886896","avatar_xlarge":"https://cdn.v2ex.com/avatar/b803/097a/331892_xlarge.png?m=1652886896","avatar_xxlarge":"https://cdn.v2ex.com/avatar/b803/097a/331892_xlarge.png?m=1652886896","avatar_xxxlarge":"https://cdn.v2ex.com/avatar/b803/097a/331892_xlarge.png?m=1652886896","created":1532325808,"last_modified":1652886896},"last_reply_by":"hugo2lee","last_touched":1653530667,"title":"一次集文化差异、网络工程与诸多巧合于一身的 debug！","url":"https://www.v2ex.com/t/855346","created":1653524104,"deleted":0,"content":"分享一个异常精彩的关于有线网络喜欢红茶的故事，先上为敬：[https://qualityfocus.club/fun-debug]( https://qualityfocus.club/fun-debug)\r\n\r\n做软件做久了，很容易碰到各种匪夷所思的 bug ，你写过 /改过 /测过 /听过哪些有趣的 bug 呢？欢迎留言讨论。","content_rendered":"<p>分享一个异常精彩的关于有线网络喜欢红茶的故事，先上为敬：<a href=\"https://qualityfocus.club/fun-debug\" rel=\"nofollow\">https://qualityfocus.club/fun-debug</a></p>\n<p>做软件做久了，很容易碰到各种匪夷所思的 bug ，你写过 /改过 /测过 /听过哪些有趣的 bug 呢？欢迎留言讨论。</p>\n","last_modified":1653524104,"replies":12,"id":855346},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/6353/8fe6/519_large.png?m=1595507885","name":"ideas","avatar_normal":"https://cdn.v2ex.com/navatar/6353/8fe6/519_normal.png?m=1595507885","title":"奇思妙想","url":"https://www.v2ex.com/go/ideas","topics":4984,"footer":"","header":"让你的创意在这里自由流动吧。","title_alternative":"Ideas","avatar_mini":"https://cdn.v2ex.com/navatar/6353/8fe6/519_mini.png?m=1595507885","stars":2600,"aliases":[],"root":false,"id":519,"parent_node_name":"v2ex"},"member":{"id":573767,"username":"meetalpha","url":"https://www.v2ex.com/u/meetalpha","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/gravatar/8edbdfd80b212dc67b0d38a5490f175a?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/8edbdfd80b212dc67b0d38a5490f175a?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/8edbdfd80b212dc67b0d38a5490f175a?s=73&d=retro","created":1645805411,"last_modified":1651142977},"last_reply_by":"ahhui","last_touched":1653531032,"title":"可以用手机号找回密码的服务，运营商是否能做到私自拿手机号请求并看到验证码？","url":"https://www.v2ex.com/t/855356","created":1653528798,"deleted":0,"content":"如题。","content_rendered":"如题。","last_modified":1653528798,"replies":10,"id":855356},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/4ea0/6fbc/770_large.png?m=1652980294","name":"career","avatar_normal":"https://cdn.v2ex.com/navatar/4ea0/6fbc/770_normal.png?m=1652980294","title":"职场话题","url":"https://www.v2ex.com/go/career","topics":13108,"footer":"","header":"这里，我们聊聊那些工作中遇到的开心和不开心的事。","title_alternative":"Career","avatar_mini":"https://cdn.v2ex.com/navatar/4ea0/6fbc/770_mini.png?m=1652980294","stars":2370,"aliases":[],"root":false,"id":770,"parent_node_name":"work"},"member":{"id":484169,"username":"AndroidManger","url":"https://www.v2ex.com/u/AndroidManger","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/gravatar/bf4f49c36e75e20ee128aabe294b9bbd?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/bf4f49c36e75e20ee128aabe294b9bbd?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/bf4f49c36e75e20ee128aabe294b9bbd?s=73&d=retro","created":1587024549,"last_modified":1587024549},"last_reply_by":"zapper","last_touched":1653530499,"title":"做程序员三年温水煮青蛙，如何改变","url":"https://www.v2ex.com/t/855354","created":1653528215,"deleted":0,"content":"大佬们，做程序员也有三年啦，一直在传统行业做 Android 开发，感觉都没有什么进步，现在都很茫然，都不知道怎么去学习改变自己啦","content_rendered":"<p>大佬们，做程序员也有三年啦，一直在传统行业做 Android 开发，感觉都没有什么进步，现在都很茫然，都不知道怎么去学习改变自己啦</p>\n","last_modified":1653528215,"replies":10,"id":855354},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":185182,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340","stars":3483,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"id":215915,"username":"TabGre","url":"https://www.v2ex.com/u/TabGre","website":"","twitter":"","psn":"","github":"","btc":"","location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/gravatar/0d95d9cf2ead3717880da9e222864c71?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/0d95d9cf2ead3717880da9e222864c71?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/0d95d9cf2ead3717880da9e222864c71?s=73&d=retro","created":1487404269,"last_modified":1487404269},"last_reply_by":"TabGre","last_touched":1653530351,"title":"内置 KVM 的显示器推荐","url":"https://www.v2ex.com/t/855355","created":1653528362,"deleted":0,"content":"需求上：\r\n\r\n内置 KVM ，支持同时输入多个信号（两台 macbook ）, 并能不同桌面显示不同的输入源，仅仅通过切换桌面就能切换输入源。\r\n\r\n预算：5000 以内\r\n品牌：大品牌吧","content_rendered":"<p>需求上：</p>\n<p>内置 KVM ，支持同时输入多个信号（两台 macbook ）, 并能不同桌面显示不同的输入源，仅仅通过切换桌面就能切换输入源。</p>\n<p>预算：5000 以内\n品牌：大品牌吧</p>\n","last_modified":1653528362,"replies":6,"id":855355},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/a3c6/5c29/108_large.png?m=1635654723","name":"bb","avatar_normal":"https://cdn.v2ex.com/navatar/a3c6/5c29/108_normal.png?m=1635654723","title":"宽带症候群","url":"https://www.v2ex.com/go/bb","topics":10834,"footer":"","header":"网速很重要。比快更快。","title_alternative":"Broadband Symptom Complex","avatar_mini":"https://cdn.v2ex.com/navatar/a3c6/5c29/108_mini.png?m=1635654723","stars":5603,"aliases":[],"root":false,"id":108,"parent_node_name":"geek"},"member":{"id":73070,"username":"l4ever","url":"https://www.v2ex.com/u/l4ever","website":"","twitter":"","psn":"","github":"","btc":"","location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/avatar/4105/08ab/73070_mini.png?m=1542068231","avatar_normal":"https://cdn.v2ex.com/avatar/4105/08ab/73070_normal.png?m=1542068231","avatar_large":"https://cdn.v2ex.com/avatar/4105/08ab/73070_large.png?m=1542068231","created":1409928634,"last_modified":1542068231},"last_reply_by":"makelove","last_touched":1653531092,"title":"深圳电信访问 Paypal 怎么这么困难了.","url":"https://www.v2ex.com/t/855350","created":1653527159,"deleted":0,"content":"很难打开, 打开了也很难付款.\r\n梯子速度还挺好, 访问 google 系都很赞的情况下扶墙访问 Paypal 都觉得很慢.","content_rendered":"<p>很难打开, 打开了也很难付款.\n梯子速度还挺好, 访问 google 系都很赞的情况下扶墙访问 Paypal 都觉得很慢.</p>\n","last_modified":1653527159,"replies":6,"id":855350}]