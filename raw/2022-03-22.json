[{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1647188067","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1647188067","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":182676,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1647188067","stars":3440,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"id":438212,"username":"haoooooooo","url":"https://www.v2ex.com/u/haoooooooo","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/avatar/2156/840e/438212_mini.png?m=1647480691","avatar_normal":"https://cdn.v2ex.com/avatar/2156/840e/438212_normal.png?m=1647480691","avatar_large":"https://cdn.v2ex.com/avatar/2156/840e/438212_large.png?m=1647480691","avatar_xlarge":"https://cdn.v2ex.com/avatar/2156/840e/438212_xlarge.png?m=1647480691","avatar_xxlarge":"https://cdn.v2ex.com/avatar/2156/840e/438212_xlarge.png?m=1647480691","created":1566880883,"last_modified":1647480691},"last_reply_by":"kingjpa","last_touched":1647920368,"title":"关于此次空难有感而发，飞机真的是最安全的交通工具吗？","url":"https://www.v2ex.com/t/842039","created":1647917761,"deleted":0,"content":"一直以来我们接触到的各种信息都说飞机是最安全的交通工具，然而我个人一直对这个深表怀疑，今天特地在网上搜了下相关数据，大致估算了下感觉以死亡率来看飞机似乎没大家说的那么安全啊\r\n\r\n民航数据统计如下\r\n2020 年全国飞机起飞次数大概 370 万次，考虑到每年的数据波动，就算 400 万次，过去 21 年大概就是 8400 万次飞行，过去 21 年国内空难死亡人数大概 382 人\r\n综合计算大概每飞行 22 万次死 1 个人\r\n\r\n交通数据统计如下\r\n总出行次数这个不太好统计，只能估算下了，全国 13 亿人，保守估计每人每年出行 15 次，一年就是出行 195 亿次，21 年就是 4095 亿次，而近 21 年来平均每年交通死亡人数大概在 8 万人左右，总共死亡 168 万人\r\n综合计算大概每出行 24 万次死 1 个人\r\n\r\n如此看来飞机比其他交通工具的死亡率似乎更高啊，当然了，以上都是比较粗略的统计，不知道这么算对不，大家怎么看呢？","content_rendered":"<p>一直以来我们接触到的各种信息都说飞机是最安全的交通工具，然而我个人一直对这个深表怀疑，今天特地在网上搜了下相关数据，大致估算了下感觉以死亡率来看飞机似乎没大家说的那么安全啊</p>\n<p>民航数据统计如下\n2020 年全国飞机起飞次数大概 370 万次，考虑到每年的数据波动，就算 400 万次，过去 21 年大概就是 8400 万次飞行，过去 21 年国内空难死亡人数大概 382 人\n综合计算大概每飞行 22 万次死 1 个人</p>\n<p>交通数据统计如下\n总出行次数这个不太好统计，只能估算下了，全国 13 亿人，保守估计每人每年出行 15 次，一年就是出行 195 亿次，21 年就是 4095 亿次，而近 21 年来平均每年交通死亡人数大概在 8 万人左右，总共死亡 168 万人\n综合计算大概每出行 24 万次死 1 个人</p>\n<p>如此看来飞机比其他交通工具的死亡率似乎更高啊，当然了，以上都是比较粗略的统计，不知道这么算对不，大家怎么看呢？</p>\n","last_modified":1647917761,"replies":33,"id":842039},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/6353/8fe6/519_large.png?m=1595507885","name":"ideas","avatar_normal":"https://cdn.v2ex.com/navatar/6353/8fe6/519_normal.png?m=1595507885","title":"奇思妙想","url":"https://www.v2ex.com/go/ideas","topics":4895,"footer":"","header":"让你的创意在这里自由流动吧。","title_alternative":"Ideas","avatar_mini":"https://cdn.v2ex.com/navatar/6353/8fe6/519_mini.png?m=1595507885","stars":2557,"aliases":[],"root":false,"id":519,"parent_node_name":"v2ex"},"member":{"id":180689,"username":"tozp","url":"https://www.v2ex.com/u/tozp","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/gravatar/b244b8f35aa2fe064d21f80f6e1aa27c?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/b244b8f35aa2fe064d21f80f6e1aa27c?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/b244b8f35aa2fe064d21f80f6e1aa27c?s=73&d=retro","created":1467855350,"last_modified":1467855350},"last_reply_by":"Arguments","last_touched":1647918820,"title":"关于 Electron 有个想法","url":"https://www.v2ex.com/t/842001","created":1647911361,"deleted":0,"content":"能不能开发个类似 bridge 的适配包，装上那个之后只要电脑上有 chrome 浏览器，所有 electron 应用就不必要每个都自带一整套 chrome 代码，以后应用程序的 size 会非常小？.net 框架貌似就是这样，只要电脑上装了运行时环境，应用程序不复杂的话只有几十几百 k 就能实现很多完整的功能。我没做过 electron ，所以以上也许是个可行的想法，欢迎交流。","content_rendered":"能不能开发个类似 bridge 的适配包，装上那个之后只要电脑上有 chrome 浏览器，所有 electron 应用就不必要每个都自带一整套 chrome 代码，以后应用程序的 size 会非常小？.net 框架貌似就是这样，只要电脑上装了运行时环境，应用程序不复杂的话只有几十几百 k 就能实现很多完整的功能。我没做过 electron ，所以以上也许是个可行的想法，欢迎交流。","last_modified":1647911361,"replies":27,"id":842001},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/e7b2/4b11/360_large.png?m=1641783557","name":"windows","avatar_normal":"https://cdn.v2ex.com/navatar/e7b2/4b11/360_normal.png?m=1641783557","title":"Windows","url":"https://www.v2ex.com/go/windows","topics":2624,"footer":"","header":"Windows, not walls.","title_alternative":"Windows","avatar_mini":"https://cdn.v2ex.com/navatar/e7b2/4b11/360_mini.png?m=1641783557","stars":853,"aliases":[],"root":false,"id":360,"parent_node_name":"os"},"member":{"id":369626,"username":"devswork","url":"https://www.v2ex.com/u/devswork","website":"","twitter":null,"psn":null,"github":null,"btc":null,"location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/avatar/e75e/ab76/369626_mini.png?m=1647845543","avatar_normal":"https://cdn.v2ex.com/avatar/e75e/ab76/369626_normal.png?m=1647845543","avatar_large":"https://cdn.v2ex.com/avatar/e75e/ab76/369626_large.png?m=1647845543","created":1544512630,"last_modified":1647845543},"last_reply_by":"DTCPSS","last_touched":1647920352,"title":"有多少人在用 winget？","url":"https://www.v2ex.com/t/842018","created":1647914799,"deleted":0,"content":"","content_rendered":"","last_modified":1647914799,"replies":25,"id":842018},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1647359938","name":"programmer","avatar_normal":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1647359938","title":"程序员","url":"https://www.v2ex.com/go/programmer","topics":47883,"footer":"","header":"While code monkeys are not eating bananas, they're coding.","title_alternative":"Programmer","avatar_mini":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1647359938","stars":7745,"aliases":[],"root":false,"id":300,"parent_node_name":"computer"},"member":{"id":476086,"username":"muooOOO","url":"https://www.v2ex.com/u/muooOOO","website":"","twitter":"","psn":"","github":"","btc":"","location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/avatar/7214/f880/476086_mini.png?m=1637375688","avatar_normal":"https://cdn.v2ex.com/avatar/7214/f880/476086_normal.png?m=1637375688","avatar_large":"https://cdn.v2ex.com/avatar/7214/f880/476086_large.png?m=1637375688","created":1583976445,"last_modified":1637375688},"last_reply_by":"gkinxin","last_touched":1647920764,"title":"入门级跑鞋求推荐","url":"https://www.v2ex.com/t/842023","created":1647915525,"deleted":0,"content":"去年开始沉迷跑步，因为看多了那些光脚大神的视频，所以就没穿过正经跑鞋。最好成绩是 10 公里，52 分钟。自那之后左脚跟腱就开始疼了，休息一段时间后复跑，结果左腿膝盖外侧又开始疼痛难忍。\n\n\n\n体重 75 ，预算 500 内，求推荐双跑鞋，拯救我的半马梦","content_rendered":"去年开始沉迷跑步，因为看多了那些光脚大神的视频，所以就没穿过正经跑鞋。最好成绩是 10 公里，52 分钟。自那之后左脚跟腱就开始疼了，休息一段时间后复跑，结果左腿膝盖外侧又开始疼痛难忍。<br /><br /><br /><br />体重 75 ，预算 500 内，求推荐双跑鞋，拯救我的半马梦","last_modified":1647915525,"replies":23,"id":842023},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1647188067","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1647188067","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":182673,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1647188067","stars":3440,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"id":315449,"username":"CSGO","url":"https://www.v2ex.com/u/CSGO","website":"wangyifang.com","twitter":"iYiFang","psn":"","github":"wyfang","btc":"","location":"China","tagline":"I'm Wi-Fi","bio":"V2EX开启自定义CSS，暗黑主题：\r\n@import url(\"//www.wangyifang.com/share/v2ex-dark/v2ex-dark.css\");","avatar_mini":"https://cdn.v2ex.com/avatar/ef71/2edc/315449_mini.png?m=1635224983","avatar_normal":"https://cdn.v2ex.com/avatar/ef71/2edc/315449_normal.png?m=1635224983","avatar_large":"https://cdn.v2ex.com/avatar/ef71/2edc/315449_large.png?m=1635224983","created":1525917683,"last_modified":1635224983},"last_reply_by":"Ciallo","last_touched":1647916187,"title":"有没有秋裤或袜子太短会很难受的朋友？","url":"https://www.v2ex.com/t/841994","created":1647907446,"deleted":0,"content":"不知道这是打小被这样穿导致的还是大家都这样？秋裤一定要和袜子覆盖，不然就会很难受。","content_rendered":"不知道这是打小被这样穿导致的还是大家都这样？秋裤一定要和袜子覆盖，不然就会很难受。","last_modified":1647907467,"replies":23,"id":841994},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/55b3/7c5c/649_large.png?m=1647187528","name":"wechat","avatar_normal":"https://cdn.v2ex.com/navatar/55b3/7c5c/649_normal.png?m=1647187528","title":"微信","url":"https://www.v2ex.com/go/wechat","topics":2978,"footer":"","header":"关于微信及微信小程序的讨论节点","title_alternative":"WeChat","avatar_mini":"https://cdn.v2ex.com/navatar/55b3/7c5c/649_mini.png?m=1647187528","stars":549,"aliases":[],"root":false,"id":649,"parent_node_name":"internet"},"member":{"id":573122,"username":"QuanBo","url":"https://www.v2ex.com/u/QuanBo","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/avatar/c3c6/c1ac/573122_mini.png?m=1647913131","avatar_normal":"https://cdn.v2ex.com/avatar/c3c6/c1ac/573122_normal.png?m=1647913131","avatar_large":"https://cdn.v2ex.com/avatar/c3c6/c1ac/573122_large.png?m=1647913131","avatar_xlarge":"https://cdn.v2ex.com/avatar/c3c6/c1ac/573122_xlarge.png?m=1647913131","avatar_xxlarge":"https://cdn.v2ex.com/avatar/c3c6/c1ac/573122_xlarge.png?m=1647913131","avatar_xxxlarge":"https://cdn.v2ex.com/avatar/c3c6/c1ac/573122_xlarge.png?m=1647913131","created":1645144394,"last_modified":1647913131},"last_reply_by":"xueteng1996","last_touched":1647918423,"title":"WeChat 总是显示连接中","url":"https://www.v2ex.com/t/842006","created":1647912286,"deleted":0,"content":"有没有用 weChat 的兄弟，不知道为啥我的 ios 端不开代理的时候 WeChat 一直转圈，开代理以后就正常发消息，有知道原因的嘛","content_rendered":"<p>有没有用 weChat 的兄弟，不知道为啥我的 ios 端不开代理的时候 WeChat 一直转圈，开代理以后就正常发消息，有知道原因的嘛</p>\n","last_modified":1647912337,"replies":21,"id":842006},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/03af/dbd6/63_large.png?m=1644490200","name":"java","avatar_normal":"https://cdn.v2ex.com/navatar/03af/dbd6/63_normal.png?m=1644490200","title":"Java","url":"https://www.v2ex.com/go/java","topics":4849,"footer":"","header":"Sun 公司发明，被广泛使用的一门编程语言。","title_alternative":"Java","avatar_mini":"https://cdn.v2ex.com/navatar/03af/dbd6/63_mini.png?m=1644490200","stars":4836,"aliases":[],"root":false,"id":63,"parent_node_name":"programming"},"member":{"id":449899,"username":"bmwyhc","url":"https://www.v2ex.com/u/bmwyhc","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/gravatar/b75462ace1903cc022ce8e65f1494d21?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/b75462ace1903cc022ce8e65f1494d21?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/b75462ace1903cc022ce8e65f1494d21?s=73&d=retro","created":1572336207,"last_modified":1572336207},"last_reply_by":"BiChengfei","last_touched":1647920120,"title":"问一个关于 Java 线程的疑惑？","url":"https://www.v2ex.com/t/842015","created":1647914103,"deleted":0,"content":"最近在重新学习有关 java 多线程方面的知识。然后使用内部锁的机制，想简单模拟一下生产者和消费者。\r\n代码逻辑大概是这样的：每个生产者线程产生 10 个数据，然后供一个消费者消费。由于在 main 线程中设置了每个生产者线程的名字，所以想在生产者生成数据的逻辑中打印当前线程名。\r\n我的疑惑：\r\n1. 为什么打印日志中，线程的名字有重复？比如在日志中没有看到 producer-2 或 producer-5 ，但是 producer-17 和 producer-11 分别重复出现了 3 次？\r\n2. 线程总数可以对上，不知道是不是代码哪里出了问题还是本身没有理解到位？\r\n\r\n代码如下与日志输出如下：\r\n```java\r\npackage org.example;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.Random;\r\n\r\nimport lombok.SneakyThrows;\r\nimport lombok.extern.slf4j.Slf4j;\r\n\r\n@Slf4j\r\npublic class WaitAndNotify {\r\n\r\n\tprivate final Object lock = new Object();\r\n\r\n\tprivate final List<Integer> list = new ArrayList<>();\r\n\r\n\tprivate final Random random = new Random();\r\n\r\n\tpublic void producer() throws InterruptedException {\r\n\t\tsynchronized (lock) {\r\n\t\t\twhile (list.size() == 10) {\r\n\t\t\t\tlock.wait();\r\n\t\t\t}\r\n\t\t\tlist.add(random.nextInt(100));\r\n\t\t\tif (list.size() == 10) {\r\n\t\t\t\tlog.info(\"thread-{},{}\", Thread.currentThread().getName(),\r\n\t\t\t\t\t\tArrays.toString(list.toArray(new Integer[0])));\r\n\t\t\t}\r\n\t\t\tlock.notifyAll();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void consumer() throws InterruptedException {\r\n\t\tsynchronized (lock) {\r\n\t\t\twhile (list.size() < 10) {\r\n\t\t\t\tlock.wait();\r\n\t\t\t}\r\n\t\t\tlist.clear();\r\n\t\t\tlock.notifyAll();\r\n\t\t}\r\n\t}\r\n\r\n\tstatic class MyProducer implements Runnable {\r\n\r\n\t\tprivate final WaitAndNotify waitAndNotify;\r\n\r\n\t\tpublic MyProducer(WaitAndNotify waitAndNotify) {\r\n\t\t\tthis.waitAndNotify = waitAndNotify;\r\n\t\t}\r\n\r\n\t\t@SneakyThrows\r\n\t\t@Override\r\n\t\tpublic void run() {\r\n\t\t\tint i = 10;\r\n\t\t\twhile (i > 0) {\r\n\t\t\t\twaitAndNotify.producer();\r\n\t\t\t\ti--;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tstatic class MyConsumer implements Runnable {\r\n\r\n\t\tprivate final WaitAndNotify waitAndNotify;\r\n\r\n\t\tpublic MyConsumer(WaitAndNotify waitAndNotify) {\r\n\t\t\tthis.waitAndNotify = waitAndNotify;\r\n\t\t}\r\n\r\n\t\t@SneakyThrows\r\n\t\t@Override\r\n\t\tpublic void run() {\r\n\t\t\twhile (true) {\r\n\t\t\t\twaitAndNotify.consumer();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tWaitAndNotify waitAndNotify = new WaitAndNotify();\r\n\t\tRunnable runnable = new MyProducer(waitAndNotify);\r\n\t\tfor (int i = 0; i < 20; i++) {\r\n\t\t\tThread producer = new Thread(runnable, \"producer-\" + i);\r\n\t\t\tproducer.start();\r\n\t\t}\r\n\t\tThread consumer = new Thread(new MyConsumer(waitAndNotify), \"consumer\");\r\n\t\tconsumer.start();\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\n2022-03-21 17:32:42,014 INFO  [learning-concurrency][producer-0] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-0,[49, 96, 0, 43, 23, 6, 79, 44, 28, 21]\r\n2022-03-21 17:32:42,019 INFO  [learning-concurrency][producer-17] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-17,[92, 56, 9, 43, 77, 24, 53, 74, 44, 85]\r\n2022-03-21 17:32:42,019 INFO  [learning-concurrency][producer-1] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-1,[86, 11, 10, 58, 5, 86, 3, 68, 73, 24]\r\n2022-03-21 17:32:42,020 INFO  [learning-concurrency][producer-17] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-17,[10, 9, 97, 41, 81, 35, 84, 0, 86, 12]\r\n2022-03-21 17:32:42,020 INFO  [learning-concurrency][producer-3] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-3,[13, 90, 30, 45, 1, 8, 43, 68, 49, 26]\r\n2022-03-21 17:32:42,020 INFO  [learning-concurrency][producer-17] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-17,[81, 19, 34, 58, 89, 66, 74, 76, 20, 5]\r\n2022-03-21 17:32:42,021 INFO  [learning-concurrency][producer-4] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-4,[48, 60, 0, 36, 97, 9, 42, 44, 67, 81]\r\n2022-03-21 17:32:42,021 INFO  [learning-concurrency][producer-16] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-16,[77, 38, 17, 63, 71, 7, 80, 64, 61, 19]\r\n2022-03-21 17:32:42,021 INFO  [learning-concurrency][producer-6] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-6,[47, 56, 50, 7, 89, 45, 32, 91, 97, 66]\r\n2022-03-21 17:32:42,022 INFO  [learning-concurrency][producer-16] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-16,[27, 96, 24, 85, 3, 28, 23, 21, 93, 72]\r\n2022-03-21 17:32:42,022 INFO  [learning-concurrency][producer-7] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-7,[4, 95, 19, 95, 42, 9, 49, 5, 54, 8]\r\n2022-03-21 17:32:42,022 INFO  [learning-concurrency][producer-13] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-13,[43, 81, 97, 19, 40, 65, 48, 32, 61, 77]\r\n2022-03-21 17:32:42,023 INFO  [learning-concurrency][producer-14] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-14,[67, 81, 84, 11, 73, 71, 65, 26, 78, 45]\r\n2022-03-21 17:32:42,023 INFO  [learning-concurrency][producer-12] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-12,[54, 48, 67, 88, 0, 78, 99, 12, 49, 84]\r\n2022-03-21 17:32:42,023 INFO  [learning-concurrency][producer-7] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-7,[58, 66, 53, 39, 14, 64, 2, 57, 27, 91]\r\n2022-03-21 17:32:42,023 INFO  [learning-concurrency][producer-11] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-11,[91, 79, 70, 36, 34, 28, 63, 67, 17, 77]\r\n2022-03-21 17:32:42,024 INFO  [learning-concurrency][producer-10] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-10,[2, 76, 42, 92, 91, 87, 64, 20, 25, 3]\r\n2022-03-21 17:32:42,024 INFO  [learning-concurrency][producer-9] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-9,[46, 57, 98, 0, 28, 68, 63, 71, 97, 54]\r\n2022-03-21 17:32:42,024 INFO  [learning-concurrency][producer-11] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-11,[26, 66, 10, 77, 69, 41, 77, 80, 21, 55]\r\n2022-03-21 17:32:42,024 INFO  [learning-concurrency][producer-11] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-11,[94, 97, 84, 87, 85, 53, 77, 88, 79, 84]\r\n```","content_rendered":"<p>最近在重新学习有关 java 多线程方面的知识。然后使用内部锁的机制，想简单模拟一下生产者和消费者。\n代码逻辑大概是这样的：每个生产者线程产生 10 个数据，然后供一个消费者消费。由于在 main 线程中设置了每个生产者线程的名字，所以想在生产者生成数据的逻辑中打印当前线程名。\n我的疑惑：</p>\n<ol>\n<li>为什么打印日志中，线程的名字有重复？比如在日志中没有看到 producer-2 或 producer-5 ，但是 producer-17 和 producer-11 分别重复出现了 3 次？</li>\n<li>线程总数可以对上，不知道是不是代码哪里出了问题还是本身没有理解到位？</li>\n</ol>\n<p>代码如下与日志输出如下：</p>\n<pre><code class=\"language-java\">package org.example;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.Random;\n\nimport lombok.SneakyThrows;\nimport lombok.extern.slf4j.Slf4j;\n\n@Slf4j\npublic class WaitAndNotify {\n\n\tprivate final Object lock = new Object();\n\n\tprivate final List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n\n\tprivate final Random random = new Random();\n\n\tpublic void producer() throws InterruptedException {\n\t\tsynchronized (lock) {\n\t\t\twhile (list.size() == 10) {\n\t\t\t\tlock.wait();\n\t\t\t}\n\t\t\tlist.add(random.nextInt(100));\n\t\t\tif (list.size() == 10) {\n\t\t\t\tlog.info(\"thread-{},{}\", Thread.currentThread().getName(),\n\t\t\t\t\t\tArrays.toString(list.toArray(new Integer[0])));\n\t\t\t}\n\t\t\tlock.notifyAll();\n\t\t}\n\t}\n\n\tpublic void consumer() throws InterruptedException {\n\t\tsynchronized (lock) {\n\t\t\twhile (list.size() &lt; 10) {\n\t\t\t\tlock.wait();\n\t\t\t}\n\t\t\tlist.clear();\n\t\t\tlock.notifyAll();\n\t\t}\n\t}\n\n\tstatic class MyProducer implements Runnable {\n\n\t\tprivate final WaitAndNotify waitAndNotify;\n\n\t\tpublic MyProducer(WaitAndNotify waitAndNotify) {\n\t\t\tthis.waitAndNotify = waitAndNotify;\n\t\t}\n\n\t\t@SneakyThrows\n\t\t@Override\n\t\tpublic void run() {\n\t\t\tint i = 10;\n\t\t\twhile (i &gt; 0) {\n\t\t\t\twaitAndNotify.producer();\n\t\t\t\ti--;\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic class MyConsumer implements Runnable {\n\n\t\tprivate final WaitAndNotify waitAndNotify;\n\n\t\tpublic MyConsumer(WaitAndNotify waitAndNotify) {\n\t\t\tthis.waitAndNotify = waitAndNotify;\n\t\t}\n\n\t\t@SneakyThrows\n\t\t@Override\n\t\tpublic void run() {\n\t\t\twhile (true) {\n\t\t\t\twaitAndNotify.consumer();\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tWaitAndNotify waitAndNotify = new WaitAndNotify();\n\t\tRunnable runnable = new MyProducer(waitAndNotify);\n\t\tfor (int i = 0; i &lt; 20; i++) {\n\t\t\tThread producer = new Thread(runnable, \"producer-\" + i);\n\t\t\tproducer.start();\n\t\t}\n\t\tThread consumer = new Thread(new MyConsumer(waitAndNotify), \"consumer\");\n\t\tconsumer.start();\n\t}\n}\n\n</code></pre>\n<pre><code>2022-03-21 17:32:42,014 INFO  [learning-concurrency][producer-0] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-0,[49, 96, 0, 43, 23, 6, 79, 44, 28, 21]\n2022-03-21 17:32:42,019 INFO  [learning-concurrency][producer-17] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-17,[92, 56, 9, 43, 77, 24, 53, 74, 44, 85]\n2022-03-21 17:32:42,019 INFO  [learning-concurrency][producer-1] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-1,[86, 11, 10, 58, 5, 86, 3, 68, 73, 24]\n2022-03-21 17:32:42,020 INFO  [learning-concurrency][producer-17] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-17,[10, 9, 97, 41, 81, 35, 84, 0, 86, 12]\n2022-03-21 17:32:42,020 INFO  [learning-concurrency][producer-3] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-3,[13, 90, 30, 45, 1, 8, 43, 68, 49, 26]\n2022-03-21 17:32:42,020 INFO  [learning-concurrency][producer-17] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-17,[81, 19, 34, 58, 89, 66, 74, 76, 20, 5]\n2022-03-21 17:32:42,021 INFO  [learning-concurrency][producer-4] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-4,[48, 60, 0, 36, 97, 9, 42, 44, 67, 81]\n2022-03-21 17:32:42,021 INFO  [learning-concurrency][producer-16] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-16,[77, 38, 17, 63, 71, 7, 80, 64, 61, 19]\n2022-03-21 17:32:42,021 INFO  [learning-concurrency][producer-6] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-6,[47, 56, 50, 7, 89, 45, 32, 91, 97, 66]\n2022-03-21 17:32:42,022 INFO  [learning-concurrency][producer-16] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-16,[27, 96, 24, 85, 3, 28, 23, 21, 93, 72]\n2022-03-21 17:32:42,022 INFO  [learning-concurrency][producer-7] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-7,[4, 95, 19, 95, 42, 9, 49, 5, 54, 8]\n2022-03-21 17:32:42,022 INFO  [learning-concurrency][producer-13] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-13,[43, 81, 97, 19, 40, 65, 48, 32, 61, 77]\n2022-03-21 17:32:42,023 INFO  [learning-concurrency][producer-14] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-14,[67, 81, 84, 11, 73, 71, 65, 26, 78, 45]\n2022-03-21 17:32:42,023 INFO  [learning-concurrency][producer-12] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-12,[54, 48, 67, 88, 0, 78, 99, 12, 49, 84]\n2022-03-21 17:32:42,023 INFO  [learning-concurrency][producer-7] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-7,[58, 66, 53, 39, 14, 64, 2, 57, 27, 91]\n2022-03-21 17:32:42,023 INFO  [learning-concurrency][producer-11] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-11,[91, 79, 70, 36, 34, 28, 63, 67, 17, 77]\n2022-03-21 17:32:42,024 INFO  [learning-concurrency][producer-10] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-10,[2, 76, 42, 92, 91, 87, 64, 20, 25, 3]\n2022-03-21 17:32:42,024 INFO  [learning-concurrency][producer-9] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-9,[46, 57, 98, 0, 28, 68, 63, 71, 97, 54]\n2022-03-21 17:32:42,024 INFO  [learning-concurrency][producer-11] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-11,[26, 66, 10, 77, 69, 41, 77, 80, 21, 55]\n2022-03-21 17:32:42,024 INFO  [learning-concurrency][producer-11] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-11,[94, 97, 84, 87, 85, 53, 77, 88, 79, 84]\n</code></pre>\n","last_modified":1647914103,"replies":20,"id":842015},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1647359938","name":"programmer","avatar_normal":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1647359938","title":"程序员","url":"https://www.v2ex.com/go/programmer","topics":47886,"footer":"","header":"While code monkeys are not eating bananas, they're coding.","title_alternative":"Programmer","avatar_mini":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1647359938","stars":7745,"aliases":[],"root":false,"id":300,"parent_node_name":"computer"},"member":{"id":551892,"username":"wanghg","url":"https://www.v2ex.com/u/wanghg","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/gravatar/f94fd871f2254ac29c4a292cea4996f9?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/f94fd871f2254ac29c4a292cea4996f9?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/f94fd871f2254ac29c4a292cea4996f9?s=73&d=retro","created":1627376761,"last_modified":1627376761},"last_reply_by":"anyele","last_touched":1647920134,"title":"现在 Java 转 go 有希望吗？","url":"https://www.v2ex.com/t/842037","created":1647917600,"deleted":0,"content":"3 年 java 开发，成都 java 太倦了，现在想转 go ，自学一年能找到工作吗","content_rendered":"<p>3 年 java 开发，成都 java 太倦了，现在想转 go ，自学一年能找到工作吗</p>\n","last_modified":1647917600,"replies":17,"id":842037},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/4ea0/6fbc/770_large.png?m=1647878519","name":"career","avatar_normal":"https://cdn.v2ex.com/navatar/4ea0/6fbc/770_normal.png?m=1647878519","title":"职场话题","url":"https://www.v2ex.com/go/career","topics":12854,"footer":"","header":"这里，我们聊聊那些工作中遇到的开心和不开心的事。","title_alternative":"Career","avatar_mini":"https://cdn.v2ex.com/navatar/4ea0/6fbc/770_mini.png?m=1647878519","stars":2296,"aliases":[],"root":false,"id":770,"parent_node_name":"work"},"member":{"id":571898,"username":"whiteblossoms","url":"https://www.v2ex.com/u/whiteblossoms","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/avatar/ffd0/8a27/571898_mini.png?m=1644134737","avatar_normal":"https://cdn.v2ex.com/avatar/ffd0/8a27/571898_normal.png?m=1644134737","avatar_large":"https://cdn.v2ex.com/avatar/ffd0/8a27/571898_large.png?m=1644134737","avatar_xlarge":"https://cdn.v2ex.com/avatar/ffd0/8a27/571898_xlarge.png?m=1644134737","avatar_xxlarge":"https://cdn.v2ex.com/avatar/ffd0/8a27/571898_xlarge.png?m=1644134737","avatar_xxxlarge":"https://cdn.v2ex.com/avatar/ffd0/8a27/571898_xlarge.png?m=1644134737","created":1644134157,"last_modified":1644134737},"last_reply_by":"vevy","last_touched":1647919363,"title":"想问下大家咱大三找暑期实习还来得及嘛...","url":"https://www.v2ex.com/t/842011","created":1647913414,"deleted":0,"content":"咱是某不知名双一流大三选手（好吧就是双非），其实原来并没有想做相关工作的但是去年遇到一些事情，总之各种原因今年想先试试本专业工作。专业方面，gpa 百分之十（没啥用 qaq ），基础的话，像数据结构感觉算法之类还可以（之前期末 oj 做算法题大概类似竞赛的模式基本就 acm 集训队的排在我前面），然后因为之前想跑路的就去干别的了，也没有钻研什么技术，课设就用过 swing 和 springboot （老师要求 qaq 很水），然后网络课设用 node 写过一个很简易的聊天室（ socket.io ）。今年年初在看 mdn 相关（对 js 突然有兴趣，英语读速确实有待提高），三件套写过不少东西（应付作业 and 课设），目前还没有看框架...打算马上去看 vue 和 ts 。毕竟也是双非嘛简历就容易挂感觉自己也挺水的，找实习感觉会很难....前端的话，目前的话就是也挺怕来不及的。哦对算法题喜欢用 C++会不会到时候很奇怪 qwq ，然后英语水平还行吧纸面成绩只有 570 的六级，不过阅读文档速度有待提高","content_rendered":"<p>咱是某不知名双一流大三选手（好吧就是双非），其实原来并没有想做相关工作的但是去年遇到一些事情，总之各种原因今年想先试试本专业工作。专业方面，gpa 百分之十（没啥用 qaq ），基础的话，像数据结构感觉算法之类还可以（之前期末 oj 做算法题大概类似竞赛的模式基本就 acm 集训队的排在我前面），然后因为之前想跑路的就去干别的了，也没有钻研什么技术，课设就用过 swing 和 springboot （老师要求 qaq 很水），然后网络课设用 node 写过一个很简易的聊天室（ <a href=\"http://socket.io\" rel=\"nofollow\">socket.io</a> ）。今年年初在看 mdn 相关（对 js 突然有兴趣，英语读速确实有待提高），三件套写过不少东西（应付作业 and 课设），目前还没有看框架...打算马上去看 vue 和 ts 。毕竟也是双非嘛简历就容易挂感觉自己也挺水的，找实习感觉会很难....前端的话，目前的话就是也挺怕来不及的。哦对算法题喜欢用 C++会不会到时候很奇怪 qwq ，然后英语水平还行吧纸面成绩只有 570 的六级，不过阅读文档速度有待提高</p>\n","last_modified":1647913414,"replies":16,"id":842011},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/b6d7/67d2/22_large.png?m=1635652519","name":"macos","avatar_normal":"https://cdn.v2ex.com/navatar/b6d7/67d2/22_normal.png?m=1635652519","title":"macOS","url":"https://www.v2ex.com/go/macos","topics":18145,"footer":"<a href=\"/mbp\">MacBook Pro</a> 及 <a href=\"/go/imac\">iMac</a> 等 <a href=\"/go/apple\">Apple</a> 公司设计的计算机所运行的操作系统。<a href=\"/go/idev\">iOS</a> 的基础。","header":"The world’s most advanced desktop operating system.","title_alternative":"macOS","avatar_mini":"https://cdn.v2ex.com/navatar/b6d7/67d2/22_mini.png?m=1635652519","stars":4558,"aliases":[],"root":false,"id":22,"parent_node_name":"os"},"member":{"id":150471,"username":"fengche361","url":"https://www.v2ex.com/u/fengche361","website":"","twitter":"","psn":"","github":"zhangyingwei","btc":"","location":"北京","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/avatar/3b78/11c7/150471_mini.png?m=1647918095","avatar_normal":"https://cdn.v2ex.com/avatar/3b78/11c7/150471_normal.png?m=1647918095","avatar_large":"https://cdn.v2ex.com/avatar/3b78/11c7/150471_large.png?m=1647918095","created":1449554437,"last_modified":1647918095},"last_reply_by":"reallynyn","last_touched":1647921094,"title":"15 款 MBP，退役了还能干嘛","url":"https://www.v2ex.com/t/842040","created":1647918124,"deleted":0,"content":"最近终于下定主意换新款 MBP ，家里老的 15 款 MBP 感觉闲着有点浪费。 各位吴彦祖们有什么好的建议。\r\n\r\n15 款 13 寸 16G+500G","content_rendered":"<p>最近终于下定主意换新款 MBP ，家里老的 15 款 MBP 感觉闲着有点浪费。 各位吴彦祖们有什么好的建议。</p>\n<p>15 款 13 寸 16G+500G</p>\n","last_modified":1647918124,"replies":15,"id":842040},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/3417/3cb3/30_large.png?m=1598508698","name":"chengdu","avatar_normal":"https://cdn.v2ex.com/navatar/3417/3cb3/30_normal.png?m=1598508698","title":"成都","url":"https://www.v2ex.com/go/chengdu","topics":1200,"footer":"","header":"","title_alternative":"Chengdu","avatar_mini":"https://cdn.v2ex.com/navatar/3417/3cb3/30_mini.png?m=1598508698","stars":988,"aliases":[],"root":false,"id":30,"parent_node_name":"cn"},"member":{"id":512931,"username":"bruceche11","url":"https://www.v2ex.com/u/bruceche11","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/avatar/09eb/84bf/512931_mini.png?m=1626341405","avatar_normal":"https://cdn.v2ex.com/avatar/09eb/84bf/512931_normal.png?m=1626341405","avatar_large":"https://cdn.v2ex.com/avatar/09eb/84bf/512931_large.png?m=1626341405","created":1602742383,"last_modified":1626341405},"last_reply_by":"luny","last_touched":1647918886,"title":"想把两个闲置的手机卖掉，看网上平台都说比较坑，哪里找个人卖家？","url":"https://www.v2ex.com/t/842019","created":1647915131,"deleted":0,"content":"RT   手头有两个闲置的手机   一个完好  一个屏幕烂了   想卖掉   去哪里卖？","content_rendered":"<p>RT   手头有两个闲置的手机   一个完好  一个屏幕烂了   想卖掉   去哪里卖？</p>\n","last_modified":1647915131,"replies":14,"id":842019},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c74d/97b0/16_large.png?m=1647359966","name":"share","avatar_normal":"https://cdn.v2ex.com/navatar/c74d/97b0/16_normal.png?m=1647359966","title":"分享发现","url":"https://www.v2ex.com/go/share","topics":35200,"footer":"","header":"分享你看到的好玩的，有信息量的，欢迎从这里获取灵感。","title_alternative":"Share","avatar_mini":"https://cdn.v2ex.com/navatar/c74d/97b0/16_mini.png?m=1647359966","stars":4763,"aliases":[],"root":false,"id":16,"parent_node_name":"v2ex"},"member":{"id":556900,"username":"V9NN","url":"https://www.v2ex.com/u/V9NN","website":"","twitter":null,"psn":null,"github":null,"btc":null,"location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/gravatar/ab5a7987d56e681a68ed920468ec7186?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/ab5a7987d56e681a68ed920468ec7186?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/ab5a7987d56e681a68ed920468ec7186?s=73&d=retro","created":1632620580,"last_modified":1646439710},"last_reply_by":"Chad0000","last_touched":1647917225,"title":"“搜狗输入法”在未使用状态频繁进行网络连接","url":"https://www.v2ex.com/t/842003","created":1647911659,"deleted":0,"content":"macOS 平台\r\n主用系统自带的拼音输入法，搜狗输入法虽然安装了，但是在键盘偏好设置里输入法列表没有添加（之前添加过删掉了）。\r\n近期查看网络连接日志，发现搜狗输入法几分钟就进行一次网络连接。\r\n\r\nhttps://i.imgur.com/yZWJLCB.png\r\n\r\n所以，我把搜狗输入法卸载了。","content_rendered":"macOS 平台<br />主用系统自带的拼音输入法，搜狗输入法虽然安装了，但是在键盘偏好设置里输入法列表没有添加（之前添加过删掉了）。<br />近期查看网络连接日志，发现搜狗输入法几分钟就进行一次网络连接。<br /><br /><a target=\"_blank\" href=\"https://i.imgur.com/yZWJLCB.png\" rel=\"nofollow noopener\" target=\"_blank\"><img src=\"https://i.imgur.com/yZWJLCB.png\" class=\"embedded_image\" rel=\"noreferrer\"></a><br /><br />所以，我把搜狗输入法卸载了。","last_modified":1647911659,"replies":14,"id":842003},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1647359938","name":"programmer","avatar_normal":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1647359938","title":"程序员","url":"https://www.v2ex.com/go/programmer","topics":47886,"footer":"","header":"While code monkeys are not eating bananas, they're coding.","title_alternative":"Programmer","avatar_mini":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1647359938","stars":7745,"aliases":[],"root":false,"id":300,"parent_node_name":"computer"},"member":{"id":47543,"username":"zifangsky","url":"https://www.v2ex.com/u/zifangsky","website":"https://www.zifangsky.cn","twitter":"","psn":"","github":"zifangsky","btc":"","location":"","tagline":"微信：world_coder，暗号：v2ex","bio":"","avatar_mini":"https://cdn.v2ex.com/gravatar/de3652abdfe21b18791ce26f9000e2b6?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/de3652abdfe21b18791ce26f9000e2b6?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/de3652abdfe21b18791ce26f9000e2b6?s=73&d=retro","created":1382428578,"last_modified":1382428578},"last_reply_by":"idblife","last_touched":1647922646,"title":"刚看到阿里云大数据 SRE 团队开源了一个叫 SREWorks 的运维平台项目，这个事大家怎么看？","url":"https://www.v2ex.com/t/842045","created":1647918532,"deleted":0,"content":"初步看了下他们公众号文章中的介绍，看起来功能挺强大的，就是不知道现阶段做到了什么程度，实际体验怎么样，大家可以一起讨论一下啊\r\n\r\n---\r\n\r\n以下是部分介绍的摘要：[https://mp.weixin.qq.com/s/xLHRLD3-seFx93zU8B4pNA]( https://mp.weixin.qq.com/s/xLHRLD3-seFx93zU8B4pNA)\r\n\r\n### 一  SREWorks 是什么？\r\n\r\n谷歌在 2003 年提出了一种岗位叫做 SRE (Site Reliability Engineer ，站点可靠性工程师)，它是软件工程师和系统管理员的结合，重视运维人员的开发能力，要求运维日常琐事在 50%以内，另外 50%精力开发自动化工具减少人力需求。\r\n\r\n\r\nSREWorks 作为阿里云大数据 SRE 团队对 SRE 理念的工程实践，专注于以应用为中心的一站式“云原生”、“数智化”运维 SaaS 管理套件，提供企业应用&资源管理及运维开发两大核心能力，帮助企业实现云原生应用&资源的交付运维。\r\n\r\n\r\n阿里云大数据 SRE 团队天然靠近大数据和 AI ，对大数据&AI 技术非常熟悉，且具有随取随用的大数据&AI 算力资源，一直努力践行“数据化”、“智能化”的运维理念，行业里的 DataOps （数据化运维）最早由该团队提出。SREWorks 中有一套端到端的 DataOps 闭环工程化实践，包括标准的运维数仓、数据运维平台、运营中心等。\r\n\r\n随着云原生时代大趋势的到来，阿里云大数据 SRE 团队将 SREWorks 运维平台开源，希望为运维工程师们提供开箱即用的运维平台。","content_rendered":"<p>初步看了下他们公众号文章中的介绍，看起来功能挺强大的，就是不知道现阶段做到了什么程度，实际体验怎么样，大家可以一起讨论一下啊</p>\n<hr/>\n<p>以下是部分介绍的摘要：<a href=\"https://mp.weixin.qq.com/s/xLHRLD3-seFx93zU8B4pNA\" rel=\"nofollow\">https://mp.weixin.qq.com/s/xLHRLD3-seFx93zU8B4pNA</a></p>\n<h3>一  SREWorks 是什么？</h3>\n<p>谷歌在 2003 年提出了一种岗位叫做 SRE (Site Reliability Engineer ，站点可靠性工程师)，它是软件工程师和系统管理员的结合，重视运维人员的开发能力，要求运维日常琐事在 50%以内，另外 50%精力开发自动化工具减少人力需求。</p>\n<p>SREWorks 作为阿里云大数据 SRE 团队对 SRE 理念的工程实践，专注于以应用为中心的一站式“云原生”、“数智化”运维 SaaS 管理套件，提供企业应用&amp;资源管理及运维开发两大核心能力，帮助企业实现云原生应用&amp;资源的交付运维。</p>\n<p>阿里云大数据 SRE 团队天然靠近大数据和 AI ，对大数据&amp;AI 技术非常熟悉，且具有随取随用的大数据&amp;AI 算力资源，一直努力践行“数据化”、“智能化”的运维理念，行业里的 DataOps （数据化运维）最早由该团队提出。SREWorks 中有一套端到端的 DataOps 闭环工程化实践，包括标准的运维数仓、数据运维平台、运营中心等。</p>\n<p>随着云原生时代大趋势的到来，阿里云大数据 SRE 团队将 SREWorks 运维平台开源，希望为运维工程师们提供开箱即用的运维平台。</p>\n","last_modified":1647918532,"replies":12,"id":842045},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1647188067","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1647188067","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":182678,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1647188067","stars":3440,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"id":346240,"username":"supuwoerc","url":"https://www.v2ex.com/u/supuwoerc","website":"","twitter":"","psn":"","github":"","btc":"","location":"北京","tagline":"","bio":"beijingbeijing","avatar_mini":"https://cdn.v2ex.com/avatar/3da5/e050/346240_mini.png?m=1636336558","avatar_normal":"https://cdn.v2ex.com/avatar/3da5/e050/346240_normal.png?m=1636336558","avatar_large":"https://cdn.v2ex.com/avatar/3da5/e050/346240_large.png?m=1636336558","created":1535763740,"last_modified":1636336558},"last_reply_by":"muyangren","last_touched":1647922195,"title":"怎么避免裸辞陷入焦虑","url":"https://www.v2ex.com/t/842061","created":1647920679,"deleted":0,"content":"3.10 号裸辞，从 3.16 号开始投简历面试，四天下来拿到四个 offer ，但基本都压了 1-2k 的薪资，最好的一个 offer 谈下来感受蛮好，但是 hr 说可能要 4.6 号才能入职，因为现在疫情，公司都在居家办公......\r\n\r\n真的好焦虑...\r\n\r\n因为空档期不够，也没时间刷算法，大厂中厂又要卷算法，太难了，心口闷...开始自我怀疑了\r\n\r\n每天都很早累到睡着，然后半夜醒了失眠到天亮，真怕猝死在求职路上...\r\n\r\n不知道怎么避免这样...","content_rendered":"3.10 号裸辞，从 3.16 号开始投简历面试，四天下来拿到四个 offer ，但基本都压了 1-2k 的薪资，最好的一个 offer 谈下来感受蛮好，但是 hr 说可能要 4.6 号才能入职，因为现在疫情，公司都在居家办公......<br /><br />真的好焦虑...<br /><br />因为空档期不够，也没时间刷算法，大厂中厂又要卷算法，太难了，心口闷...开始自我怀疑了<br /><br />每天都很早累到睡着，然后半夜醒了失眠到天亮，真怕猝死在求职路上...<br /><br />不知道怎么避免这样...","last_modified":1647920679,"replies":9,"id":842061},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1647188067","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1647188067","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":182676,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1647188067","stars":3440,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"id":412910,"username":"cgdddd","url":"https://www.v2ex.com/u/cgdddd","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/gravatar/df61550cdb91f40cc92ccd616da6d2ae?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/df61550cdb91f40cc92ccd616da6d2ae?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/df61550cdb91f40cc92ccd616da6d2ae?s=73&d=retro","created":1557994287,"last_modified":1647910416},"last_reply_by":"YNaN","last_touched":1647917970,"title":"前端如何在页面上实现在主线业务模块扩展多个分支业务","url":"https://www.v2ex.com/t/842000","created":1647910882,"deleted":0,"content":"## 前端如何在页面上实现在主线业务模块扩展多个分支业务\r\n> 最近项目中遇到一个需求,原有的后台管理系统已经开发完成,但是需要针对不同单位拓展不同的业务,但是拓展的业务又和主线业务有非常强的耦合性,具体需求如下: \r\n   \t- 新增加业务不能影响原来的业务,最好做到逻辑和代码都分离\r\n   \t- 新增的业务又分为多条支路,每个支路的业务也不能互相影响\r\n    - 支持不同模块和业务功能的拓展\r\n    - 主线业务是用 vue2 进行开发\r\n\t具体业务场景如下,在原有的表单业务中有 20 个字段,先需求需要在不影响原有业务的情况下对表单进行扩展(A 单位添加 5 个字段, B 单位添加 8 个字段,C 单位...),并且各单位添加的字段要相对独立,不能影响到原有主线业务的同时也不能影响其他单位的业务;\r\n    想了很久都没有想到特别合适的解决方案,请问各位有没有较好的解决思路或者方案?","content_rendered":"## 前端如何在页面上实现在主线业务模块扩展多个分支业务<br />&gt; 最近项目中遇到一个需求,原有的后台管理系统已经开发完成,但是需要针对不同单位拓展不同的业务,但是拓展的业务又和主线业务有非常强的耦合性,具体需求如下: <br />   \t- 新增加业务不能影响原来的业务,最好做到逻辑和代码都分离<br />   \t- 新增的业务又分为多条支路,每个支路的业务也不能互相影响<br />    - 支持不同模块和业务功能的拓展<br />    - 主线业务是用 vue2 进行开发<br />\t具体业务场景如下,在原有的表单业务中有 20 个字段,先需求需要在不影响原有业务的情况下对表单进行扩展(A 单位添加 5 个字段, B 单位添加 8 个字段,C 单位...),并且各单位添加的字段要相对独立,不能影响到原有主线业务的同时也不能影响其他单位的业务;<br />    想了很久都没有想到特别合适的解决方案,请问各位有没有较好的解决思路或者方案?","last_modified":1647910882,"replies":9,"id":842000},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/55b3/7c5c/649_large.png?m=1647187528","name":"wechat","avatar_normal":"https://cdn.v2ex.com/navatar/55b3/7c5c/649_normal.png?m=1647187528","title":"微信","url":"https://www.v2ex.com/go/wechat","topics":2979,"footer":"","header":"关于微信及微信小程序的讨论节点","title_alternative":"WeChat","avatar_mini":"https://cdn.v2ex.com/navatar/55b3/7c5c/649_mini.png?m=1647187528","stars":549,"aliases":[],"root":false,"id":649,"parent_node_name":"internet"},"member":{"id":76232,"username":"Vie","url":"https://www.v2ex.com/u/Vie","website":"","twitter":"","psn":"","github":"","btc":"","location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/avatar/365b/cf11/76232_mini.png?m=1416898684","avatar_normal":"https://cdn.v2ex.com/avatar/365b/cf11/76232_normal.png?m=1416898684","avatar_large":"https://cdn.v2ex.com/avatar/365b/cf11/76232_large.png?m=1416898684","created":1412734063,"last_modified":1416898684},"last_reply_by":"Vie","last_touched":1647920552,"title":"微信群被封了如何解封？","url":"https://www.v2ex.com/t/842056","created":1647920085,"deleted":0,"content":"实体店（剧本推理社）的群，里面都是客户，然后被不友好的群友举报了，导致群无法发送消息。\r\n\r\n\r\n一直联系不上腾讯人工客服，机器人说新建群。\r\n\r\n群是半年好不容易才满 500 人的，疫情当前，实体店不易。\r\n\r\n所以很希望能够解封群，有知道如何解封的嘛？","content_rendered":"<p>实体店（剧本推理社）的群，里面都是客户，然后被不友好的群友举报了，导致群无法发送消息。</p>\n<p>一直联系不上腾讯人工客服，机器人说新建群。</p>\n<p>群是半年好不容易才满 500 人的，疫情当前，实体店不易。</p>\n<p>所以很希望能够解封群，有知道如何解封的嘛？</p>\n","last_modified":1647920085,"replies":7,"id":842056},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1647188067","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1647188067","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":182678,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1647188067","stars":3440,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"id":277783,"username":"dongisking","url":"https://www.v2ex.com/u/dongisking","website":"","twitter":"","psn":"","github":"","btc":"","location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/gravatar/e2d315859d2d0886b3d2c0e06abaee44?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/e2d315859d2d0886b3d2c0e06abaee44?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/e2d315859d2d0886b3d2c0e06abaee44?s=73&d=retro","created":1514539955,"last_modified":1514539955},"last_reply_by":"dongisking","last_touched":1647917573,"title":"thinkbook14+和机械革命 16 无界","url":"https://www.v2ex.com/t/842028","created":1647916283,"deleted":0,"content":"thinkbook14+各方面都不错（ 4999 ），就是 16G 内存有点勉强还不能扩展，后续不知道会不会出 32G 版本，如果出要多久而且性价比不知道怎么样\r\n\r\n想比机械革命 16 无界参数就很符合了（ 5499 ，首发是 5299 ） DDR4 16G 支持扩展，就是网上各种翻车的视频，疫情期间 WFH 感觉自己很需求更新一下笔记本，就是内存比较纠结","content_rendered":"<p>thinkbook14+各方面都不错（ 4999 ），就是 16G 内存有点勉强还不能扩展，后续不知道会不会出 32G 版本，如果出要多久而且性价比不知道怎么样</p>\n<p>想比机械革命 16 无界参数就很符合了（ 5499 ，首发是 5299 ） DDR4 16G 支持扩展，就是网上各种翻车的视频，疫情期间 WFH 感觉自己很需求更新一下笔记本，就是内存比较纠结</p>\n","last_modified":1647916283,"replies":7,"id":842028},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/ede7/e2b6/867_large.png?m=1646717416","name":"vscode","avatar_normal":"https://cdn.v2ex.com/navatar/ede7/e2b6/867_normal.png?m=1646717416","title":"Visual Studio Code","url":"https://www.v2ex.com/go/vscode","topics":492,"footer":"","header":"来自 <a href=\"/go/microsoft\">Microsoft</a> 的全新代码编辑器","title_alternative":"Visual Studio Code","avatar_mini":"https://cdn.v2ex.com/navatar/ede7/e2b6/867_mini.png?m=1646717416","stars":560,"aliases":[],"root":false,"id":867,"parent_node_name":"editors"},"member":{"id":497114,"username":"winffee","url":"https://www.v2ex.com/u/winffee","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/avatar/2027/1fff/497114_mini.png?m=1647914003","avatar_normal":"https://cdn.v2ex.com/avatar/2027/1fff/497114_normal.png?m=1647914003","avatar_large":"https://cdn.v2ex.com/avatar/2027/1fff/497114_large.png?m=1647914003","created":1593569512,"last_modified":1647914003},"last_reply_by":"fgwmlhdkkkw","last_touched":1647919593,"title":"Java on Visual Studio Code 的更新 – 2022 年 3 月","url":"https://www.v2ex.com/t/842017","created":1647914408,"deleted":0,"content":"大家好，欢迎来到 Visual Studio Code Java 的 3 月更新。这次我们将为您带来一些关于我们代码补全的优化、Maven 改进以及我们最新的 Java 插件预览版本的最新更新。让我们开始吧！\r\n\r\n### **更多生成代码片段的快捷方式**\r\n\r\n由于我们对 Java 的语言支持是通过[Eclipse ™ JDT Language Server]( https://github.com/eclipse/eclipse.jdt.ls) 提供的，所以生成某些代码片段（例如 System.out.println() ）的快捷方式大多基于 Eclipse 风格。例如，System.out.println()的快捷方式是 sysout 。但是，我们从很多用户那里听说他们习惯了其它 IDE （例如 IntelliJ IDEA ）的快捷方式，并且希望看到 VS Code 也支持这些 IDE 的快捷方式。因此，我们也在插件中添加了这些常用代码片段的快捷方式。以下是我们支持的快捷方式的列表\r\n\r\n| 代码片段 | Eclipse 风格快捷方式 | IDEA 风格快捷方式 |\r\n| --- | --- | --- |\r\n| System.out.println() | sysout | sout |\r\n| System.err.println() | syserr | serr |\r\n| 当前函数签名的 System.out.println()  | systrace | soutm |\r\n| public static void main(String[] args) {} | main | psvm / main |\r\n| Iterator (for 循环) | foreach | iter |\r\n\r\n以下是展示这些新快捷方式的演示\r\n\r\n![]( https://devblogs.microsoft.com/java-ch/wp-content/uploads/sites/59/2022/03/shortcuts.gif)\r\n\r\n### **构造函数的代码补全优化**\r\n\r\n关于代码补全，目前用户反馈最多的问题之一是在 VS Code 中编写构造函数时，用户一般希望补全的提示可以和定义的类型直接相关（例如，List<String> list = …，提示“...”部分的时候应该建议 ArrayList 等列表类型），但是，在当前的插件中通常不是这种情况。\r\n\r\n在过去的几次迭代中，我们已经调查了这个问题并进行了更改以改善这种体验。通过这些新的改进，代码补全将更加了解用户正在创建的类型，并为构造函数建议最相关的类型。例如，定义 List<String>将导致对 new ArrayList<String>补全的建议。类似地，一个 String[]将导致一个数组类型的建议来完成构造函数。以下是一个对该优化的演示：\r\n\r\n![]( https://devblogs.microsoft.com/java-ch/wp-content/uploads/sites/59/2022/03/newobject.gif)\r\n\r\n我们仍在对上述功能进行一些调整，并将在接下来的几个版本中发布。\r\n\r\n今年早些时候，我们发布了 [2022 年路线图]( https://devblogs.microsoft.com/java/java-on-visual-studio-code-update-january-2022/)，更好的代码补全体验是我们的重点之一。我们希望继续改进这一领域，所以如果您希望看到有关代码补全质量和性能的任何其它反馈，请告诉我们（提供反馈的渠道在最下方）。\r\n\r\n### **Maven 改进**\r\n\r\n除了代码完成的新功能外，我们还对 Maven 插件进行了一些改进。\r\n\r\n- **显示 Maven POM 文件路径**\r\n\r\n在之前的插件中，当用户打开多个同名项目时，很难区分项目属于哪个 POM 文件。此外，显示 POM 文件的确切路径有助于为用户提供更多信息。因此，我们加入了一个小的改进：当用户将鼠标悬停在 Maven 插件视图中的主节点上时，会显示一个提示来显示完整的 Maven POM 文件路径。这是此改进的屏幕截图：\r\n\r\n![]( https://devblogs.microsoft.com/java-ch/wp-content/uploads/sites/59/2022/03/mavenpom.png)\r\n\r\n- **POM 版本中的代码补全现在可以正确替换版本**\r\n\r\n当自动补全一个 Maven 依赖的版本时，以前我们的插件会将结果添加到现有文本中而不是替换它，从而导致我们的用户体验出现问题。我们在最近的版本中修复了这个问题，现在自动补全将正确替换版本，类似的改进也适用于 artifactId 和 groupId 。以下是一段演示：\r\n\r\n![]( https://devblogs.microsoft.com/java-ch/wp-content/uploads/sites/59/2022/03/completion.gif)\r\n\r\n### **新的 Java 插件预览版本机制**\r\n\r\n自[1.63]( https://code.visualstudio.com/updates/v1_63#_pre-release-extensions)版以来，Visual Studio Code 已支持插件的预览版本机制，因此用户对于一款插件，可以选择安装&quot;预览版本(Pre-Release Version)&quot;或者是&quot;发布版本(Release Version)&quot;。目前，我们已经为 [Gradle for Java]( https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-gradle) 和 [Maven for Java]( https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-maven) 插件启用了预发布通道，并将在本月底对于[Java]( https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack)插件包中其它的插件启用预览机制。对于总是喜欢获取最新功能的用户，可以选择安装预览版本并给我们第一手的反馈。对于偏向稳定的用户，可以像以前一样继续使用&quot;发布版(Release version)&quot;（默认）\r\n\r\n您可以使用 Visual Studio Code 中&quot;安装&quot;按钮旁边的附加按钮轻松地在预览版本(Pre-Release Version)和发布版本(Release Version)之间切换（如下图所示）\r\n\r\n![]( https://devblogs.microsoft.com/java-ch/wp-content/uploads/sites/59/2022/03/prerelease.png)\r\n\r\n![]( https://devblogs.microsoft.com/java-ch/wp-content/uploads/sites/59/2022/03/release.png)\r\n\r\n### **反馈与建议**\r\n\r\n2022 年，Visual Studio Code 上的 Java 会有很多激动人心的更新，一如既往，您的反馈和建议对我们非常重要，将有助于我们未来的产品塑造。有几种方法可以给我们留下反馈\r\n\r\n- [填写中文问卷]( https://www.research.net/r/vscodejava?lang=zh)\r\n- 在这个帖子下留言\r\n- 在我们的 GitHub repo 上[创建]( https://github.com/microsoft/vscode-java-pack/issues/new/choose)[Issue]( https://github.com/microsoft/vscode-java-pack/issues/new/choose)\r\n- 发送电子邮件到[vscjfeedback@microsoft.com](mailto:vscjfeedback@microsoft.com)\r\n\r\n### **资源**\r\n\r\n以下链接和资源能帮助您更好地了解 Java on Visual Studio Code 的相关信息\r\n\r\n- 了解[更多]( https://code.visualstudio.com/docs/languages/java)[Visual Studio Code 上 Java]( https://code.visualstudio.com/docs/languages/java)的更多信息\r\n- 逐步探索[有关]( https://code.visualstudio.com/docs/java/java-tutorial)[Visual Studio Code 的 Java 教程]( https://code.visualstudio.com/docs/java/java-tutorial)","content_rendered":"<p>大家好，欢迎来到 Visual Studio Code Java 的 3 月更新。这次我们将为您带来一些关于我们代码补全的优化、Maven 改进以及我们最新的 Java 插件预览版本的最新更新。让我们开始吧！</p>\n<h3><strong>更多生成代码片段的快捷方式</strong></h3>\n<p>由于我们对 Java 的语言支持是通过<a href=\"https://github.com/eclipse/eclipse.jdt.ls\" rel=\"nofollow\">Eclipse ™ JDT Language Server</a> 提供的，所以生成某些代码片段（例如 System.out.println() ）的快捷方式大多基于 Eclipse 风格。例如，System.out.println()的快捷方式是 sysout 。但是，我们从很多用户那里听说他们习惯了其它 IDE （例如 IntelliJ IDEA ）的快捷方式，并且希望看到 VS Code 也支持这些 IDE 的快捷方式。因此，我们也在插件中添加了这些常用代码片段的快捷方式。以下是我们支持的快捷方式的列表</p>\n<table>\n<thead>\n<tr>\n<th>代码片段</th>\n<th>Eclipse 风格快捷方式</th>\n<th>IDEA 风格快捷方式</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>System.out.println()</td>\n<td>sysout</td>\n<td>sout</td>\n</tr>\n<tr>\n<td>System.err.println()</td>\n<td>syserr</td>\n<td>serr</td>\n</tr>\n<tr>\n<td>当前函数签名的 System.out.println()</td>\n<td>systrace</td>\n<td>soutm</td>\n</tr>\n<tr>\n<td>public static void main(String[] args) {}</td>\n<td>main</td>\n<td>psvm / main</td>\n</tr>\n<tr>\n<td>Iterator (for 循环)</td>\n<td>foreach</td>\n<td>iter</td>\n</tr>\n</tbody></table><p>以下是展示这些新快捷方式的演示</p>\n<p><img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://devblogs.microsoft.com/java-ch/wp-content/uploads/sites/59/2022/03/shortcuts.gif\"/></p>\n<h3><strong>构造函数的代码补全优化</strong></h3>\n<p>关于代码补全，目前用户反馈最多的问题之一是在 VS Code 中编写构造函数时，用户一般希望补全的提示可以和定义的类型直接相关（例如，List&lt;String&gt; list = …，提示“...”部分的时候应该建议 ArrayList 等列表类型），但是，在当前的插件中通常不是这种情况。</p>\n<p>在过去的几次迭代中，我们已经调查了这个问题并进行了更改以改善这种体验。通过这些新的改进，代码补全将更加了解用户正在创建的类型，并为构造函数建议最相关的类型。例如，定义 List&lt;String&gt;将导致对 new ArrayList&lt;String&gt;补全的建议。类似地，一个 String[]将导致一个数组类型的建议来完成构造函数。以下是一个对该优化的演示：</p>\n<p><img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://devblogs.microsoft.com/java-ch/wp-content/uploads/sites/59/2022/03/newobject.gif\"/></p>\n<p>我们仍在对上述功能进行一些调整，并将在接下来的几个版本中发布。</p>\n<p>今年早些时候，我们发布了 <a href=\"https://devblogs.microsoft.com/java/java-on-visual-studio-code-update-january-2022/\" rel=\"nofollow\">2022 年路线图</a>，更好的代码补全体验是我们的重点之一。我们希望继续改进这一领域，所以如果您希望看到有关代码补全质量和性能的任何其它反馈，请告诉我们（提供反馈的渠道在最下方）。</p>\n<h3><strong>Maven 改进</strong></h3>\n<p>除了代码完成的新功能外，我们还对 Maven 插件进行了一些改进。</p>\n<ul>\n<li><strong>显示 Maven POM 文件路径</strong></li>\n</ul>\n<p>在之前的插件中，当用户打开多个同名项目时，很难区分项目属于哪个 POM 文件。此外，显示 POM 文件的确切路径有助于为用户提供更多信息。因此，我们加入了一个小的改进：当用户将鼠标悬停在 Maven 插件视图中的主节点上时，会显示一个提示来显示完整的 Maven POM 文件路径。这是此改进的屏幕截图：</p>\n<p><img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://devblogs.microsoft.com/java-ch/wp-content/uploads/sites/59/2022/03/mavenpom.png\"/></p>\n<ul>\n<li><strong>POM 版本中的代码补全现在可以正确替换版本</strong></li>\n</ul>\n<p>当自动补全一个 Maven 依赖的版本时，以前我们的插件会将结果添加到现有文本中而不是替换它，从而导致我们的用户体验出现问题。我们在最近的版本中修复了这个问题，现在自动补全将正确替换版本，类似的改进也适用于 artifactId 和 groupId 。以下是一段演示：</p>\n<p><img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://devblogs.microsoft.com/java-ch/wp-content/uploads/sites/59/2022/03/completion.gif\"/></p>\n<h3><strong>新的 Java 插件预览版本机制</strong></h3>\n<p>自<a href=\"https://code.visualstudio.com/updates/v1_63#_pre-release-extensions\" rel=\"nofollow\">1.63</a>版以来，Visual Studio Code 已支持插件的预览版本机制，因此用户对于一款插件，可以选择安装\"预览版本(Pre-Release Version)\"或者是\"发布版本(Release Version)\"。目前，我们已经为 <a href=\"https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-gradle\" rel=\"nofollow\">Gradle for Java</a> 和 <a href=\"https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-maven\" rel=\"nofollow\">Maven for Java</a> 插件启用了预发布通道，并将在本月底对于<a href=\"https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack\" rel=\"nofollow\">Java</a>插件包中其它的插件启用预览机制。对于总是喜欢获取最新功能的用户，可以选择安装预览版本并给我们第一手的反馈。对于偏向稳定的用户，可以像以前一样继续使用\"发布版(Release version)\"（默认）</p>\n<p>您可以使用 Visual Studio Code 中\"安装\"按钮旁边的附加按钮轻松地在预览版本(Pre-Release Version)和发布版本(Release Version)之间切换（如下图所示）</p>\n<p><img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://devblogs.microsoft.com/java-ch/wp-content/uploads/sites/59/2022/03/prerelease.png\"/></p>\n<p><img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://devblogs.microsoft.com/java-ch/wp-content/uploads/sites/59/2022/03/release.png\"/></p>\n<h3><strong>反馈与建议</strong></h3>\n<p>2022 年，Visual Studio Code 上的 Java 会有很多激动人心的更新，一如既往，您的反馈和建议对我们非常重要，将有助于我们未来的产品塑造。有几种方法可以给我们留下反馈</p>\n<ul>\n<li><a href=\"https://www.research.net/r/vscodejava?lang=zh\" rel=\"nofollow\">填写中文问卷</a></li>\n<li>在这个帖子下留言</li>\n<li>在我们的 GitHub repo 上<a href=\"https://github.com/microsoft/vscode-java-pack/issues/new/choose\" rel=\"nofollow\">创建</a><a href=\"https://github.com/microsoft/vscode-java-pack/issues/new/choose\" rel=\"nofollow\">Issue</a></li>\n<li>发送电子邮件到<a href=\"mailto:vscjfeedback@microsoft.com\">vscjfeedback@microsoft.com</a></li>\n</ul>\n<h3><strong>资源</strong></h3>\n<p>以下链接和资源能帮助您更好地了解 Java on Visual Studio Code 的相关信息</p>\n<ul>\n<li>了解<a href=\"https://code.visualstudio.com/docs/languages/java\" rel=\"nofollow\">更多</a><a href=\"https://code.visualstudio.com/docs/languages/java\" rel=\"nofollow\">Visual Studio Code 上 Java</a>的更多信息</li>\n<li>逐步探索<a href=\"https://code.visualstudio.com/docs/java/java-tutorial\" rel=\"nofollow\">有关</a><a href=\"https://code.visualstudio.com/docs/java/java-tutorial\" rel=\"nofollow\">Visual Studio Code 的 Java 教程</a></li>\n</ul>\n","last_modified":1647914408,"replies":7,"id":842017},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/6f49/22f4/18_large.png?m=1647360048","name":"shanghai","avatar_normal":"https://cdn.v2ex.com/navatar/6f49/22f4/18_normal.png?m=1647360048","title":"上海","url":"https://www.v2ex.com/go/shanghai","topics":2812,"footer":"","header":"","title_alternative":"Shanghai","avatar_mini":"https://cdn.v2ex.com/navatar/6f49/22f4/18_mini.png?m=1647360048","stars":2006,"aliases":[],"root":false,"id":18,"parent_node_name":"cn"},"member":{"id":69060,"username":"jchnxu","url":"https://www.v2ex.com/u/jchnxu","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/gravatar/c6a8ba53c191fa412c422d4da0fb4d05?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/c6a8ba53c191fa412c422d4da0fb4d05?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/c6a8ba53c191fa412c422d4da0fb4d05?s=73&d=retro","created":1406406187,"last_modified":1406406187},"last_reply_by":"BestXTools","last_touched":1647916089,"title":"天天下雨，大家是怎么遛狗的","url":"https://www.v2ex.com/t/842013","created":1647913784,"deleted":0,"content":"车库里不让溜。。","content_rendered":"<p>车库里不让溜。。</p>\n","last_modified":1647913784,"replies":7,"id":842013},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1647188067","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1647188067","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":182678,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1647188067","stars":3440,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"id":146090,"username":"elevioux","url":"https://www.v2ex.com/u/elevioux","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/avatar/131c/3a21/146090_mini.png?m=1496800115","avatar_normal":"https://cdn.v2ex.com/avatar/131c/3a21/146090_normal.png?m=1496800115","avatar_large":"https://cdn.v2ex.com/avatar/131c/3a21/146090_large.png?m=1496800115","created":1446796843,"last_modified":1496800115},"last_reply_by":"westoy","last_touched":1647922430,"title":"所谓的“跑路”到底是什么意思？","url":"https://www.v2ex.com/t/842071","created":1647921674,"deleted":0,"content":"刚看到说一个在线教育的老板跑路了。一直很不解这个“跑路”是什么意思？\r\n\r\n资金带走、联系不上，这不犯法吗？警察找不到、抓不到人吗？抓到也没用吗？\r\n\r\n求解惑。","content_rendered":"<p>刚看到说一个在线教育的老板跑路了。一直很不解这个“跑路”是什么意思？</p>\n<p>资金带走、联系不上，这不犯法吗？警察找不到、抓不到人吗？抓到也没用吗？</p>\n<p>求解惑。</p>\n","last_modified":1647921674,"replies":6,"id":842071},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1647359938","name":"programmer","avatar_normal":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1647359938","title":"程序员","url":"https://www.v2ex.com/go/programmer","topics":47886,"footer":"","header":"While code monkeys are not eating bananas, they're coding.","title_alternative":"Programmer","avatar_mini":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1647359938","stars":7745,"aliases":[],"root":false,"id":300,"parent_node_name":"computer"},"member":{"id":138704,"username":"ssltest","url":"https://www.v2ex.com/u/ssltest","website":"https://v2ex.com/","twitter":"","psn":"","github":"","btc":"","location":"北京","tagline":"No bb，show me the code！","bio":"热爱开源，整开源安全。","avatar_mini":"https://cdn.v2ex.com/avatar/e8af/a912/138704_mini.png?m=1647917566","avatar_normal":"https://cdn.v2ex.com/avatar/e8af/a912/138704_normal.png?m=1647917566","avatar_large":"https://cdn.v2ex.com/avatar/e8af/a912/138704_large.png?m=1647917566","avatar_xlarge":"https://cdn.v2ex.com/avatar/e8af/a912/138704_xlarge.png?m=1647917566","avatar_xxlarge":"https://cdn.v2ex.com/avatar/e8af/a912/138704_xlarge.png?m=1647917566","avatar_xxxlarge":"https://cdn.v2ex.com/avatar/e8af/a912/138704_xlarge.png?m=1647917566","created":1442470376,"last_modified":1647917566},"last_reply_by":"ssltest","last_touched":1647922469,"title":"总结了一下程序员们都应该知道的各类开源许可证及合规相关的知识","url":"https://www.v2ex.com/t/842052","created":1647919174,"deleted":0,"content":"因为我本身也在做开源，所以比较关注这个问题，最近因为工作需要，总结和分析了一下关于开源许可证相关的知识，也分享给大家一起讨论，希望得到大家的指导。\r\n\r\n\r\n## 前言\r\n2021 年 12 月，抖音海外版 TikTok 上线了一款名为 TikTok Live Studio 的 APP ，但不久其下载页面就被删除。TikTok 官方对此事做出回应，原因是该 APP 违反 GPL 许可证，其使用 GPL 许可证下的开源软件源码，却没有按照 GPL 许可证要求开源。\r\n\r\n随着开源软件的发展，其数量和影响力在不断的上升。开源软件具有成本低、升级快的特点，因此越来越多的企业选择使用开源软件。但是“天下没有免费的午餐”，在开源许可证的约束下，开源软件的使用并非想象中的自由。不恰当地使用开源软件，可能会给企业造成负面舆论甚至经济损失的风险。\r\n\r\n## 开源许可证（“Open Source License”）是什么\r\n开源许可证是一种针对开源软件使用者的约束，目的在于规范受著作权保护的软件的使用或者分发行为。\r\n\r\n## 常见许可证及其差异\r\n常见的许可证主要有 GPL 、LGPL 、AGPL 、MPL 、MIT 、BSD 和 Apache ，各个许可证还包含不同版本。根据使用条件不同，可以将这些许可证大致分为两类：Copyleft 许可证和宽松许可证（ permissive license ），主要对使用、修改和分发的场景作出相应约束。\r\n![]( https://murphysec-doc-1257309290.cos.ap-beijing.myqcloud.com/2022/03/22/01.png)\r\n\r\n1.BSD 许可证——特点是可以自由使用、修改、再发布。但是在商用或者个人分发过程中必须带有原来代码的许可证，且不能用原作者相关信息去做宣传。\r\n\r\n2.MIT 许可证——源自麻省理工学院（ Massachusetts Institute of Technology, MIT ），是使用最广泛的一种开源许可证。其特点和 BSD 许可证类似，只要在项目的所有副本中包含版权声明和许可声明，就无需承担任何责任。\r\n\r\n3.Apache 许可证——作为 permissive license 中的一员，Apache 多了几个限制条件，禁止使用其商标与作者的相关信息进行商业行为，必须明确指出所有修改过的文件。\r\n\r\n4.GPL 许可证—— GPL 和 BSD 区别还是很大的，GPL 主张代码及衍生代码的开源，不允许修改后和衍生的代码做为闭源的商业软件进行发布和出售。如果已发布商业软件源码里含有 GPL 开源软件源码，则必须对该商业软件进行开源或者下架处理。\r\n\r\n5.AGPL 许可证—— AGPL 是 GPL 的一个补充, 在 GPL 的基础上加了一些限制。GPL 的约束生效前提是该软件\"发布\"，有的公司就使用 GPL 组件编写 web 系统，但是不发布系统，只用这个系统在线提供服务，这样就避免了开源系统代码。而 AGPL 要求如果云服务(即 saas)用到的代码是该许可证，那云服务的代码也必须开源。\r\n\r\n6.LGPL 许可证—— LGPL 允许商业软件通过类库引用的方式使用 LGPL 类库，而不需要开源商业软件源码。\r\n\r\n7.MPL 许可证——在商业软件中，如果含有 MPL 许可证的代码在单独的文件内，其他新增的文件就可以避免开源。\r\n![]( https://murphysec-doc-1257309290.cos.ap-beijing.myqcloud.com/2022/03/22/02.png)\r\n\r\n\r\n我们针对 C/C++、Java 两类常用编程语言的开源组件许可证分布进行统计，可以发现：\r\n- C/C++ 中主要使用 MIT 、BSD 、Apache 许可证，GPL/LGPL 约占 16%，整体使用更严格\r\n- Java 中主要使用 Apache 、MIT 许可证，GPL/LGPL 占比约 1%，整体使用更宽松\r\n![]( https://murphysec-doc-1257309290.cos.ap-beijing.myqcloud.com/2022/03/22/03.png)\r\n\r\n\r\n## 开源许可证在标准化\r\nSPDX 是 Linux 基金会推出的用于交流软件材料清单信息的开放标准，SPDX 当前已经对超过 400 个开源许可证的名称、标识符等信息进行标准化，并在持续更新。\r\nSPDX 还给出了开源许可证的匹配指南，鼓励开发者在代码中加入诸如 SPDX-License-Identifier: MIT 的简短标识。\r\n**可以预见，未来开源许可证将变得更标准，更容易被机器识别处理。**\r\n\r\n## 开源合规风险\r\n2008 年，美国联邦巡回上诉法院首次在 Jacobsen v.Katzer 一案中主张了开源许可证的著作权效力。中国在 2019 年的「柚子案」中默认了 GPL 许可证的法律效力。相关判例的产生，意味着开源许可证不再是君子协定，违反开源许可证会对企业带来经济和声誉上的损失。\r\n如 GPL 许可证和 MPL 许可证，GPL 许可证要求「用户使用该许可证下的源码，必须以 GPL 许可证的许可发布整个程序的源码」，而 MPL 则要求「 MPL 许可证的代码在单独的文件内，其他新增的文件就可以避免开源。」因此企业在使用同时附带 GPL 和 MPL 许可证的开源软件时，就可能因为开源许可证的冲突，面临违反其中之一的风险。\r\n\r\n## 国内外的相关案例\r\n一、2019 年，在数字天堂北京网络技术有限公司 诉 柚子北京科技有限公司的案件中，柚子北京 由于开发人员在 2015 年使用了 数字天堂 的 HBuilder 软件工具中三款插件的部分源代码，未遵守开源软件许可证，将具有开源要求的软件产品作为商业产品，被开源软件的著作权人诉请违约和侵权，故而承担法律责任。\r\n\r\n二、2021 年 4 月 30 日，罗盒公司状告风灵公司侵权获赔 50 万元，同时要求风灵公司停止侵权行为。\r\n在该案件中原告罗盒公司，独立开发“罗盒(Virtual App)插件化框架虚拟引擎系统 V1.0”（简称 VirtualApp V1.0 ），在 2016 年引入 GPL3.0 许可证，于 2017 年取得计算机软件著作权登记证书，且声明\r\n用于商业用途请购买商业授权。\r\n2018 年原告发现名为“点心桌面”的软件使用了 VirtualApp V1.0 的代码，经过源码分析对比，发现两者之间高度相似，遂起诉被告福建风灵公司。\r\n经法院审判被告赔偿原告为制止侵权行为而支出的合理费用 50 万元。此次判决是中国首个明确 GPL3.0 许可证具有法律效力的案例。\r\n\r\n三、2021 年 12 月中旬，抖音海外版 TikTok 上线一款名为 TikTok Live Studio 的 APP ，有网友发现，此软件违反 GPL 许可证，违规使用开源软件 OBS （一个免费的开源视频录制和视频实时流软件，且允许任何人免费应用和商用）的源代码，既然允许商用，但是为什么还会被曝违规呢？\r\n这里就需要再科普一下 GPL 许可证，GPL 许可证具有很强的传染性，如果一款软件使用 GPL 许可证的开源软件源码，那么该软件也必须采用 GPL 许可证，进行开源。\r\n此事曝光之后，OBS 开发者证实此事，TikTok 也对此事进行了回应，并删除 TikTok Live Studio 的下载页面。\r\n\r\n## 针对开发者 /企业的建议\r\n**温馨提醒：开源千万条，合规第一条**\r\n\r\n一、软件开发者使用开源软件时，需要谨慎选择开源软件，关注其开源许可证的内容及相关条件，避免潜在的法律风险。\r\n\r\n二、企业应当建立一个完善机制，识别企业中所使用的开源软件清单，明确对应的开源许可证及权利约束，及时规避相关合规风险。\r\n\r\n三、通过隔离机制避免开源许可证传染，如对于 MPL 许可证下代码的使用，应把该许可证的代码放在单独的文件内避免许可证传染； LGPL 下的代码，可采用动态链接调用该许可证的库实现隔离。\r\n\r\n\r\n## 我们在开源工具里面集成了开源许可证的合规检测能力\r\n\r\n开源项目地址：[https://github.com/murphysecurity]( https://github.com/murphysecurity)\r\n\r\n一、使用 murphysec 开源工具扫描您的代码目录，它会帮您一键识别出来您的代码项目中使用的所有开源组件，包括直接依赖和间接依赖的组件清单，同时列出所有组件对应的开源许可证信息\r\n![]( https://murphysec-doc-1257309290.cos.ap-beijing.myqcloud.com/2022/03/22/1.png)\r\n\r\n二、查看报告，根据报告的提示可以明确看到对应组件的许可证在什么场景下存在许可证合规风险\r\n![]( https://murphysec-doc-1257309290.cos.ap-beijing.myqcloud.com/2022/03/22/2.png)\r\n\r\n三、您可以根据许可证的合规风险提示，来判断您的项目是否存在违反的可能性，并调整您所引入的组件，来解决这个风险。\r\n\r\n一些可能你无意中踩到的坑：\r\n\r\n1 ）有一些组件是存在多种许可证的，可能不同目录文件指定的许可证类型不一样，要特别注意，当然我们的开源软件也考虑到了这种情况\r\n\r\n2 ）有些组件你没有直接依赖，但是可能存在间接依赖的情况，你需要特别注意查看相关组件的依赖关系\r\n\r\n![]( https://murphysec-doc-1257309290.cos.ap-beijing.myqcloud.com/2022/03/22/3.png)\r\n\r\n使用文档：[https://www.murphysec.com/docs/]( https://www.murphysec.com/docs/)\r\n\r\n\r\n## 参考链接\r\n[https://spdx.org/licenses/]( https://spdx.org/licenses/)\r\n\r\n[https://opensource.org/licenses/category]( https://spdx.org/licenses/)","content_rendered":"<p>因为我本身也在做开源，所以比较关注这个问题，最近因为工作需要，总结和分析了一下关于开源许可证相关的知识，也分享给大家一起讨论，希望得到大家的指导。</p>\n<h2>前言</h2>\n<p>2021 年 12 月，抖音海外版 TikTok 上线了一款名为 TikTok Live Studio 的 APP ，但不久其下载页面就被删除。TikTok 官方对此事做出回应，原因是该 APP 违反 GPL 许可证，其使用 GPL 许可证下的开源软件源码，却没有按照 GPL 许可证要求开源。</p>\n<p>随着开源软件的发展，其数量和影响力在不断的上升。开源软件具有成本低、升级快的特点，因此越来越多的企业选择使用开源软件。但是“天下没有免费的午餐”，在开源许可证的约束下，开源软件的使用并非想象中的自由。不恰当地使用开源软件，可能会给企业造成负面舆论甚至经济损失的风险。</p>\n<h2>开源许可证（“Open Source License”）是什么</h2>\n<p>开源许可证是一种针对开源软件使用者的约束，目的在于规范受著作权保护的软件的使用或者分发行为。</p>\n<h2>常见许可证及其差异</h2>\n<p>常见的许可证主要有 GPL 、LGPL 、AGPL 、MPL 、MIT 、BSD 和 Apache ，各个许可证还包含不同版本。根据使用条件不同，可以将这些许可证大致分为两类：Copyleft 许可证和宽松许可证（ permissive license ），主要对使用、修改和分发的场景作出相应约束。\n<img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://murphysec-doc-1257309290.cos.ap-beijing.myqcloud.com/2022/03/22/01.png\"/></p>\n<p>1.BSD 许可证——特点是可以自由使用、修改、再发布。但是在商用或者个人分发过程中必须带有原来代码的许可证，且不能用原作者相关信息去做宣传。</p>\n<p>2.MIT 许可证——源自麻省理工学院（ Massachusetts Institute of Technology, MIT ），是使用最广泛的一种开源许可证。其特点和 BSD 许可证类似，只要在项目的所有副本中包含版权声明和许可声明，就无需承担任何责任。</p>\n<p>3.Apache 许可证——作为 permissive license 中的一员，Apache 多了几个限制条件，禁止使用其商标与作者的相关信息进行商业行为，必须明确指出所有修改过的文件。</p>\n<p>4.GPL 许可证—— GPL 和 BSD 区别还是很大的，GPL 主张代码及衍生代码的开源，不允许修改后和衍生的代码做为闭源的商业软件进行发布和出售。如果已发布商业软件源码里含有 GPL 开源软件源码，则必须对该商业软件进行开源或者下架处理。</p>\n<p>5.AGPL 许可证—— AGPL 是 GPL 的一个补充, 在 GPL 的基础上加了一些限制。GPL 的约束生效前提是该软件\"发布\"，有的公司就使用 GPL 组件编写 web 系统，但是不发布系统，只用这个系统在线提供服务，这样就避免了开源系统代码。而 AGPL 要求如果云服务(即 saas)用到的代码是该许可证，那云服务的代码也必须开源。</p>\n<p>6.LGPL 许可证—— LGPL 允许商业软件通过类库引用的方式使用 LGPL 类库，而不需要开源商业软件源码。</p>\n<p>7.MPL 许可证——在商业软件中，如果含有 MPL 许可证的代码在单独的文件内，其他新增的文件就可以避免开源。\n<img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://murphysec-doc-1257309290.cos.ap-beijing.myqcloud.com/2022/03/22/02.png\"/></p>\n<p>我们针对 C/C++、Java 两类常用编程语言的开源组件许可证分布进行统计，可以发现：</p>\n<ul>\n<li>C/C++ 中主要使用 MIT 、BSD 、Apache 许可证，GPL/LGPL 约占 16%，整体使用更严格</li>\n<li>Java 中主要使用 Apache 、MIT 许可证，GPL/LGPL 占比约 1%，整体使用更宽松\n<img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://murphysec-doc-1257309290.cos.ap-beijing.myqcloud.com/2022/03/22/03.png\"/></li>\n</ul>\n<h2>开源许可证在标准化</h2>\n<p>SPDX 是 Linux 基金会推出的用于交流软件材料清单信息的开放标准，SPDX 当前已经对超过 400 个开源许可证的名称、标识符等信息进行标准化，并在持续更新。\nSPDX 还给出了开源许可证的匹配指南，鼓励开发者在代码中加入诸如 SPDX-License-Identifier: MIT 的简短标识。\n<strong>可以预见，未来开源许可证将变得更标准，更容易被机器识别处理。</strong></p>\n<h2>开源合规风险</h2>\n<p>2008 年，美国联邦巡回上诉法院首次在 Jacobsen v.Katzer 一案中主张了开源许可证的著作权效力。中国在 2019 年的「柚子案」中默认了 GPL 许可证的法律效力。相关判例的产生，意味着开源许可证不再是君子协定，违反开源许可证会对企业带来经济和声誉上的损失。\n如 GPL 许可证和 MPL 许可证，GPL 许可证要求「用户使用该许可证下的源码，必须以 GPL 许可证的许可发布整个程序的源码」，而 MPL 则要求「 MPL 许可证的代码在单独的文件内，其他新增的文件就可以避免开源。」因此企业在使用同时附带 GPL 和 MPL 许可证的开源软件时，就可能因为开源许可证的冲突，面临违反其中之一的风险。</p>\n<h2>国内外的相关案例</h2>\n<p>一、2019 年，在数字天堂北京网络技术有限公司 诉 柚子北京科技有限公司的案件中，柚子北京 由于开发人员在 2015 年使用了 数字天堂 的 HBuilder 软件工具中三款插件的部分源代码，未遵守开源软件许可证，将具有开源要求的软件产品作为商业产品，被开源软件的著作权人诉请违约和侵权，故而承担法律责任。</p>\n<p>二、2021 年 4 月 30 日，罗盒公司状告风灵公司侵权获赔 50 万元，同时要求风灵公司停止侵权行为。\n在该案件中原告罗盒公司，独立开发“罗盒(Virtual App)插件化框架虚拟引擎系统 V1.0”（简称 VirtualApp V1.0 ），在 2016 年引入 GPL3.0 许可证，于 2017 年取得计算机软件著作权登记证书，且声明\n用于商业用途请购买商业授权。\n2018 年原告发现名为“点心桌面”的软件使用了 VirtualApp V1.0 的代码，经过源码分析对比，发现两者之间高度相似，遂起诉被告福建风灵公司。\n经法院审判被告赔偿原告为制止侵权行为而支出的合理费用 50 万元。此次判决是中国首个明确 GPL3.0 许可证具有法律效力的案例。</p>\n<p>三、2021 年 12 月中旬，抖音海外版 TikTok 上线一款名为 TikTok Live Studio 的 APP ，有网友发现，此软件违反 GPL 许可证，违规使用开源软件 OBS （一个免费的开源视频录制和视频实时流软件，且允许任何人免费应用和商用）的源代码，既然允许商用，但是为什么还会被曝违规呢？\n这里就需要再科普一下 GPL 许可证，GPL 许可证具有很强的传染性，如果一款软件使用 GPL 许可证的开源软件源码，那么该软件也必须采用 GPL 许可证，进行开源。\n此事曝光之后，OBS 开发者证实此事，TikTok 也对此事进行了回应，并删除 TikTok Live Studio 的下载页面。</p>\n<h2>针对开发者 /企业的建议</h2>\n<p><strong>温馨提醒：开源千万条，合规第一条</strong></p>\n<p>一、软件开发者使用开源软件时，需要谨慎选择开源软件，关注其开源许可证的内容及相关条件，避免潜在的法律风险。</p>\n<p>二、企业应当建立一个完善机制，识别企业中所使用的开源软件清单，明确对应的开源许可证及权利约束，及时规避相关合规风险。</p>\n<p>三、通过隔离机制避免开源许可证传染，如对于 MPL 许可证下代码的使用，应把该许可证的代码放在单独的文件内避免许可证传染； LGPL 下的代码，可采用动态链接调用该许可证的库实现隔离。</p>\n<h2>我们在开源工具里面集成了开源许可证的合规检测能力</h2>\n<p>开源项目地址：<a href=\"https://github.com/murphysecurity\" rel=\"nofollow\">https://github.com/murphysecurity</a></p>\n<p>一、使用 murphysec 开源工具扫描您的代码目录，它会帮您一键识别出来您的代码项目中使用的所有开源组件，包括直接依赖和间接依赖的组件清单，同时列出所有组件对应的开源许可证信息\n<img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://murphysec-doc-1257309290.cos.ap-beijing.myqcloud.com/2022/03/22/1.png\"/></p>\n<p>二、查看报告，根据报告的提示可以明确看到对应组件的许可证在什么场景下存在许可证合规风险\n<img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://murphysec-doc-1257309290.cos.ap-beijing.myqcloud.com/2022/03/22/2.png\"/></p>\n<p>三、您可以根据许可证的合规风险提示，来判断您的项目是否存在违反的可能性，并调整您所引入的组件，来解决这个风险。</p>\n<p>一些可能你无意中踩到的坑：</p>\n<p>1 ）有一些组件是存在多种许可证的，可能不同目录文件指定的许可证类型不一样，要特别注意，当然我们的开源软件也考虑到了这种情况</p>\n<p>2 ）有些组件你没有直接依赖，但是可能存在间接依赖的情况，你需要特别注意查看相关组件的依赖关系</p>\n<p><img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://murphysec-doc-1257309290.cos.ap-beijing.myqcloud.com/2022/03/22/3.png\"/></p>\n<p>使用文档：<a href=\"https://www.murphysec.com/docs/\" rel=\"nofollow\">https://www.murphysec.com/docs/</a></p>\n<h2>参考链接</h2>\n<p><a href=\"https://spdx.org/licenses/\" rel=\"nofollow\">https://spdx.org/licenses/</a></p>\n<p><a href=\"https://spdx.org/licenses/\" rel=\"nofollow\">https://opensource.org/licenses/category</a></p>\n","last_modified":1647919592,"replies":6,"id":842052},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/74bb/a227/938_large.png?m=1591791660","name":"gts","avatar_normal":"https://cdn.v2ex.com/navatar/74bb/a227/938_normal.png?m=1591791660","title":"全球工单系统","url":"https://www.v2ex.com/go/gts","topics":8860,"footer":"","header":"希望这里能够为你遇到的问题找到解决方案","title_alternative":"Global Ticket System","avatar_mini":"https://cdn.v2ex.com/navatar/74bb/a227/938_mini.png?m=1591791660","stars":1666,"aliases":[],"root":false,"id":938,"parent_node_name":"geek"},"member":{"id":358742,"username":"bokchoys","url":"https://www.v2ex.com/u/bokchoys","website":"","twitter":"","psn":"","github":"","btc":"","location":"Amoy","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/avatar/0c5f/2d5d/358742_mini.png?m=1555001957","avatar_normal":"https://cdn.v2ex.com/avatar/0c5f/2d5d/358742_normal.png?m=1555001957","avatar_large":"https://cdn.v2ex.com/avatar/0c5f/2d5d/358742_large.png?m=1555001957","created":1540515526,"last_modified":1555001957},"last_reply_by":"yanbo92","last_touched":1647920012,"title":"微信她自己向我的好友发送一个不存在的 0 秒视频","url":"https://www.v2ex.com/t/842016","created":1647914212,"deleted":0,"content":"平复一下心情，客观的来描述一下问题  \r\n\r\n今天在地铁的时候，发现大约 1 分钟前，我的微信聊天框向好友发送了一个 0:00 的不存在的视频：  \r\n\r\nhttps://photos.app.goo.gl/CKSvQnCFDSJ6iFvy5  \r\n\r\nhttps://photos.app.goo.gl/Hu4EiA8GRBY2a1yF8  \r\n\r\n设备：iphone13  \r\n系统：15.4  \r\n微信版本：8.0.18  \r\n其它：未越狱，没有其它设备登录情况，账号密码未泄露，不存在误触的条件\r\n\r\n去年也有过一次类似的其它 Bug 出现：聊天列表里出现了一位叫“憨憨”的好友（不是我恶搞，真叫这名字），我和我的另一位同学同时出现了这个场景，都是 IOS 设备，未越狱，账号密码未泄露，没有其它设备登录情况，当时的截图如下（ 2021-11-02/2021-11-09 ）：\r\n\r\nhttps://photos.app.goo.gl/SgtYmPYBnztTvBKbA  \r\n\r\nhttps://photos.app.goo.gl/Sr9fvEcW1mEshcdCA  \r\n\r\nhttps://photos.app.goo.gl/yXbUhBmZ7L1z59Un8  \r\n\r\n过一段时间，“憨憨”就消失了，也无法添加为好友：  \r\n\r\nhttps://photos.app.goo.gl/UEyaM4ip5Nqm7sWY9  \r\n\r\nhttps://photos.app.goo.gl/1P2PZcR3XR1DD1taA\r\n\r\n当时我认为这只是微信的一个测试号，不小心放出到线上，这次又出现了向好友发送不存在视频的“Bug”，就让人感觉有点奇怪，国民级聊天软件，很多情况已经丢失了个人隐私权限，朋友圈塞广告就算了，向好友发送消息、添加聊天好友的基本权限，也没有了吗，或者说是不是存在其它安全问题了呢","content_rendered":"<p>平复一下心情，客观的来描述一下问题  </p>\n<p>今天在地铁的时候，发现大约 1 分钟前，我的微信聊天框向好友发送了一个 0:00 的不存在的视频：  </p>\n<p><a href=\"https://photos.app.goo.gl/CKSvQnCFDSJ6iFvy5\" rel=\"nofollow\">https://photos.app.goo.gl/CKSvQnCFDSJ6iFvy5</a> </p>\n<p><a href=\"https://photos.app.goo.gl/Hu4EiA8GRBY2a1yF8\" rel=\"nofollow\">https://photos.app.goo.gl/Hu4EiA8GRBY2a1yF8</a> </p>\n<p>设备：iphone13<br/>\n系统：15.4<br/>\n微信版本：8.0.18<br/>\n其它：未越狱，没有其它设备登录情况，账号密码未泄露，不存在误触的条件</p>\n<p>去年也有过一次类似的其它 Bug 出现：聊天列表里出现了一位叫“憨憨”的好友（不是我恶搞，真叫这名字），我和我的另一位同学同时出现了这个场景，都是 IOS 设备，未越狱，账号密码未泄露，没有其它设备登录情况，当时的截图如下（ 2021-11-02/2021-11-09 ）：</p>\n<p><a href=\"https://photos.app.goo.gl/SgtYmPYBnztTvBKbA\" rel=\"nofollow\">https://photos.app.goo.gl/SgtYmPYBnztTvBKbA</a> </p>\n<p><a href=\"https://photos.app.goo.gl/Sr9fvEcW1mEshcdCA\" rel=\"nofollow\">https://photos.app.goo.gl/Sr9fvEcW1mEshcdCA</a> </p>\n<p><a href=\"https://photos.app.goo.gl/yXbUhBmZ7L1z59Un8\" rel=\"nofollow\">https://photos.app.goo.gl/yXbUhBmZ7L1z59Un8</a> </p>\n<p>过一段时间，“憨憨”就消失了，也无法添加为好友：  </p>\n<p><a href=\"https://photos.app.goo.gl/UEyaM4ip5Nqm7sWY9\" rel=\"nofollow\">https://photos.app.goo.gl/UEyaM4ip5Nqm7sWY9</a> </p>\n<p><a href=\"https://photos.app.goo.gl/1P2PZcR3XR1DD1taA\" rel=\"nofollow\">https://photos.app.goo.gl/1P2PZcR3XR1DD1taA</a></p>\n<p>当时我认为这只是微信的一个测试号，不小心放出到线上，这次又出现了向好友发送不存在视频的“Bug”，就让人感觉有点奇怪，国民级聊天软件，很多情况已经丢失了个人隐私权限，朋友圈塞广告就算了，向好友发送消息、添加聊天好友的基本权限，也没有了吗，或者说是不是存在其它安全问题了呢</p>\n","last_modified":1647914799,"replies":6,"id":842016},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1647359938","name":"programmer","avatar_normal":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1647359938","title":"程序员","url":"https://www.v2ex.com/go/programmer","topics":47883,"footer":"","header":"While code monkeys are not eating bananas, they're coding.","title_alternative":"Programmer","avatar_mini":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1647359938","stars":7745,"aliases":[],"root":false,"id":300,"parent_node_name":"computer"},"member":{"id":503168,"username":"BrookO","url":"https://www.v2ex.com/u/BrookO","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/gravatar/13ee9ad3a380d40dc3a4af3fd728d81f?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/13ee9ad3a380d40dc3a4af3fd728d81f?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/13ee9ad3a380d40dc3a4af3fd728d81f?s=73&d=retro","created":1597040971,"last_modified":1644475551},"last_reply_by":"sarices","last_touched":1647916353,"title":"钉钉占用硬盘是真的猛","url":"https://www.v2ex.com/t/842012","created":1647913753,"deleted":0,"content":"# 钉钉占用硬盘是真的猛\r\n\r\n![avatar]( https://minio.brookk.cloud/blog/B054929D-D076-4231-8103-08BA795B5296.png)","content_rendered":"<h1>钉钉占用硬盘是真的猛</h1>\n<p><img alt=\"avatar\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://minio.brookk.cloud/blog/B054929D-D076-4231-8103-08BA795B5296.png\"/></p>\n","last_modified":1647913753,"replies":6,"id":842012}]