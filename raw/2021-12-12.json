[{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1635654575","name":"programmer","avatar_normal":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1635654575","title":"程序员","url":"https://www.v2ex.com/go/programmer","topics":46653,"footer":"","header":"While code monkeys are not eating bananas, they're coding.","title_alternative":"Programmer","avatar_mini":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1635654575","stars":7616,"aliases":[],"root":false,"id":300,"parent_node_name":"computer"},"member":{"username":"RuLaiFo","website":"","github":null,"psn":null,"avatar_normal":"https://cdn.v2ex.com/gravatar/386e9cbd2ebfc6e002b881495a9ca7e7?s=24&d=retro","bio":"","url":"https://www.v2ex.com/u/RuLaiFo","tagline":"","twitter":null,"created":1616599161,"avatar_large":"https://cdn.v2ex.com/gravatar/386e9cbd2ebfc6e002b881495a9ca7e7?s=24&d=retro","avatar_mini":"https://cdn.v2ex.com/gravatar/386e9cbd2ebfc6e002b881495a9ca7e7?s=24&d=retro","location":"北京","btc":null,"id":539362},"last_reply_by":"lewinlan","last_touched":1639288298,"title":"单元测试有必要吗？","url":"https://www.v2ex.com/t/821608","created":1639273882,"deleted":0,"content":"### 单元测试有必要吗？\r\n\r\n我在现在的公司工作近半年了，公司的项目都需要写单元测试。但是写了这么久，感觉写单元测试费力不讨好，有时候写单元测试的时间大于写业务逻辑的时间，需要 mock 一大堆数据。要保证各种覆盖率，特别是分支覆盖率，需要覆盖到所写的每一个分支。\r\n\r\n另外，大家写的单元测试质量参差不齐，因为感觉大家都是为了写测试而写测试，而不是真正的 tdd 。然而在迭代频繁，节奏紧凑的环境下，想要做到真正的 tdd ，还是有很大的难度的（个人觉得 tdd 实现需求会花更多的时间，可能是自己没正确认识和掌握 tdd?）。所以这就导致大家往往先去实现逻辑，再去写测试。\r\n\r\n简而言之就是认为单元测试费时费力，又没有明显的收益，想请教一下大家怎么看待单元测试。\r\n\r\n初次提问，如有不恰当的地方，请大家指出。","content_rendered":"<h3>单元测试有必要吗？</h3>\n<p>我在现在的公司工作近半年了，公司的项目都需要写单元测试。但是写了这么久，感觉写单元测试费力不讨好，有时候写单元测试的时间大于写业务逻辑的时间，需要 mock 一大堆数据。要保证各种覆盖率，特别是分支覆盖率，需要覆盖到所写的每一个分支。</p>\n<p>另外，大家写的单元测试质量参差不齐，因为感觉大家都是为了写测试而写测试，而不是真正的 tdd 。然而在迭代频繁，节奏紧凑的环境下，想要做到真正的 tdd ，还是有很大的难度的（个人觉得 tdd 实现需求会花更多的时间，可能是自己没正确认识和掌握 tdd?）。所以这就导致大家往往先去实现逻辑，再去写测试。</p>\n<p>简而言之就是认为单元测试费时费力，又没有明显的收益，想请教一下大家怎么看待单元测试。</p>\n<p>初次提问，如有不恰当的地方，请大家指出。</p>\n","last_modified":1639274120,"replies":31,"id":821608},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/6353/8fe6/519_large.png?m=1595507885","name":"ideas","avatar_normal":"https://cdn.v2ex.com/navatar/6353/8fe6/519_normal.png?m=1595507885","title":"奇思妙想","url":"https://www.v2ex.com/go/ideas","topics":4759,"footer":"","header":"让你的创意在这里自由流动吧。","title_alternative":"Ideas","avatar_mini":"https://cdn.v2ex.com/navatar/6353/8fe6/519_mini.png?m=1595507885","stars":2492,"aliases":[],"root":false,"id":519,"parent_node_name":"v2ex"},"member":{"username":"LuciusChen","website":"http://lucius.me","github":"","psn":"","avatar_normal":"https://cdn.v2ex.com/avatar/5ef6/fac3/42901_mini.png?m=1639274645","bio":"","url":"https://www.v2ex.com/u/LuciusChen","tagline":"","twitter":"Lucius_Chen","created":1375225908,"avatar_large":"https://cdn.v2ex.com/avatar/5ef6/fac3/42901_mini.png?m=1639274645","avatar_mini":"https://cdn.v2ex.com/avatar/5ef6/fac3/42901_mini.png?m=1639274645","location":"南京","btc":"","id":42901},"last_reply_by":"NexTooo","last_touched":1639287549,"title":"程序员工资模式变更","url":"https://www.v2ex.com/t/821610","created":1639274613,"deleted":0,"content":"由 Netflix 演员版权收费的模式，并且现在开源项目越来越多，赚钱的开源项目越来越多，越来越多将公司项目开源想到。以后的程序员工资会不会演变成同 Netflix 演员一样的持续版权模式，根据自己贡献代码的比例及使用频次持续的获得收入。开源项目持续贡献的代码就是我们的资产，而不是现在的产出都归公司所有。","content_rendered":"<p>由 Netflix 演员版权收费的模式，并且现在开源项目越来越多，赚钱的开源项目越来越多，越来越多将公司项目开源想到。以后的程序员工资会不会演变成同 Netflix 演员一样的持续版权模式，根据自己贡献代码的比例及使用频次持续的获得收入。开源项目持续贡献的代码就是我们的资产，而不是现在的产出都归公司所有。</p>\n","last_modified":1639274908,"replies":19,"id":821610},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/b6d7/67d2/22_large.png?m=1635652519","name":"macos","avatar_normal":"https://cdn.v2ex.com/navatar/b6d7/67d2/22_normal.png?m=1635652519","title":"macOS","url":"https://www.v2ex.com/go/macos","topics":17575,"footer":"<a href=\"/mbp\">MacBook Pro</a> 及 <a href=\"/go/imac\">iMac</a> 等 <a href=\"/go/apple\">Apple</a> 公司设计的计算机所运行的操作系统。<a href=\"/go/idev\">iOS</a> 的基础。","header":"The world’s most advanced desktop operating system.","title_alternative":"macOS","avatar_mini":"https://cdn.v2ex.com/navatar/b6d7/67d2/22_mini.png?m=1635652519","stars":4479,"aliases":[],"root":false,"id":22,"parent_node_name":"os"},"member":{"username":"curoky","website":null,"github":null,"psn":null,"avatar_normal":"https://cdn.v2ex.com/gravatar/e28cc2e1b46d42605a75978b854bc0b7?s=24&d=retro","bio":null,"url":"https://www.v2ex.com/u/curoky","tagline":null,"twitter":null,"created":1570549695,"avatar_large":"https://cdn.v2ex.com/gravatar/e28cc2e1b46d42605a75978b854bc0b7?s=24&d=retro","avatar_mini":"https://cdn.v2ex.com/gravatar/e28cc2e1b46d42605a75978b854bc0b7?s=24&d=retro","location":null,"btc":null,"id":445262},"last_reply_by":"1002xin","last_touched":1639286268,"title":"apple music 歌曲名跟歌手都变成英文了","url":"https://www.v2ex.com/t/821604","created":1639268106,"deleted":0,"content":"这次真的是忍不了了，apple music 每次打开都有一批歌曲变成英文，目前已经感染了一大半了，没得救了。\r\n\r\n试过的办法\r\n\r\n1. 删除重下: 上次 1000 多首歌全删了，重新下了其中的不到 500 首，再来一遍折腾不起了。\r\n2. `defaults write /Users/mmm/Library/Preferences/com.apple.iTunes.plist AppleLanguages -array zh_CN`\r\n3. 系统切换到英文切回中文，单独设置 AM 语言。\r\n4. 客服 https://discussionschinese.apple.com/thread/253457130\r\n\r\n个人有三个客户端:\r\n\r\n- MacBook Pro (16-inch, 2019) 12.0.1\r\n- iPad 6 （ 2019 ）  15.1\r\n- Android Apple Music 3.7.2 （ 1156 ）\r\n\r\n求大佬拯救了，实在不行就换 QQ/网易云了，英语再好也实在不能接受中文歌曲名变英文。。。","content_rendered":"<p>这次真的是忍不了了，apple music 每次打开都有一批歌曲变成英文，目前已经感染了一大半了，没得救了。</p>\n<p>试过的办法</p>\n<ol>\n<li>删除重下: 上次 1000 多首歌全删了，重新下了其中的不到 500 首，再来一遍折腾不起了。</li>\n<li><code>defaults write /Users/mmm/Library/Preferences/com.apple.iTunes.plist AppleLanguages -array zh_CN</code></li>\n<li>系统切换到英文切回中文，单独设置 AM 语言。</li>\n<li>客服 <a href=\"https://discussionschinese.apple.com/thread/253457130\" rel=\"nofollow\">https://discussionschinese.apple.com/thread/253457130</a></li>\n</ol>\n<p>个人有三个客户端:</p>\n<ul>\n<li>MacBook Pro (16-inch, 2019) 12.0.1</li>\n<li>iPad 6 （ 2019 ）  15.1</li>\n<li>Android Apple Music 3.7.2 （ 1156 ）</li>\n</ul>\n<p>求大佬拯救了，实在不行就换 QQ/网易云了，英语再好也实在不能接受中文歌曲名变英文。。。</p>\n","last_modified":1639268106,"replies":13,"id":821604},{"node":{"avatar_large":"/static/img/node_default_large.png","name":"fit","avatar_normal":"/static/img/node_default_normal.png","title":"健康","url":"https://www.v2ex.com/go/fit","topics":773,"footer":"","header":"这个节点的设立，是为了让大家可以分享关于健身和健康生活方式的经验。如果你有什么正在困扰自己的身体症状，请立刻寻求正规医院的帮助。","title_alternative":"Fit","avatar_mini":"/static/img/node_default_mini.png","stars":244,"aliases":[],"root":false,"id":700,"parent_node_name":"life"},"member":{"username":"daoqiongsi1101","website":"","github":"","psn":"","avatar_normal":"https://cdn.v2ex.com/avatar/18bc/5190/484283_mini.png?m=1638079085","bio":"","url":"https://www.v2ex.com/u/daoqiongsi1101","tagline":"","twitter":"","created":1587047408,"avatar_large":"https://cdn.v2ex.com/avatar/18bc/5190/484283_mini.png?m=1638079085","avatar_mini":"https://cdn.v2ex.com/avatar/18bc/5190/484283_mini.png?m=1638079085","location":"","btc":"","id":484283},"last_reply_by":"boris93","last_touched":1639287723,"title":"大家配眼镜去医院先验光吗？","url":"https://www.v2ex.com/t/821624","created":1639280696,"deleted":0,"content":"","content_rendered":"","last_modified":1639280696,"replies":12,"id":821624},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/6353/8fe6/519_large.png?m=1595507885","name":"ideas","avatar_normal":"https://cdn.v2ex.com/navatar/6353/8fe6/519_normal.png?m=1595507885","title":"奇思妙想","url":"https://www.v2ex.com/go/ideas","topics":4759,"footer":"","header":"让你的创意在这里自由流动吧。","title_alternative":"Ideas","avatar_mini":"https://cdn.v2ex.com/navatar/6353/8fe6/519_mini.png?m=1595507885","stars":2492,"aliases":[],"root":false,"id":519,"parent_node_name":"v2ex"},"member":{"username":"aaajohn1996","website":"","github":"","psn":"","avatar_normal":"https://cdn.v2ex.com/gravatar/b4a0cb0cca5900661f961f3178c95caa?s=24&d=retro","bio":"","url":"https://www.v2ex.com/u/aaajohn1996","tagline":"","twitter":"","created":1584175443,"avatar_large":"https://cdn.v2ex.com/gravatar/b4a0cb0cca5900661f961f3178c95caa?s=24&d=retro","avatar_mini":"https://cdn.v2ex.com/gravatar/b4a0cb0cca5900661f961f3178c95caa?s=24&d=retro","location":"","btc":"","id":476614},"last_reply_by":"icyalala","last_touched":1639288345,"title":"YY 想法：一款 APP 可以收集到好几个 APP 内容","url":"https://www.v2ex.com/t/821632","created":1639285802,"deleted":0,"content":"想法来源 //\r\n\t每天在手机上获取了大量的信息，如在安装了有各式各样的 APP ，社交（微信、TG ）、新闻（澎湃，谷歌）、长短媒体（ bili 、抖音）、各种论坛的 APP （虎扑、懂球帝、数字尾巴、V2er ）。\r\n    每一个平台上其实只有一小部分是自己关注的，但在浏览时要被迫浏览到其他推送。\r\n    浏览这么多 APP 在切换时，步骤很多余，信息浏览筛选不流畅。\r\n\r\nYY//能不能有这样一款 APP ，每天可以在这一个软件上就浏览到不同 APP 上的推送、帖子、视频。节约浏览时间。\r\n\r\n本人是外行，大学专业电气工程及自动化，工作内容集中在工业制造和运动控制相关，与各位 IT 界吴彦祖们相比在护脸网和 IT 上是小白。所以发帖问问。","content_rendered":"想法来源 //<br />\t每天在手机上获取了大量的信息，如在安装了有各式各样的 APP ，社交（微信、TG ）、新闻（澎湃，谷歌）、长短媒体（ bili 、抖音）、各种论坛的 APP （虎扑、懂球帝、数字尾巴、V2er ）。<br />    每一个平台上其实只有一小部分是自己关注的，但在浏览时要被迫浏览到其他推送。<br />    浏览这么多 APP 在切换时，步骤很多余，信息浏览筛选不流畅。<br /><br />YY//能不能有这样一款 APP ，每天可以在这一个软件上就浏览到不同 APP 上的推送、帖子、视频。节约浏览时间。<br /><br />本人是外行，大学专业电气工程及自动化，工作内容集中在工业制造和运动控制相关，与各位 IT 界吴彦祖们相比在护脸网和 IT 上是小白。所以发帖问问。","last_modified":1639285802,"replies":7,"id":821632},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/b6d7/67d2/22_large.png?m=1635652519","name":"macos","avatar_normal":"https://cdn.v2ex.com/navatar/b6d7/67d2/22_normal.png?m=1635652519","title":"macOS","url":"https://www.v2ex.com/go/macos","topics":17575,"footer":"<a href=\"/mbp\">MacBook Pro</a> 及 <a href=\"/go/imac\">iMac</a> 等 <a href=\"/go/apple\">Apple</a> 公司设计的计算机所运行的操作系统。<a href=\"/go/idev\">iOS</a> 的基础。","header":"The world’s most advanced desktop operating system.","title_alternative":"macOS","avatar_mini":"https://cdn.v2ex.com/navatar/b6d7/67d2/22_mini.png?m=1635652519","stars":4479,"aliases":[],"root":false,"id":22,"parent_node_name":"os"},"member":{"username":"movq","website":"","github":null,"psn":null,"avatar_normal":"https://cdn.v2ex.com/avatar/046c/e28c/463491_mini.png?m=1635399746","bio":"","url":"https://www.v2ex.com/u/movq","tagline":"","twitter":null,"created":1578307830,"avatar_large":"https://cdn.v2ex.com/avatar/046c/e28c/463491_mini.png?m=1635399746","avatar_mini":"https://cdn.v2ex.com/avatar/046c/e28c/463491_mini.png?m=1635399746","location":"","btc":null,"id":463491},"last_reply_by":"Chihaya0824","last_touched":1639282111,"title":"时间机器备份失败半个月了，可能是什么原因？","url":"https://www.v2ex.com/t/821609","created":1639273925,"deleted":0,"content":"![PCY7icp1a3z8hSd]( https://s2.loli.net/2021/12/12/PCY7icp1a3z8hSd.png)\r\n\r\n备份总是提示\r\n\r\n时间机器未完成备份,因为部分文件不可用。备份将在 Mac 解锁后继续。\r\n\r\n这有可能是什么原因？\r\n\r\n备份的时候（半夜）我把屏幕锁了（ control+command+Q ）然后就去睡觉了，没有使用过 MAC 。\r\n\r\n备份的时候我手动把大部分软件都关闭了，只留了 Safari","content_rendered":"<p><img alt=\"PCY7icp1a3z8hSd\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://s2.loli.net/2021/12/12/PCY7icp1a3z8hSd.png\"/></p>\n<p>备份总是提示</p>\n<p>时间机器未完成备份,因为部分文件不可用。备份将在 Mac 解锁后继续。</p>\n<p>这有可能是什么原因？</p>\n<p>备份的时候（半夜）我把屏幕锁了（ control+command+Q ）然后就去睡觉了，没有使用过 MAC 。</p>\n<p>备份的时候我手动把大部分软件都关闭了，只留了 Safari</p>\n","last_modified":1639273979,"replies":7,"id":821609},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/093f/65e0/59_large.png?m=1615956453","name":"random","avatar_normal":"https://cdn.v2ex.com/navatar/093f/65e0/59_normal.png?m=1615956453","title":"随想","url":"https://www.v2ex.com/go/random","topics":3069,"footer":"","header":"有的时候，可以停下来找找灵感，然后再继续。","title_alternative":"Random","avatar_mini":"https://cdn.v2ex.com/navatar/093f/65e0/59_mini.png?m=1615956453","stars":987,"aliases":[],"root":false,"id":59,"parent_node_name":"v2ex"},"member":{"username":"pimin","website":"","github":"28sui","psn":"","avatar_normal":"https://cdn.v2ex.com/avatar/12ae/3f82/12720_mini.png?m=1459087916","bio":"","url":"https://www.v2ex.com/u/pimin","tagline":"","twitter":"","created":1318848314,"avatar_large":"https://cdn.v2ex.com/avatar/12ae/3f82/12720_mini.png?m=1459087916","avatar_mini":"https://cdn.v2ex.com/avatar/12ae/3f82/12720_mini.png?m=1459087916","location":"","btc":"","id":12720},"last_reply_by":"meteor957","last_touched":1639287653,"title":"跑路苏北 18 线小县城三年生活","url":"https://www.v2ex.com/t/821635","created":1639286093,"deleted":0,"content":"17 年房价翻倍，在二线城市完全看不到生活的希望。19 年机缘巧合，现在的老板挖我到苏北小县城来，月薪 12k ，当地房价大概 5k 。\r\n当时想着一个月存 1 平，生活没什么压力就来了。\r\n今年谈了点提成，工厂利润 3 个点，全年利润大概 150~200 万，有个 4 、5w 吧。\r\n\r\n这个苏北小县城真是鱼米之乡，水资源极其丰富。龙虾、螃蟹、野生鱼类，轮番吃。这几年我真的爱上了。\r\n每年 5 月开始吃龙虾，龙虾大概 9 月份结束，10 月份开始吃螃蟹，也能吃 2 个月。\r\n到处都是水，钓鱼佬极其多，我也爱上了钓鱼，主要玩路亚。\r\n都说十路九空，夏天很少连续空军三天以上，每次三五条够吃就行。\r\n翘嘴、鳜鱼、黑鱼、红尾，钓得不亦乐乎。\r\n竿轮线饵之外，还买了充气小船，周末就去湖里划船，躺着吹风也很惬意。\r\n\r\n生活成本来说，现在小县城的消费比二线城市低不了什么。\r\n因为人口少，流动人口少，所以开店很容易倒闭。单价自然就要上去。\r\n25 块钱吃一次水饺，30 块钱一碗面，很平常。\r\n当然味道和量都有保障，和二线城市对比没有很强的落差感。\r\n厂里包食宿，所以日常消费很少。\r\n\r\n交通方面很麻烦，有辆小破车，日常可以解决，没有高铁，出远门或者客户来都是麻烦事。\r\n\r\n医疗方面就不用想了，当地人生病稍微严重有一点都往南京跑。\r\n教育方面，江苏县城的高中都过得去，大部分人不会觉得从县城跑到南京去读书会有多大帮助。\r\n南京外国语那种就不提了，普通家庭没什么机会。\r\n\r\n作息时间方面就不凡尔赛了，我比较自由，晚睡晚起，想钓鱼就出门钓鱼，如入无人之境。\r\n工作上的麻烦主要来自老板，眼界太低、思维跟不上，大部分时间是和老板做斗争。\r\n搞点钱就是买厂房、买房子，没有别的理想，这种情况下打工人对未来没什么信心。\r\n小县城的房价看不到升值空间，买了基本上砸手里那种，8 、90 平的房子，40 来万。\r\n贷款买房都感觉亏了利息钱。\r\n以后怎样也不知道，还是边走边观望。\r\n对婚姻比较悲观，主要问题是对当代女性价值观比较失望。\r\n开始觉得是儒家文化没有对女性价值观做要求，导致社会的性别对立如此严重。\r\n发现台湾却没有这个问题，没想明白起源到底是哪里。\r\n\r\n一点个人经历，给各位移民老哥批判一下。","content_rendered":"17 年房价翻倍，在二线城市完全看不到生活的希望。19 年机缘巧合，现在的老板挖我到苏北小县城来，月薪 12k ，当地房价大概 5k 。<br />当时想着一个月存 1 平，生活没什么压力就来了。<br />今年谈了点提成，工厂利润 3 个点，全年利润大概 150~200 万，有个 4 、5w 吧。<br /><br />这个苏北小县城真是鱼米之乡，水资源极其丰富。龙虾、螃蟹、野生鱼类，轮番吃。这几年我真的爱上了。<br />每年 5 月开始吃龙虾，龙虾大概 9 月份结束，10 月份开始吃螃蟹，也能吃 2 个月。<br />到处都是水，钓鱼佬极其多，我也爱上了钓鱼，主要玩路亚。<br />都说十路九空，夏天很少连续空军三天以上，每次三五条够吃就行。<br />翘嘴、鳜鱼、黑鱼、红尾，钓得不亦乐乎。<br />竿轮线饵之外，还买了充气小船，周末就去湖里划船，躺着吹风也很惬意。<br /><br />生活成本来说，现在小县城的消费比二线城市低不了什么。<br />因为人口少，流动人口少，所以开店很容易倒闭。单价自然就要上去。<br />25 块钱吃一次水饺，30 块钱一碗面，很平常。<br />当然味道和量都有保障，和二线城市对比没有很强的落差感。<br />厂里包食宿，所以日常消费很少。<br /><br />交通方面很麻烦，有辆小破车，日常可以解决，没有高铁，出远门或者客户来都是麻烦事。<br /><br />医疗方面就不用想了，当地人生病稍微严重有一点都往南京跑。<br />教育方面，江苏县城的高中都过得去，大部分人不会觉得从县城跑到南京去读书会有多大帮助。<br />南京外国语那种就不提了，普通家庭没什么机会。<br /><br />作息时间方面就不凡尔赛了，我比较自由，晚睡晚起，想钓鱼就出门钓鱼，如入无人之境。<br />工作上的麻烦主要来自老板，眼界太低、思维跟不上，大部分时间是和老板做斗争。<br />搞点钱就是买厂房、买房子，没有别的理想，这种情况下打工人对未来没什么信心。<br />小县城的房价看不到升值空间，买了基本上砸手里那种，8 、90 平的房子，40 来万。<br />贷款买房都感觉亏了利息钱。<br />以后怎样也不知道，还是边走边观望。<br />对婚姻比较悲观，主要问题是对当代女性价值观比较失望。<br />开始觉得是儒家文化没有对女性价值观做要求，导致社会的性别对立如此严重。<br />发现台湾却没有这个问题，没想明白起源到底是哪里。<br /><br />一点个人经历，给各位移民老哥批判一下。","last_modified":1639286093,"replies":6,"id":821635}]