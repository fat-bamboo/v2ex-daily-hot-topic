[{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1629391393","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1629391393","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":179415,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1629391393","stars":3367,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"username":"DinoStray","website":null,"github":null,"psn":null,"avatar_normal":"https://cdn.v2ex.com/avatar/f289/f4f3/211021_mini.png?m=1491387981","bio":null,"url":"https://www.v2ex.com/u/DinoStray","tagline":null,"twitter":null,"created":1484554057,"avatar_large":"https://cdn.v2ex.com/avatar/f289/f4f3/211021_mini.png?m=1491387981","avatar_mini":"https://cdn.v2ex.com/avatar/f289/f4f3/211021_mini.png?m=1491387981","location":null,"btc":null,"id":211021},"last_reply_by":"kimcool","last_touched":1639016489,"title":"北京租房求推荐, 离地铁近就行","url":"https://www.v2ex.com/t/821018","created":1639009320,"deleted":0,"content":"之前一直以公司为核心, 公司在哪儿, 我就在哪儿租房.  \r\n最近开始居家办公了, 公司不提供办公室了.  \r\n就没了主心骨, 不知道该去哪儿租房了.  \r\n位置的话, 因为横竖都居家办公了, 只要便宜就行了.  \r\n最好是能方便去望京.","content_rendered":"<p>之前一直以公司为核心, 公司在哪儿, 我就在哪儿租房.<br/>\n最近开始居家办公了, 公司不提供办公室了.<br/>\n就没了主心骨, 不知道该去哪儿租房了.<br/>\n位置的话, 因为横竖都居家办公了, 只要便宜就行了.<br/>\n最好是能方便去望京.</p>\n","last_modified":1639009712,"replies":19,"id":821018},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1629391393","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1629391393","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":179415,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1629391393","stars":3367,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"username":"xianyv","website":null,"github":null,"psn":null,"avatar_normal":"https://cdn.v2ex.com/avatar/3854/8878/561705_mini.png?m=1638235184","bio":null,"url":"https://www.v2ex.com/u/xianyv","tagline":null,"twitter":null,"created":1636792544,"avatar_large":"https://cdn.v2ex.com/avatar/3854/8878/561705_mini.png?m=1638235184","avatar_mini":"https://cdn.v2ex.com/avatar/3854/8878/561705_mini.png?m=1638235184","location":null,"btc":null,"id":561705},"last_reply_by":"zoharSoul","last_touched":1639017277,"title":"请问怎么样才能愉快的前后端进行对接","url":"https://www.v2ex.com/t/821032","created":1639014181,"deleted":0,"content":"我现在跟前端对接的时候太痛苦了, 怎么才能让前端看到接口就知道这个接口用在哪里? 还有就是怎么才能让前端记住部分通用字典(这个可能有点过分)?","content_rendered":"<p>我现在跟前端对接的时候太痛苦了, 怎么才能让前端看到接口就知道这个接口用在哪里? 还有就是怎么才能让前端记住部分通用字典(这个可能有点过分)?</p>\n","last_modified":1639014181,"replies":17,"id":821032},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/f61d/6947/375_large.png?m=1633234730","name":"go","avatar_normal":"https://cdn.v2ex.com/navatar/f61d/6947/375_normal.png?m=1633234730","title":"Go 编程语言","url":"https://www.v2ex.com/go/go","topics":2084,"footer":"","header":"Go 是一个开源的编程语言，它能让构造简单、可靠且高效的软件变得容易。","title_alternative":"The Go Programming Language","avatar_mini":"https://cdn.v2ex.com/navatar/f61d/6947/375_mini.png?m=1633234730","stars":2944,"aliases":[],"root":false,"id":375,"parent_node_name":"programming"},"member":{"username":"MX123","website":null,"github":null,"psn":null,"avatar_normal":"https://cdn.v2ex.com/gravatar/5dbc74a7ea4be6f425559141293b4a59?s=24&d=retro","bio":null,"url":"https://www.v2ex.com/u/MX123","tagline":null,"twitter":null,"created":1530092807,"avatar_large":"https://cdn.v2ex.com/gravatar/5dbc74a7ea4be6f425559141293b4a59?s=24&d=retro","avatar_mini":"https://cdn.v2ex.com/gravatar/5dbc74a7ea4be6f425559141293b4a59?s=24&d=retro","location":null,"btc":null,"id":325135},"last_reply_by":"AaronLiu00","last_touched":1638951464,"title":"现在不都是前后端分离了吗？为什么 Go 好多开源项目还是前后端一起？是我理解有误吗？","url":"https://www.v2ex.com/t/821031","created":1639014071,"deleted":0,"content":"下面是我在学习的两个项目，好像都是前后端一起的\r\nhttps://github.com/hezhizheng/repo-image-hosting\r\nhttps://github.com/cloudreve/Cloudreve","content_rendered":"<p>下面是我在学习的两个项目，好像都是前后端一起的\n<a href=\"https://github.com/hezhizheng/repo-image-hosting\" rel=\"nofollow\">https://github.com/hezhizheng/repo-image-hosting</a>\n<a href=\"https://github.com/cloudreve/Cloudreve\" rel=\"nofollow\">https://github.com/cloudreve/Cloudreve</a></p>\n","last_modified":1639014071,"replies":16,"id":821031},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/d3d9/4468/10_large.png?m=1630643933","name":"mbp","avatar_normal":"https://cdn.v2ex.com/navatar/d3d9/4468/10_normal.png?m=1630643933","title":"MacBook Pro","url":"https://www.v2ex.com/go/mbp","topics":7650,"footer":"","header":"State-of-the-art processors. All-new graphics. Breakthrough high-speed I/O. Three very big leaps forward.","title_alternative":"MacBook Pro","avatar_mini":"https://cdn.v2ex.com/navatar/d3d9/4468/10_mini.png?m=1630643933","stars":3025,"aliases":[],"root":false,"id":10,"parent_node_name":"apple"},"member":{"username":"muhuan","website":"","github":null,"psn":null,"avatar_normal":"https://cdn.v2ex.com/gravatar/61aa5d938ee4cfa8da8676fc6e2c36df?s=24&d=retro","bio":"","url":"https://www.v2ex.com/u/muhuan","tagline":"","twitter":null,"created":1577632503,"avatar_large":"https://cdn.v2ex.com/gravatar/61aa5d938ee4cfa8da8676fc6e2c36df?s=24&d=retro","avatar_mini":"https://cdn.v2ex.com/gravatar/61aa5d938ee4cfa8da8676fc6e2c36df?s=24&d=retro","location":"","btc":null,"id":462024},"last_reply_by":"f165af34d4830eeb","last_touched":1639017624,"title":"2015 mbp 升级硬盘","url":"https://www.v2ex.com/t/821024","created":1639012537,"deleted":0,"content":"计划把自己 2015 款的 mbp 升级一下硬盘，原有 256G 太小了，准备升级到 1T ，看到很多同学用三星 970 evo 等，淘宝上有卖一些原装副厂的，非原装的发热最大，v 友有更换过的没，求建议","content_rendered":"计划把自己 2015 款的 mbp 升级一下硬盘，原有 256G 太小了，准备升级到 1T ，看到很多同学用三星 970 evo 等，淘宝上有卖一些原装副厂的，非原装的发热最大，v 友有更换过的没，求建议","last_modified":1639012537,"replies":13,"id":821024},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/a3c6/5c29/108_large.png?m=1635654723","name":"bb","avatar_normal":"https://cdn.v2ex.com/navatar/a3c6/5c29/108_normal.png?m=1635654723","title":"宽带症候群","url":"https://www.v2ex.com/go/bb","topics":10022,"footer":"","header":"网速很重要。比快更快。","title_alternative":"Broadband Symptom Complex","avatar_mini":"https://cdn.v2ex.com/navatar/a3c6/5c29/108_mini.png?m=1635654723","stars":5249,"aliases":[],"root":false,"id":108,"parent_node_name":"geek"},"member":{"username":"goodplayvppo","website":null,"github":null,"psn":null,"avatar_normal":"https://cdn.v2ex.com/gravatar/2f9eebb752282749792147822b7d0f7f?s=24&d=retro","bio":null,"url":"https://www.v2ex.com/u/goodplayvppo","tagline":null,"twitter":null,"created":1631515240,"avatar_large":"https://cdn.v2ex.com/gravatar/2f9eebb752282749792147822b7d0f7f?s=24&d=retro","avatar_mini":"https://cdn.v2ex.com/gravatar/2f9eebb752282749792147822b7d0f7f?s=24&d=retro","location":null,"btc":null,"id":555864},"last_reply_by":"vzong","last_touched":1639017481,"title":"联通宽带,这个应该是最便宜的吧","url":"https://www.v2ex.com/t/821036","created":1639015027,"deleted":0,"content":"套餐详情\r\n5G 冰激凌 129 档融合宽带，合约期一年，一条 1000M 宽带，1500 分钟全国语音，100G 国内 5G 通用流量，3 张 5G 电话卡(1 张主卡，2 张副卡，副卡 10 元 /月 /张)，副卡收费 10 元 /张 /月，新老用户均可办理；新装宽带需要收取一次性工料费或设备费(不同区域政策不同，具体以装机师傅上门为准)，上门人员收取，不包含联通顶盒等设备费用。","content_rendered":"套餐详情<br />5G 冰激凌 129 档融合宽带，合约期一年，一条 1000M 宽带，1500 分钟全国语音，100G 国内 5G 通用流量，3 张 5G 电话卡(1 张主卡，2 张副卡，副卡 10 元 /月 /张)，副卡收费 10 元 /张 /月，新老用户均可办理；新装宽带需要收取一次性工料费或设备费(不同区域政策不同，具体以装机师傅上门为准)，上门人员收取，不包含联通顶盒等设备费用。","last_modified":1639015027,"replies":11,"id":821036},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/6cdd/60ea/184_large.png?m=1630643913","name":"apple","avatar_normal":"https://cdn.v2ex.com/navatar/6cdd/60ea/184_normal.png?m=1630643913","title":"Apple","url":"https://www.v2ex.com/go/apple","topics":17141,"footer":"","header":"设计了 <a href=\"/go/watch\">Apple Watch</a>，<a href=\"/go/ipad\">iPad</a>，<a href=\"/go/iphone\">iPhone</a>，<a href=\"/go/imac\">iMac</a> 及 <a href=\"/go/mbp\">MacBook Pro</a> 等电子产品的美国公司。","title_alternative":"Apple","avatar_mini":"https://cdn.v2ex.com/navatar/6cdd/60ea/184_mini.png?m=1630643913","stars":2030,"aliases":[],"root":false,"id":184,"parent_node_name":"hardware"},"member":{"username":"ZZY19890604","website":null,"github":null,"psn":null,"avatar_normal":"https://cdn.v2ex.com/avatar/5a3a/fcbd/457712_mini.png?m=1616720802","bio":null,"url":"https://www.v2ex.com/u/ZZY19890604","tagline":null,"twitter":null,"created":1575596075,"avatar_large":"https://cdn.v2ex.com/avatar/5a3a/fcbd/457712_mini.png?m=1616720802","avatar_mini":"https://cdn.v2ex.com/avatar/5a3a/fcbd/457712_mini.png?m=1616720802","location":null,"btc":null,"id":457712},"last_reply_by":"jiangwangzhang","last_touched":1639017588,"title":"大陆正式封锁 Apple 设备的海拔和经纬度功能，有哪些方面会被影响","url":"https://www.v2ex.com/t/821043","created":1639015767,"deleted":0,"content":"大陆正式封锁 Apple 设备的海拔和经纬度功能\r\n\r\n经过我的反复测试，确认在中国大陆范围内，指南针 App 的经纬度和海拔功能被全部或部分屏蔽。\r\n\r\n⚠️ 注意\r\n不同的手表型号，受影响的功能也不同\r\n\r\n😢 前提条件\r\niOS / watchOS 系统认为你的地理位置在中国大陆范围内\r\n\r\n📱 受影响设备及功能\r\n\r\n🌊 海拔功能\r\n* 任何运行 watchOS 8.3 RC 或更高版本的全系列 Apple Watch S5 或更早机型\r\n\r\n* 任何运行 iOS 15.1 或更高版本的 iPhone\r\n\r\n🗺️ 经纬度功能\r\n* 任何运行 watchOS 8.3 RC 或更高版本的全系列 Apple Watch\r\n\r\n* 任何运行 iOS 15.1 或更高版本的 iPhone\r\n\r\n🍀 不受影响的条件\r\n* API 不受影响，任何支持高度计 / GPS 的 Apple Watch 和 iPhone 可以通过捷径、自行开发 App 等等方式获取数据\r\n\r\n* Apple Watch S6 或更新机型的海拔功能不受影响，它们配备的是「全天候高度计」，而 S5 或更旧机型配备的是「高度计」则不再显示海拔\r\n\r\n* Workout App 在记录 远足 等运动时，设备依然可以记录你的海拔变化\r\n\r\n* 系统认为你的地理位置不在中国大陆","content_rendered":"<p>大陆正式封锁 Apple 设备的海拔和经纬度功能</p>\n<p>经过我的反复测试，确认在中国大陆范围内，指南针 App 的经纬度和海拔功能被全部或部分屏蔽。</p>\n<p>⚠️ 注意\n不同的手表型号，受影响的功能也不同</p>\n<p>😢 前提条件\niOS / watchOS 系统认为你的地理位置在中国大陆范围内</p>\n<p>📱 受影响设备及功能</p>\n<p>🌊 海拔功能</p>\n<ul>\n<li>\n<p>任何运行 watchOS 8.3 RC 或更高版本的全系列 Apple Watch S5 或更早机型</p>\n</li>\n<li>\n<p>任何运行 iOS 15.1 或更高版本的 iPhone</p>\n</li>\n</ul>\n<p>🗺️ 经纬度功能</p>\n<ul>\n<li>\n<p>任何运行 watchOS 8.3 RC 或更高版本的全系列 Apple Watch</p>\n</li>\n<li>\n<p>任何运行 iOS 15.1 或更高版本的 iPhone</p>\n</li>\n</ul>\n<p>🍀 不受影响的条件</p>\n<ul>\n<li>\n<p>API 不受影响，任何支持高度计 / GPS 的 Apple Watch 和 iPhone 可以通过捷径、自行开发 App 等等方式获取数据</p>\n</li>\n<li>\n<p>Apple Watch S6 或更新机型的海拔功能不受影响，它们配备的是「全天候高度计」，而 S5 或更旧机型配备的是「高度计」则不再显示海拔</p>\n</li>\n<li>\n<p>Workout App 在记录 远足 等运动时，设备依然可以记录你的海拔变化</p>\n</li>\n<li>\n<p>系统认为你的地理位置不在中国大陆</p>\n</li>\n</ul>\n","last_modified":1639015767,"replies":9,"id":821043},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/17e6/2166/43_large.png?m=1638324963","name":"jobs","avatar_normal":"https://cdn.v2ex.com/navatar/17e6/2166/43_normal.png?m=1638324963","title":"酷工作","url":"https://www.v2ex.com/go/jobs","topics":50279,"footer":"","header":"做有趣的有意义的事情。","title_alternative":"Jobs","avatar_mini":"https://cdn.v2ex.com/navatar/17e6/2166/43_mini.png?m=1638324963","stars":4948,"aliases":[],"root":false,"id":43,"parent_node_name":"work"},"member":{"username":"Zhongwei","website":"sunzhongwei.com","github":"sunzhongwei","psn":"","avatar_normal":"https://cdn.v2ex.com/avatar/2715/518c/1219_mini.png?m=1605832529","bio":"","url":"https://www.v2ex.com/u/Zhongwei","tagline":"","twitter":"","created":1282709201,"avatar_large":"https://cdn.v2ex.com/avatar/2715/518c/1219_mini.png?m=1605832529","avatar_mini":"https://cdn.v2ex.com/avatar/2715/518c/1219_mini.png?m=1605832529","location":"烟台","btc":"","id":1219},"last_reply_by":"Zhongwei","last_touched":1639016248,"title":"[山东烟台] 明石创新招聘 Android 开发工程师","url":"https://www.v2ex.com/t/821033","created":1639014184,"deleted":0,"content":"明石创新产业技术研究院有限公司\r\n\r\n## 岗位职责\r\n1. 负责公司 Android 端应用程序开发；\r\n2. 根据需求进行系统分析和开发设计并输出相关技术文档；\r\n3. 与产品和后端沟通功能设计，实现方案，保证产品的质量和开发进度；\r\n4. 持续对移动平台相关新技术进行研究和功能实现，对现有开发方法进行改进。\r\n\r\n## 任职资格\r\n1. 计算机或相关专业本科及以上学历，两年以上 Android 开发经验，具有多个成熟 Android 端产品开发经验；\r\n2. 精通 Android 系统架构，UI 设计，熟练应用各种组件实现 App 功能\r\n3. Java 基础扎实，熟练掌握主流手机平台编程语言和数据结构基础，熟练使用 Android 开发工具；\r\n4. 熟悉项目开发流程，具有一定的项目管理能力。\r\n\r\n## 补充\r\n- 薪资：8 千-1.3 万，13 薪\r\n- 五险一金、年底双薪、包住\r\n- 办公地：烟台开发区台北北路 46 号\r\n- 学历：本科及以上\r\n\r\n## 招聘联系\r\n- 简历以附近方式发送至： wangyujiao@chinabrightstone.com\r\n- 标题格式：姓名 - 职位 - 来自 v2ex\r\n\r\n## 公司简介\r\n明石创新产业技术研究院是明石创新技术集团重点打造的技术创新与产业化促进平台。该院秉承明石集团“深耕产业、守正创新”的经营理念，依托明石集团在产业、技术和资本方面的雄厚资源优势，重点围绕智能制造装备、工业物联网、海工装备、水工装备、环保装备、新材料等领域开展技术创新与产业化。明石创新产业技术研究院于 2019 年初经国家市场监督管理总局核准后注册设立，并设立微纳传感系统、过滤分离技术、载人压力舱、水工装备、陶瓷新材料、管理创新等多个专业研究院，参与发起设立的“中国先进制造业投融资服务联盟”将有力的探索创业投资服务科技创新与产业升级的新模式。目前，明石创新产业技术研究院院正在联合西安交通大学、天津大学等多所知名高校开展共建，携手院士、“千人计划专家”、“长江学者”等高层次人才团队开展技术研发，由该院牵头建设的“山东省建设智能制造装备创新创业共同体”也已进入实施阶段。依托明石创新产业技术研究院，明石集团正在多个优势产业领域聚集高层次科技人才，引进前沿科技成果，孵化科技创新企业，培育上市产业化公司，致力于构建以技术创新为引领、以实体产业为依托、以创投资本为促进的协同创新和产业发展生态系统。","content_rendered":"<p>明石创新产业技术研究院有限公司</p>\n<h2>岗位职责</h2>\n<ol>\n<li>负责公司 Android 端应用程序开发；</li>\n<li>根据需求进行系统分析和开发设计并输出相关技术文档；</li>\n<li>与产品和后端沟通功能设计，实现方案，保证产品的质量和开发进度；</li>\n<li>持续对移动平台相关新技术进行研究和功能实现，对现有开发方法进行改进。</li>\n</ol>\n<h2>任职资格</h2>\n<ol>\n<li>计算机或相关专业本科及以上学历，两年以上 Android 开发经验，具有多个成熟 Android 端产品开发经验；</li>\n<li>精通 Android 系统架构，UI 设计，熟练应用各种组件实现 App 功能</li>\n<li>Java 基础扎实，熟练掌握主流手机平台编程语言和数据结构基础，熟练使用 Android 开发工具；</li>\n<li>熟悉项目开发流程，具有一定的项目管理能力。</li>\n</ol>\n<h2>补充</h2>\n<ul>\n<li>薪资：8 千-1.3 万，13 薪</li>\n<li>五险一金、年底双薪、包住</li>\n<li>办公地：烟台开发区台北北路 46 号</li>\n<li>学历：本科及以上</li>\n</ul>\n<h2>招聘联系</h2>\n<ul>\n<li>简历以附近方式发送至： <a href=\"mailto:wangyujiao@chinabrightstone.com\">wangyujiao@chinabrightstone.com</a></li>\n<li>标题格式：姓名 - 职位 - 来自 v2ex</li>\n</ul>\n<h2>公司简介</h2>\n<p>明石创新产业技术研究院是明石创新技术集团重点打造的技术创新与产业化促进平台。该院秉承明石集团“深耕产业、守正创新”的经营理念，依托明石集团在产业、技术和资本方面的雄厚资源优势，重点围绕智能制造装备、工业物联网、海工装备、水工装备、环保装备、新材料等领域开展技术创新与产业化。明石创新产业技术研究院于 2019 年初经国家市场监督管理总局核准后注册设立，并设立微纳传感系统、过滤分离技术、载人压力舱、水工装备、陶瓷新材料、管理创新等多个专业研究院，参与发起设立的“中国先进制造业投融资服务联盟”将有力的探索创业投资服务科技创新与产业升级的新模式。目前，明石创新产业技术研究院院正在联合西安交通大学、天津大学等多所知名高校开展共建，携手院士、“千人计划专家”、“长江学者”等高层次人才团队开展技术研发，由该院牵头建设的“山东省建设智能制造装备创新创业共同体”也已进入实施阶段。依托明石创新产业技术研究院，明石集团正在多个优势产业领域聚集高层次科技人才，引进前沿科技成果，孵化科技创新企业，培育上市产业化公司，致力于构建以技术创新为引领、以实体产业为依托、以创投资本为促进的协同创新和产业发展生态系统。</p>\n","last_modified":1639014184,"replies":9,"id":821033},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/70ef/df2e/17_large.png?m=1629391403","name":"create","avatar_normal":"https://cdn.v2ex.com/navatar/70ef/df2e/17_normal.png?m=1629391403","title":"分享创造","url":"https://www.v2ex.com/go/create","topics":16999,"footer":"","header":"欢迎你在这里发布自己的最新作品！","title_alternative":"Create","avatar_mini":"https://cdn.v2ex.com/navatar/70ef/df2e/17_mini.png?m=1629391403","stars":4126,"aliases":[],"root":false,"id":17,"parent_node_name":"geek"},"member":{"username":"ihciah","website":"https://www.ihcblog.com","github":"ihciah","psn":"","avatar_normal":"https://cdn.v2ex.com/avatar/5719/62a6/20396_mini.png?m=1450629628","bio":"渣渣一枚\r\n⎛⎝⊙⊙⎠⎞","url":"https://www.v2ex.com/u/ihciah","tagline":"ihc同学@提不起劲","twitter":"","created":1336178447,"avatar_large":"https://cdn.v2ex.com/avatar/5719/62a6/20396_mini.png?m=1450629628","avatar_mini":"https://cdn.v2ex.com/avatar/5719/62a6/20396_mini.png?m=1450629628","location":"ShangHai","btc":"","id":20396},"last_reply_by":"CatCode","last_touched":1639017153,"title":"Monoio: 字节跳动开源 Rust Runtime","url":"https://www.v2ex.com/t/821027","created":1639013406,"deleted":0,"content":"Monoio 是字节跳动服务框架组开源的基于 io-uring 的 thread-per-core 模型高性能 Rust Runtime ，旨在为高性能网络中间件等场景提供必要的运行时。\r\n\r\n项目仓库: https://github.com/bytedance/monoio\r\n\r\n## 背景\r\n\r\n过去，高性能网络中间件或服务器往往使用 C/C++ 编写，比如我们常见的 Envoy 和 Nginx 。它们往往以非常直接的方式和操作系统交互，并且得益于没有垃圾收集机制，相比有 GC 的语言（如 Golang 和 Java ），额外开销十分低，延迟稳定。\r\n\r\n但是开发这类组件对开发者的专业水平有较高的要求，编程范式上对开发者心智负担巨大，稍有不慎就会造成非预期的后果。举例来说，在 C++ 中要完成一次异步的网络请求，需要将整个流程按照异步点拆分成独立的纯同步函数，并以 callback 的形式将其串联——这一来大大降低了其可读性，二来状态转换和管理容易出错；并且对变量生命周期需要精细管理，否则就会出现悬垂指针等内存问题。\r\n\r\n为什么不试试神奇的 Rust 呢？ Rust 语言通过引入所有权模型，在不引入垃圾回收的情况下保证了内存安全；并且通过语言内置的异步抽象，支持了 `async + await` 的异步编程模式。使用一个优秀的 Runtime ，即可像写 Golang 一样流畅地在 Rust 中平铺直叙地写异步代码——而性能并不输于 C++。\r\n\r\n## Rust Runtime 与 thread-per-core 模型\r\n\r\n与 Golang 不同，Rust 语言中标准库并没有提供异步运行时(Runtime)，只提供了必要的结构抽象。Runtime 负责与操作系统打交道，并对齐标准库的 Future 和 Waker 等定义，用户可以自主选择 Runtime 。\r\n\r\n当前被广泛使用的 Runtime 是 Tokio ，它提供了类似 Golang 调度器的实现，用户的 Task 可以在多个线程之间被调度，较为有效地利用了多核心的性能。\r\n\r\n但问题也随之而来：在部分强依赖高性能低延迟的场景下，调度带来的开销反而是用户不希望看到的。在核心数较多的情况下，调度开销反而会抵消调度带来的好处。\r\n\r\nNginx 和 Envoy 这类组件往往使用 thread-per-core 模型，即多少核心就运行多少线程，一个任务一旦被一个线程所接收，它后续的处理则都在该线程上。这种做法下几乎没有跨线程的开销，提升了 CPU 利用率，可以较好地保持系统的线性扩展性。此外，由于没有跨线程，处理逻辑也可以尽可能地利用 thread local 的便利，多数时候无需加锁便可操作共享数据。\r\n\r\n面向这类场景，Monoio 基于 io-uring 致力于提供最佳的性能；另外，我们还定义了一个更适合 io-uring 的 IO trait 。\r\n\r\n## 性能\r\n\r\n![monoio-bench-100B.png]( https://i.v2ex.co/uQZfTyf6.png)\r\n\r\n![monoio-bench-1C-250conn-qps.png]( https://i.v2ex.co/6F0JXGZj.png)\r\n\r\n我们对比了 Monoio 、Tokio 和 Glommio （另一个类似的 Runtime ，但在性能目标上不如 Monoio 激进）。\r\n\r\n在绝大多数测试中，Monoio 都具有更低的延迟和更高的吞吐。对比 Tokio ，在多核场景下 Monoio 可以提供 2 到 3 倍的性能提升（原因主要在于模型上，没有了跨线程同步开销）；而对比 Glommio ，我们可以在降低延迟的同时，节省约 1/4 到 1/3 的 CPU 占用（性能提升在于更优的调度实现，io-uring 批量 submit ）。\r\n\r\n更进一步的测试报告和设计上的权衡在 Github Repo 中有详细的文档。\r\n\r\n另外，我们还对比了生产中使用的(epoll based) Nginx ，在 Proxy 场景下基于 Monoio 写的 TCP 代理可以获得差不多的性能（连接数较多时 Monoio 性能优于 Nginx ，较少时差于 Nginx ，数据整体上差不多）。与 Envoy 的 TCP Proxy 对比也表明 Monoio 有非常明显的性能优势。\r\n\r\n## 结语\r\nMonoio 提供了 thread-per-core 场景下最高性能的 Runtime 实现。我们的目标是能够让 Rust 在高性能场景下成为替换 C/C++ 的更好选择。目前字节已经开始基于 Rust 和 Monoio 构建下一代 Service Mesh 。\r\n\r\n当然，没有什么 Runtime 是绝对最佳的选择，Runtime 的选型还是要根据具体的业务场景来。希望我们的 Monoio 可以给某些场景用户多一种选择。\r\n\r\n在 Monoio 的设计和实现中我们大量参考了 Tokio 等同类产品，感谢这些项目的贡献者；也希望 Monoio 能够在大家的共同努力下变得更加完善更加易用。\r\n\r\n## 参考资料\r\n另外，在开发过程中我也总结了一些东西，写成了几篇博客，感兴趣可以看这里：[Rust Runtime 设计与实现]( https://www.ihcblog.com/rust-runtime-design-1/)。","content_rendered":"<p>Monoio 是字节跳动服务框架组开源的基于 io-uring 的 thread-per-core 模型高性能 Rust Runtime ，旨在为高性能网络中间件等场景提供必要的运行时。</p>\n<p>项目仓库: <a href=\"https://github.com/bytedance/monoio\" rel=\"nofollow\">https://github.com/bytedance/monoio</a></p>\n<h2>背景</h2>\n<p>过去，高性能网络中间件或服务器往往使用 C/C++ 编写，比如我们常见的 Envoy 和 Nginx 。它们往往以非常直接的方式和操作系统交互，并且得益于没有垃圾收集机制，相比有 GC 的语言（如 Golang 和 Java ），额外开销十分低，延迟稳定。</p>\n<p>但是开发这类组件对开发者的专业水平有较高的要求，编程范式上对开发者心智负担巨大，稍有不慎就会造成非预期的后果。举例来说，在 C++ 中要完成一次异步的网络请求，需要将整个流程按照异步点拆分成独立的纯同步函数，并以 callback 的形式将其串联——这一来大大降低了其可读性，二来状态转换和管理容易出错；并且对变量生命周期需要精细管理，否则就会出现悬垂指针等内存问题。</p>\n<p>为什么不试试神奇的 Rust 呢？ Rust 语言通过引入所有权模型，在不引入垃圾回收的情况下保证了内存安全；并且通过语言内置的异步抽象，支持了 <code>async + await</code> 的异步编程模式。使用一个优秀的 Runtime ，即可像写 Golang 一样流畅地在 Rust 中平铺直叙地写异步代码——而性能并不输于 C++。</p>\n<h2>Rust Runtime 与 thread-per-core 模型</h2>\n<p>与 Golang 不同，Rust 语言中标准库并没有提供异步运行时(Runtime)，只提供了必要的结构抽象。Runtime 负责与操作系统打交道，并对齐标准库的 Future 和 Waker 等定义，用户可以自主选择 Runtime 。</p>\n<p>当前被广泛使用的 Runtime 是 Tokio ，它提供了类似 Golang 调度器的实现，用户的 Task 可以在多个线程之间被调度，较为有效地利用了多核心的性能。</p>\n<p>但问题也随之而来：在部分强依赖高性能低延迟的场景下，调度带来的开销反而是用户不希望看到的。在核心数较多的情况下，调度开销反而会抵消调度带来的好处。</p>\n<p>Nginx 和 Envoy 这类组件往往使用 thread-per-core 模型，即多少核心就运行多少线程，一个任务一旦被一个线程所接收，它后续的处理则都在该线程上。这种做法下几乎没有跨线程的开销，提升了 CPU 利用率，可以较好地保持系统的线性扩展性。此外，由于没有跨线程，处理逻辑也可以尽可能地利用 thread local 的便利，多数时候无需加锁便可操作共享数据。</p>\n<p>面向这类场景，Monoio 基于 io-uring 致力于提供最佳的性能；另外，我们还定义了一个更适合 io-uring 的 IO trait 。</p>\n<h2>性能</h2>\n<p><img alt=\"monoio-bench-100B.png\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://i.v2ex.co/uQZfTyf6.png\"/></p>\n<p><img alt=\"monoio-bench-1C-250conn-qps.png\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://i.v2ex.co/6F0JXGZj.png\"/></p>\n<p>我们对比了 Monoio 、Tokio 和 Glommio （另一个类似的 Runtime ，但在性能目标上不如 Monoio 激进）。</p>\n<p>在绝大多数测试中，Monoio 都具有更低的延迟和更高的吞吐。对比 Tokio ，在多核场景下 Monoio 可以提供 2 到 3 倍的性能提升（原因主要在于模型上，没有了跨线程同步开销）；而对比 Glommio ，我们可以在降低延迟的同时，节省约 1/4 到 1/3 的 CPU 占用（性能提升在于更优的调度实现，io-uring 批量 submit ）。</p>\n<p>更进一步的测试报告和设计上的权衡在 Github Repo 中有详细的文档。</p>\n<p>另外，我们还对比了生产中使用的(epoll based) Nginx ，在 Proxy 场景下基于 Monoio 写的 TCP 代理可以获得差不多的性能（连接数较多时 Monoio 性能优于 Nginx ，较少时差于 Nginx ，数据整体上差不多）。与 Envoy 的 TCP Proxy 对比也表明 Monoio 有非常明显的性能优势。</p>\n<h2>结语</h2>\n<p>Monoio 提供了 thread-per-core 场景下最高性能的 Runtime 实现。我们的目标是能够让 Rust 在高性能场景下成为替换 C/C++ 的更好选择。目前字节已经开始基于 Rust 和 Monoio 构建下一代 Service Mesh 。</p>\n<p>当然，没有什么 Runtime 是绝对最佳的选择，Runtime 的选型还是要根据具体的业务场景来。希望我们的 Monoio 可以给某些场景用户多一种选择。</p>\n<p>在 Monoio 的设计和实现中我们大量参考了 Tokio 等同类产品，感谢这些项目的贡献者；也希望 Monoio 能够在大家的共同努力下变得更加完善更加易用。</p>\n<h2>参考资料</h2>\n<p>另外，在开发过程中我也总结了一些东西，写成了几篇博客，感兴趣可以看这里：<a href=\"https://www.ihcblog.com/rust-runtime-design-1/\" rel=\"nofollow\">Rust Runtime 设计与实现</a>。</p>\n","last_modified":1639013406,"replies":9,"id":821027},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1635654575","name":"programmer","avatar_normal":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1635654575","title":"程序员","url":"https://www.v2ex.com/go/programmer","topics":46608,"footer":"","header":"While code monkeys are not eating bananas, they're coding.","title_alternative":"Programmer","avatar_mini":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1635654575","stars":7610,"aliases":[],"root":false,"id":300,"parent_node_name":"computer"},"member":{"username":"oldboy627","website":null,"github":null,"psn":null,"avatar_normal":"https://cdn.v2ex.com/gravatar/0dc3b2473c7162bd5da34aa0682219a9?s=24&d=retro","bio":null,"url":"https://www.v2ex.com/u/oldboy627","tagline":null,"twitter":null,"created":1589778500,"avatar_large":"https://cdn.v2ex.com/gravatar/0dc3b2473c7162bd5da34aa0682219a9?s=24&d=retro","avatar_mini":"https://cdn.v2ex.com/gravatar/0dc3b2473c7162bd5da34aa0682219a9?s=24&d=retro","location":null,"btc":null,"id":490107},"last_reply_by":"oldboy627","last_touched":1639010518,"title":"使用 powershell 获取文件部分内容","url":"https://www.v2ex.com/t/821017","created":1639009030,"deleted":0,"content":"彭于晏们，如何使用 powershell 获取 txt 中部分内容，其中红框区域的内容是动态变化的，今天是 4 条，明天可能是 3 条。\r\n\r\nhttps://i.imgur.com/epAA0hH.png","content_rendered":"彭于晏们，如何使用 powershell 获取 txt 中部分内容，其中红框区域的内容是动态变化的，今天是 4 条，明天可能是 3 条。<br /><br /><a target=\"_blank\" href=\"https://i.imgur.com/epAA0hH.png\" rel=\"nofollow noopener\" target=\"_blank\"><img src=\"https://i.imgur.com/epAA0hH.png\" class=\"embedded_image\" rel=\"noreferrer\"></a>","last_modified":1639009030,"replies":9,"id":821017},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1635654575","name":"programmer","avatar_normal":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1635654575","title":"程序员","url":"https://www.v2ex.com/go/programmer","topics":46608,"footer":"","header":"While code monkeys are not eating bananas, they're coding.","title_alternative":"Programmer","avatar_mini":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1635654575","stars":7610,"aliases":[],"root":false,"id":300,"parent_node_name":"computer"},"member":{"username":"cobainlu","website":"","github":"","psn":"","avatar_normal":"https://cdn.v2ex.com/gravatar/9ba2d3d86e3c0b1c6aa42d356ba34474?s=24&d=retro","bio":"","url":"https://www.v2ex.com/u/cobainlu","tagline":"","twitter":"","created":1576634979,"avatar_large":"https://cdn.v2ex.com/gravatar/9ba2d3d86e3c0b1c6aa42d356ba34474?s=24&d=retro","avatar_mini":"https://cdn.v2ex.com/gravatar/9ba2d3d86e3c0b1c6aa42d356ba34474?s=24&d=retro","location":"","btc":"","id":459884},"last_reply_by":"statement","last_touched":1639016292,"title":"如何提高自己的文档输出能力","url":"https://www.v2ex.com/t/821028","created":1639013454,"deleted":0,"content":"最近因为工作的原因需要经常给甲方一些接口 /数据标准的文档.每次写总觉得自己在代码之外输出这些文档的能力很薄弱,参考了一些开源项目的文档,也没有得到很好地启发,各位 v 友在工作中有遇到这些问题吗?","content_rendered":"<p>最近因为工作的原因需要经常给甲方一些接口 /数据标准的文档.每次写总觉得自己在代码之外输出这些文档的能力很薄弱,参考了一些开源项目的文档,也没有得到很好地启发,各位 v 友在工作中有遇到这些问题吗?</p>\n","last_modified":1639013454,"replies":8,"id":821028},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/b6d7/67d2/22_large.png?m=1635652519","name":"macos","avatar_normal":"https://cdn.v2ex.com/navatar/b6d7/67d2/22_normal.png?m=1635652519","title":"macOS","url":"https://www.v2ex.com/go/macos","topics":17552,"footer":"<a href=\"/mbp\">MacBook Pro</a> 及 <a href=\"/go/imac\">iMac</a> 等 <a href=\"/go/apple\">Apple</a> 公司设计的计算机所运行的操作系统。<a href=\"/go/idev\">iOS</a> 的基础。","header":"The world’s most advanced desktop operating system.","title_alternative":"macOS","avatar_mini":"https://cdn.v2ex.com/navatar/b6d7/67d2/22_mini.png?m=1635652519","stars":4480,"aliases":[],"root":false,"id":22,"parent_node_name":"os"},"member":{"username":"taliove","website":null,"github":null,"psn":null,"avatar_normal":"https://cdn.v2ex.com/gravatar/8d94cb8be36f163c7a6148d4dc9a53d9?s=24&d=retro","bio":null,"url":"https://www.v2ex.com/u/taliove","tagline":null,"twitter":null,"created":1514956370,"avatar_large":"https://cdn.v2ex.com/gravatar/8d94cb8be36f163c7a6148d4dc9a53d9?s=24&d=retro","avatar_mini":"https://cdn.v2ex.com/gravatar/8d94cb8be36f163c7a6148d4dc9a53d9?s=24&d=retro","location":null,"btc":null,"id":279107},"last_reply_by":"taliove","last_touched":1639016967,"title":"WindowServer 占用内存高达 98GB","url":"https://www.v2ex.com/t/821049","created":1639016387,"deleted":0,"content":"MBP M1 2020 16GB 内存\r\nWindowServer 偶尔出现占用内存 98GB 的现象。\r\n之后弹出内存不足的窗口。\r\n\r\n该现象是在打开 macOS 的安全策略之后偶发，频率大约在一周 2 次左右。\r\n\r\n请大家大家有这样的现象吗？该如何处理？\r\n\r\n![42E2E29C-7913-4A2F-A170-9A8C96508B0A.png]( http://tva1.sinaimg.cn/large/66bb3595gy1gx7ddm2pj3j20sk0j8dii.jpg)","content_rendered":"<p>MBP M1 2020 16GB 内存\nWindowServer 偶尔出现占用内存 98GB 的现象。\n之后弹出内存不足的窗口。</p>\n<p>该现象是在打开 macOS 的安全策略之后偶发，频率大约在一周 2 次左右。</p>\n<p>请大家大家有这样的现象吗？该如何处理？</p>\n<p><img alt=\"42E2E29C-7913-4A2F-A170-9A8C96508B0A.png\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"http://tva1.sinaimg.cn/large/66bb3595gy1gx7ddm2pj3j20sk0j8dii.jpg\"/></p>\n","last_modified":1639016763,"replies":6,"id":821049}]