[{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/b53b/3a3d/55_large.png?m=1611920927","name":"games","avatar_normal":"https://cdn.v2ex.com/navatar/b53b/3a3d/55_normal.png?m=1611920927","title":"游戏","url":"https://www.v2ex.com/go/games","topics":2619,"footer":"","header":"Life is short, have more fun.","title_alternative":"Games","avatar_mini":"https://cdn.v2ex.com/navatar/b53b/3a3d/55_mini.png?m=1611920927","stars":2324,"aliases":[],"root":false,"id":55,"parent_node_name":"computer"},"member":{"id":14220,"username":"fu82581983","url":"https://www.v2ex.com/u/fu82581983","website":"","twitter":"","psn":"","github":"","btc":"","location":"ShangHai","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/avatar/9e6b/c039/14220_mini.png?m=1712712095","avatar_normal":"https://cdn.v2ex.com/avatar/9e6b/c039/14220_normal.png?m=1712712095","avatar_large":"https://cdn.v2ex.com/avatar/9e6b/c039/14220_large.png?m=1712712095","avatar_xlarge":"https://cdn.v2ex.com/avatar/9e6b/c039/14220_xlarge.png?m=1712712095","avatar_xxlarge":"https://cdn.v2ex.com/avatar/9e6b/c039/14220_xlarge.png?m=1712712095","avatar_xxxlarge":"https://cdn.v2ex.com/avatar/9e6b/c039/14220_xlarge.png?m=1712712095","created":1322984694,"last_modified":1712712095},"last_reply_by":"reoah2","last_touched":1712715339,"title":"暴雪回归了","url":"https://www.v2ex.com/t/1031170","created":1712712116,"deleted":0,"content":"![]( https://i.v2ex.co/oV5VAkc6.jpeg)\r\n\r\n折腾了一圈还是和网易合好了","content_rendered":"<p><img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://i.v2ex.co/oV5VAkc6.jpeg\"/></p>\n<p>折腾了一圈还是和网易合好了</p>\n","last_modified":1712712116,"replies":37,"id":1031170},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/4ea0/6fbc/770_large.png?m=1695370146","name":"career","avatar_normal":"https://cdn.v2ex.com/navatar/4ea0/6fbc/770_normal.png?m=1695370146","title":"职场话题","url":"https://www.v2ex.com/go/career","topics":16663,"footer":"","header":"这里，我们聊聊那些工作中遇到的开心和不开心的事。","title_alternative":"Career","avatar_mini":"https://cdn.v2ex.com/navatar/4ea0/6fbc/770_mini.png?m=1695370146","stars":3077,"aliases":[],"root":false,"id":770,"parent_node_name":"work"},"member":{"id":365070,"username":"zzzzzzggggggg","url":"https://www.v2ex.com/u/zzzzzzggggggg","website":"","twitter":null,"psn":null,"github":null,"btc":null,"location":"","tagline":"","bio":"技术越简单越好","avatar_mini":"https://cdn.v2ex.com/avatar/2a7f/7d54/365070_mini.png?m=1706525539","avatar_normal":"https://cdn.v2ex.com/avatar/2a7f/7d54/365070_normal.png?m=1706525539","avatar_large":"https://cdn.v2ex.com/avatar/2a7f/7d54/365070_large.png?m=1706525539","avatar_xlarge":"https://cdn.v2ex.com/avatar/2a7f/7d54/365070_xlarge.png?m=1706525539","avatar_xxlarge":"https://cdn.v2ex.com/avatar/2a7f/7d54/365070_xlarge.png?m=1706525539","created":1542883176,"last_modified":1706525539},"last_reply_by":"jasonlz","last_touched":1712715763,"title":"程序员拿不到好绩效真的是能力不够吗？","url":"https://www.v2ex.com/t/1031165","created":1712711811,"deleted":0,"content":"# 程序员拿不到好绩效真的是能力不够吗？\r\n\r\n最近很多互联网公司的绩效和年终奖结果都出来了，跟一些朋友聊了一下，有的确实绩效不错，年终奖比其他人多一些，有的人绩效就差一些，确实也有点愤愤不平\r\n\r\n讲真的，我也特别能理解别人为什么会因为绩效影响到心情，你想想，如果你平时工作兢兢业业，该做的事情一个都没少做，该加的班一天都没少加，最后拿到的绩效和别人一样，都是个 B ，那你多少都会有点不爽对吧？你会想这是不是自己能力不行啊，为啥别人都能拿到 A 但是自己却拿不到呢？\r\n\r\n于是你在反思中逐渐痛苦，在纠结中逐渐迷失，最终会非常影响你的状态\r\n\r\n但其实我觉得，没拿到好绩效并不能和你能力不够直接划等号，因为绩效这个东西是受到多方因素影响的\r\n\r\n首先，你要知道绩效是个管理工具，它并不是我们上学时候的考试分数，考试分数那真的是你自己考出来的，大家同一套试卷来考，每一分都是你自己答题的结果\r\n\r\n但是绩效这玩意，决定因素就多了，我给你举几个例子\r\n\r\n比如说 leader 的性格，如果你的 leader 是个比较求稳、追求中庸的人，那 ta 很有可能把 A 轮流着给，并不会让一个人长期拿 A ，即使你很优秀，也不会让你长期拿，因为 ta 要追求一个平衡，这种情况你怎么办呢，你完全没辙\r\n\r\n再比如说团队的组成结构，假如你们组有 10 个人，那么按照结构来说最多有两个 A ，如果组里有两个人在当前职级待的时间太长了，打算今年要去晋升，那么你的 leader 肯定会把 A 给到这两个人，那此时你的努力还会得到 A 吗？显而易见是不可能的，你只能和别人去分 B 绩效\r\n\r\n再再比如说，别人运气好，做的业务忽然间起来了，原地起飞了，再或者别人今年就是拼了命的加班，天天卷到晚上 11 点下班，leader 看在这么多体力劳动的份儿上，那这个 A 很可能也是给到这个卷王\r\n\r\n所以说，得好绩效的因素很多，很难把它和能力直接划等号\r\n\r\n那么我们应该以怎样的心态去面对绩效这个东西呢？\r\n\r\n我自己是这样做的，我会问我自己：我对我自己满意吗？回忆过去有没有哪些应该做但是没做好的事情？\r\n\r\n这个思考的过程是完全以自己为主体，而不是被公司的绩效牵着鼻子走，这样做的好处是你不会被公司 PUA 到而忽略了自己真正需要发展的能力。因为抛开公司的条条框框，我们自己都是独立的个体，我们的能力应该是面向社会去培养，有一天不在这家公司干了，去下家公司或者创业我们依然可以发挥能力\r\n\r\n所以总结一下就是，程序员拿不到好绩效并不是能力不够，决定绩效的因素有很多，我们真正应该在意的是自己对自己满意与否","content_rendered":"<h1>程序员拿不到好绩效真的是能力不够吗？</h1>\n<p>最近很多互联网公司的绩效和年终奖结果都出来了，跟一些朋友聊了一下，有的确实绩效不错，年终奖比其他人多一些，有的人绩效就差一些，确实也有点愤愤不平</p>\n<p>讲真的，我也特别能理解别人为什么会因为绩效影响到心情，你想想，如果你平时工作兢兢业业，该做的事情一个都没少做，该加的班一天都没少加，最后拿到的绩效和别人一样，都是个 B ，那你多少都会有点不爽对吧？你会想这是不是自己能力不行啊，为啥别人都能拿到 A 但是自己却拿不到呢？</p>\n<p>于是你在反思中逐渐痛苦，在纠结中逐渐迷失，最终会非常影响你的状态</p>\n<p>但其实我觉得，没拿到好绩效并不能和你能力不够直接划等号，因为绩效这个东西是受到多方因素影响的</p>\n<p>首先，你要知道绩效是个管理工具，它并不是我们上学时候的考试分数，考试分数那真的是你自己考出来的，大家同一套试卷来考，每一分都是你自己答题的结果</p>\n<p>但是绩效这玩意，决定因素就多了，我给你举几个例子</p>\n<p>比如说 leader 的性格，如果你的 leader 是个比较求稳、追求中庸的人，那 ta 很有可能把 A 轮流着给，并不会让一个人长期拿 A ，即使你很优秀，也不会让你长期拿，因为 ta 要追求一个平衡，这种情况你怎么办呢，你完全没辙</p>\n<p>再比如说团队的组成结构，假如你们组有 10 个人，那么按照结构来说最多有两个 A ，如果组里有两个人在当前职级待的时间太长了，打算今年要去晋升，那么你的 leader 肯定会把 A 给到这两个人，那此时你的努力还会得到 A 吗？显而易见是不可能的，你只能和别人去分 B 绩效</p>\n<p>再再比如说，别人运气好，做的业务忽然间起来了，原地起飞了，再或者别人今年就是拼了命的加班，天天卷到晚上 11 点下班，leader 看在这么多体力劳动的份儿上，那这个 A 很可能也是给到这个卷王</p>\n<p>所以说，得好绩效的因素很多，很难把它和能力直接划等号</p>\n<p>那么我们应该以怎样的心态去面对绩效这个东西呢？</p>\n<p>我自己是这样做的，我会问我自己：我对我自己满意吗？回忆过去有没有哪些应该做但是没做好的事情？</p>\n<p>这个思考的过程是完全以自己为主体，而不是被公司的绩效牵着鼻子走，这样做的好处是你不会被公司 PUA 到而忽略了自己真正需要发展的能力。因为抛开公司的条条框框，我们自己都是独立的个体，我们的能力应该是面向社会去培养，有一天不在这家公司干了，去下家公司或者创业我们依然可以发挥能力</p>\n<p>所以总结一下就是，程序员拿不到好绩效并不是能力不够，决定绩效的因素有很多，我们真正应该在意的是自己对自己满意与否</p>\n","last_modified":1712712043,"replies":36,"id":1031165},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1700771269","name":"programmer","avatar_normal":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1700771269","title":"程序员","url":"https://www.v2ex.com/go/programmer","topics":62238,"footer":"","header":"While code monkeys are not eating bananas, they're coding.","title_alternative":"Programmer","avatar_mini":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1700771269","stars":8920,"aliases":[],"root":false,"id":300,"parent_node_name":"computer"},"member":{"id":70908,"username":"Chigogo","url":"https://www.v2ex.com/u/Chigogo","website":"","twitter":"","psn":"","github":"","btc":"","location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/avatar/db9b/45c8/70908_mini.png?m=1408788473","avatar_normal":"https://cdn.v2ex.com/avatar/db9b/45c8/70908_normal.png?m=1408788473","avatar_large":"https://cdn.v2ex.com/avatar/db9b/45c8/70908_large.png?m=1408788473","created":1408002344,"last_modified":1408788473},"last_reply_by":"woodfizky","last_touched":1712715678,"title":"别要饭了，腾讯云服务器价格暴涨。","url":"https://www.v2ex.com/t/1031157","created":1712709822,"deleted":0,"content":"别要饭了，腾讯云服务器价格暴涨。\r\n\r\n几年前是真搞活动，我搞了台小鸡到 2031 年。现在你去瞅瞅价格。","content_rendered":"<p>别要饭了，腾讯云服务器价格暴涨。</p>\n<p>几年前是真搞活动，我搞了台小鸡到 2031 年。现在你去瞅瞅价格。</p>\n","last_modified":1712709855,"replies":28,"id":1031157},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/4ea0/6fbc/770_large.png?m=1695370146","name":"career","avatar_normal":"https://cdn.v2ex.com/navatar/4ea0/6fbc/770_normal.png?m=1695370146","title":"职场话题","url":"https://www.v2ex.com/go/career","topics":16663,"footer":"","header":"这里，我们聊聊那些工作中遇到的开心和不开心的事。","title_alternative":"Career","avatar_mini":"https://cdn.v2ex.com/navatar/4ea0/6fbc/770_mini.png?m=1695370146","stars":3077,"aliases":[],"root":false,"id":770,"parent_node_name":"work"},"member":{"id":130487,"username":"Luxin","url":"https://www.v2ex.com/u/Luxin","website":"","twitter":null,"psn":null,"github":null,"btc":null,"location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/gravatar/da92586b350c9c839928a5158c217d2c?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/da92586b350c9c839928a5158c217d2c?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/da92586b350c9c839928a5158c217d2c?s=73&d=retro","created":1438617358,"last_modified":1438617358},"last_reply_by":"Luxin","last_touched":1712683440,"title":"被毕业了，唉","url":"https://www.v2ex.com/t/1031171","created":1712712240,"deleted":0,"content":"人到 30 没有而立，迎来的只有失业。\r\n现在工作挺难找的，发现自己除了写代码什么也不知道去做什么工作？这里有转行的 v 友吗？你们都在做什么呢？","content_rendered":"<p>人到 30 没有而立，迎来的只有失业。\n现在工作挺难找的，发现自己除了写代码什么也不知道去做什么工作？这里有转行的 v 友吗？你们都在做什么呢？</p>\n","last_modified":1712712240,"replies":24,"id":1031171},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":217611,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340","stars":4138,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"id":683482,"username":"tangshuier","url":"https://www.v2ex.com/u/tangshuier","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/avatar/d2f3/4cdd/683482_mini.png?m=1712131584","avatar_normal":"https://cdn.v2ex.com/avatar/d2f3/4cdd/683482_normal.png?m=1712131584","avatar_large":"https://cdn.v2ex.com/avatar/d2f3/4cdd/683482_large.png?m=1712131584","avatar_xlarge":"https://cdn.v2ex.com/avatar/d2f3/4cdd/683482_xlarge.png?m=1712131584","avatar_xxlarge":"https://cdn.v2ex.com/avatar/d2f3/4cdd/683482_xlarge.png?m=1712131584","avatar_xxxlarge":"https://cdn.v2ex.com/avatar/d2f3/4cdd/683482_xlarge.png?m=1712131584","created":1712105513,"last_modified":1712131584},"last_reply_by":"joy33","last_touched":1712715656,"title":"v 友能否给文科研究生推荐一门进可攻退可守的编程语言","url":"https://www.v2ex.com/t/1031166","created":1712711946,"deleted":0,"content":"先用一句话概括我要问的问题：**文科研究生（***这是大前提，很多人拿理工科背景转码成功说事***）学习什么编程语言合适，进可以开发工具解决实际问题，退可以拿它找到工作（***仅限国内环境***）。**\r\n\r\n先说一下我选择编程语言的标准：一是**学习曲线是否陡峭**，二是**就业市场上不同语言所需岗位的多少（仅以 boss 直聘为例）**。在我个人认知里，似乎好找工作的编程语言很难学，容易学的编程语言很难找工作。\r\n\r\n起初我选择了 python 进行学习，因为语言难度不大，基础也容易，但是我拿着它找工作却没找到合适的工作（也许是这个语言很“胶水”，性能不如 c++，应用生态不如 java ；也许是我技术水平确实不够）；后来我选择了 c++，因为这个语言几乎无法替代，工作相对其他语言来说也好找（**这只是我的个人认知，如果有误请指正**），但是学习曲线很陡峭，很多抽象概念我很难理解。\r\n\r\n**我对编程语言以及就业前景的认知有很大问题**，而且我也很难从企业视角去了解一个企业主力开发语言，**我能了解到的很多信息几乎来自培训机构“制造”的大量充满焦虑甚至偏见的信息，可靠性很低。**希望大家能够帮我确定一个切实可行的方向，谢谢大家。\r\n\r\n---\r\n在这里也对于可能出现的一些观点做个统一回应：\r\n\r\n1. 关于考公考编：\r\n我在成为研究生之前考过公考过事业编，均告失败，这也是我成为研究生的原因\r\n\r\n2. 文科研究生为什么想“转码”，自己的优势在哪里：\r\n我提出这个问题的本意只是确定一门“进可攻退可守”的编程语言，结果发现回答问题的人大部分由于我所写的“大前提”把话题引向了“文科生不要轻易转码”。如果说自己转码的优势在哪里，我觉得即便代码写的再怎么好，功能实现再怎么完美，光“文科生”这个标签就已经是巨大劣势了吧😂\r\n\r\n3. “进”和“退”是不是搞反了，为什么要提出这种问题：\r\n我对编程语言以及就业前景的认知有很大问题，**提出这个问题也是为了给我的认知纠偏**。当然我也希望能给文科生想转码的群体纠偏（就目前来说我没那么大牌面）\r\n---\r\n\r\n同问题亦发布于 telegram ，非用于引流行为，仅供回答者参考：</br>\r\n[链接 1]( https://t.me/ShortcutsCN/21886)\r\n[链接 2]( https://t.me/zhi_fou/35)","content_rendered":"<p>先用一句话概括我要问的问题：<strong>文科研究生（</strong><em>这是大前提，很多人拿理工科背景转码成功说事</em><strong>）学习什么编程语言合适，进可以开发工具解决实际问题，退可以拿它找到工作（</strong><em>仅限国内环境</em><strong>）。</strong></p>\n<p>先说一下我选择编程语言的标准：一是<strong>学习曲线是否陡峭</strong>，二是<strong>就业市场上不同语言所需岗位的多少（仅以 boss 直聘为例）</strong>。在我个人认知里，似乎好找工作的编程语言很难学，容易学的编程语言很难找工作。</p>\n<p>起初我选择了 python 进行学习，因为语言难度不大，基础也容易，但是我拿着它找工作却没找到合适的工作（也许是这个语言很“胶水”，性能不如 c++，应用生态不如 java ；也许是我技术水平确实不够）；后来我选择了 c++，因为这个语言几乎无法替代，工作相对其他语言来说也好找（<strong>这只是我的个人认知，如果有误请指正</strong>），但是学习曲线很陡峭，很多抽象概念我很难理解。</p>\n<p><strong>我对编程语言以及就业前景的认知有很大问题</strong>，而且我也很难从企业视角去了解一个企业主力开发语言，<strong>我能了解到的很多信息几乎来自培训机构“制造”的大量充满焦虑甚至偏见的信息，可靠性很低。</strong>希望大家能够帮我确定一个切实可行的方向，谢谢大家。</p>\n<hr/>\n<p>在这里也对于可能出现的一些观点做个统一回应：</p>\n<ol>\n<li>\n<p>关于考公考编：\n我在成为研究生之前考过公考过事业编，均告失败，这也是我成为研究生的原因</p>\n</li>\n<li>\n<p>文科研究生为什么想“转码”，自己的优势在哪里：\n我提出这个问题的本意只是确定一门“进可攻退可守”的编程语言，结果发现回答问题的人大部分由于我所写的“大前提”把话题引向了“文科生不要轻易转码”。如果说自己转码的优势在哪里，我觉得即便代码写的再怎么好，功能实现再怎么完美，光“文科生”这个标签就已经是巨大劣势了吧😂</p>\n</li>\n<li>\n<p>“进”和“退”是不是搞反了，为什么要提出这种问题：\n我对编程语言以及就业前景的认知有很大问题，<strong>提出这个问题也是为了给我的认知纠偏</strong>。当然我也希望能给文科生想转码的群体纠偏（就目前来说我没那么大牌面）</p>\n</li>\n</ol>\n<hr/>\n<p>同问题亦发布于 telegram ，非用于引流行为，仅供回答者参考：<br/>\n<a href=\"https://t.me/ShortcutsCN/21886\" rel=\"nofollow\">链接 1</a>\n<a href=\"https://t.me/zhi_fou/35\" rel=\"nofollow\">链接 2</a></p>\n","last_modified":1712711946,"replies":24,"id":1031166},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/a3c6/5c29/108_large.png?m=1691642161","name":"bb","avatar_normal":"https://cdn.v2ex.com/navatar/a3c6/5c29/108_normal.png?m=1691642161","title":"宽带症候群","url":"https://www.v2ex.com/go/bb","topics":15170,"footer":"","header":"网速很重要。比快更快。","title_alternative":"Broadband Symptom Complex","avatar_mini":"https://cdn.v2ex.com/navatar/a3c6/5c29/108_mini.png?m=1691642161","stars":7295,"aliases":[],"root":false,"id":108,"parent_node_name":"geek"},"member":{"id":285186,"username":"felix0012","url":"https://www.v2ex.com/u/felix0012","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/gravatar/2077ff08a71f1cf3e85694a4b4ee0d8d?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/2077ff08a71f1cf3e85694a4b4ee0d8d?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/2077ff08a71f1cf3e85694a4b4ee0d8d?s=73&d=retro","created":1516580581,"last_modified":1712711279},"last_reply_by":"felix0012","last_touched":1712715695,"title":"请教大佬们一个局域网自定义 DNS 的问题","url":"https://www.v2ex.com/t/1031174","created":1712712678,"deleted":0,"content":"== 背景\r\n\r\n在家用玩客云刷了 armbian 搭了些服务，比如 Gitea 、Wordpress 、Homeassistant 这些。平时会用台式机、手机访问自己搭的服务。\r\n另外还有个电视盒子，也刷成 armbian 做一些小实验。\r\n\r\n用得久了，不想每次输入 ip 、端口号这些来访问 web ，就有了自己搭 DNS 的想法，把自己的服务都映射到自定义域名上，再用 nginx 做反向代理。\r\n自己有一台主路由，无线网络是 802.11AC ，配置不算高但刷了官方 openwrt 。就用 openwrt 的 DNS 服务实现宏域名到 IP 的映射，比如*.onecloud.lan 映射到 192.168.1.2 这样。\r\n\r\n== 版本 0.1\r\n\r\n主路由挂在光猫下面，其他节点挂在主路由下面。拓扑大概是这样\r\n\r\n\t---------\r\n\t|  光猫  |\r\n\t---------\r\n\t      |\r\n\t---------\r\n\t| 主路由 |\r\n\t---------\r\n\t  |  |  |\r\n\t  |  |  --------\r\n\t  |  ---       |\r\n\t  |    |       |\r\n\t节点 1  节点 2  节点 3 ...\r\n\r\n\r\n主路由通过 LAN 连结各节点，通过 WAN 口连接光猫，开启 DHCP 和 DNS 。\r\n这时候 DNS 按预期工作。一切都很好，唯一的问题是主路由要跟光猫一起放在弱电箱里（因为弱电箱是全家网线汇集点）\r\n\r\n== 版本 0.2\r\n\r\n为了发挥主路由的 5GHz 无线网功能，把主路由挪到一个房间里。现在主路由跟其他节点一起挂在光猫下面，光猫连结主路由的 LAN 口。拓扑如下\r\n\r\n\t -----------\r\n\t|   光猫    |\r\n\t -----------\r\n\t |  |  |  |\r\n\t |  |  |  ------------\r\n\t |  |  --------      |\r\n\t |  -----     |      |\r\n\t |      |     |      |\r\n\t主路由  节点 1  节点 2  节点 3 ...\r\n\r\n关闭光猫的 DHCP ，主路由开启 DHCP 和 DNS ，DHCP 中把网关指定为光猫地址，把 DNS 指定为自己。这时候本应正常工作的。\r\n但实际使用时，台式机访问本地域名上的服务，本地域名无法被主路由 DNS 解析。抓包调试半天发现，台式机存在两个 DNS：\r\n一个是主路由通过 DHCP 配置的主路由 IPv4 地址，\r\n另一个是光猫通过 IPv6 的 RA 分配的光猫 IPv6 地址.\r\n域名解析时默认询问了光猫，光猫自然不知道本地域名所以返回了错误结果。\r\n\r\n== 问题\r\n\r\n这时候如果禁用台式机的 ipv6 是可以解决本地域名解析的，但代价比较大。\r\n彻底解决需要禁止光猫在 ipv6 上的 DHCP 行为，但光猫配置界面比较简单，没有这项设置。\r\n\r\n这种情况下有没有办法设置主路由 openwrt 来强制覆盖光猫的 ipv6 设置呢？","content_rendered":"<p>== 背景</p>\n<p>在家用玩客云刷了 armbian 搭了些服务，比如 Gitea 、Wordpress 、Homeassistant 这些。平时会用台式机、手机访问自己搭的服务。\n另外还有个电视盒子，也刷成 armbian 做一些小实验。</p>\n<p>用得久了，不想每次输入 ip 、端口号这些来访问 web ，就有了自己搭 DNS 的想法，把自己的服务都映射到自定义域名上，再用 nginx 做反向代理。\n自己有一台主路由，无线网络是 802.11AC ，配置不算高但刷了官方 openwrt 。就用 openwrt 的 DNS 服务实现宏域名到 IP 的映射，比如*.onecloud.lan 映射到 192.168.1.2 这样。</p>\n<p>== 版本 0.1</p>\n<p>主路由挂在光猫下面，其他节点挂在主路由下面。拓扑大概是这样</p>\n<pre><code>---------\n|  光猫  |\n---------\n      |\n---------\n| 主路由 |\n---------\n  |  |  |\n  |  |  --------\n  |  ---       |\n  |    |       |\n节点 1  节点 2  节点 3 ...\n</code></pre>\n<p>主路由通过 LAN 连结各节点，通过 WAN 口连接光猫，开启 DHCP 和 DNS 。\n这时候 DNS 按预期工作。一切都很好，唯一的问题是主路由要跟光猫一起放在弱电箱里（因为弱电箱是全家网线汇集点）</p>\n<p>== 版本 0.2</p>\n<p>为了发挥主路由的 5GHz 无线网功能，把主路由挪到一个房间里。现在主路由跟其他节点一起挂在光猫下面，光猫连结主路由的 LAN 口。拓扑如下</p>\n<pre><code> -----------\n|   光猫    |\n -----------\n |  |  |  |\n |  |  |  ------------\n |  |  --------      |\n |  -----     |      |\n |      |     |      |\n主路由  节点 1  节点 2  节点 3 ...\n</code></pre>\n<p>关闭光猫的 DHCP ，主路由开启 DHCP 和 DNS ，DHCP 中把网关指定为光猫地址，把 DNS 指定为自己。这时候本应正常工作的。\n但实际使用时，台式机访问本地域名上的服务，本地域名无法被主路由 DNS 解析。抓包调试半天发现，台式机存在两个 DNS：\n一个是主路由通过 DHCP 配置的主路由 IPv4 地址，\n另一个是光猫通过 IPv6 的 RA 分配的光猫 IPv6 地址.\n域名解析时默认询问了光猫，光猫自然不知道本地域名所以返回了错误结果。</p>\n<p>== 问题</p>\n<p>这时候如果禁用台式机的 ipv6 是可以解决本地域名解析的，但代价比较大。\n彻底解决需要禁止光猫在 ipv6 上的 DHCP 行为，但光猫配置界面比较简单，没有这项设置。</p>\n<p>这种情况下有没有办法设置主路由 openwrt 来强制覆盖光猫的 ipv6 设置呢？</p>\n","last_modified":1712712820,"replies":20,"id":1031174},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/eaae/339c/653_large.png?m=1678403810","name":"vps","avatar_normal":"https://cdn.v2ex.com/navatar/eaae/339c/653_normal.png?m=1678403810","title":"VPS","url":"https://www.v2ex.com/go/vps","topics":7034,"footer":"","header":"关于 VPS 购买和使用的讨论。","title_alternative":"VPS","avatar_mini":"https://cdn.v2ex.com/navatar/eaae/339c/653_mini.png?m=1678403810","stars":3351,"aliases":[],"root":false,"id":653,"parent_node_name":"cloud"},"member":{"id":643740,"username":"HiterPang","url":"https://www.v2ex.com/u/HiterPang","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/avatar/5aaa/2351/643740_mini.png?m=1711621796","avatar_normal":"https://cdn.v2ex.com/avatar/5aaa/2351/643740_normal.png?m=1711621796","avatar_large":"https://cdn.v2ex.com/avatar/5aaa/2351/643740_large.png?m=1711621796","avatar_xlarge":"https://cdn.v2ex.com/avatar/5aaa/2351/643740_xlarge.png?m=1711621796","avatar_xxlarge":"https://cdn.v2ex.com/avatar/5aaa/2351/643740_xlarge.png?m=1711621796","created":1692087484,"last_modified":1711621796},"last_reply_by":"bigshawn","last_touched":1712714114,"title":"阿里云轻量 hk 自建节点协议推荐","url":"https://www.v2ex.com/t/1031160","created":1712710788,"deleted":0,"content":"整了一台阿里云轻量 hk ，24 一个月来玩玩。\n\n\n\n想用它来自建一个节点，看了一圈网上的信息得出的结论是，自己自用不干一些敏感的事情基本没人管你，所以决定搭一个。\n\n\n\n但由于自己是一个小白，对各种协议也不太了解，想问问现在什么协议适合我，不至于玩两天就被封了，感谢大家。","content_rendered":"整了一台阿里云轻量 hk ，24 一个月来玩玩。<br /><br /><br /><br />想用它来自建一个节点，看了一圈网上的信息得出的结论是，自己自用不干一些敏感的事情基本没人管你，所以决定搭一个。<br /><br /><br /><br />但由于自己是一个小白，对各种协议也不太了解，想问问现在什么协议适合我，不至于玩两天就被封了，感谢大家。","last_modified":1712710788,"replies":14,"id":1031160},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/fd2c/5e46/1135_large.png?m=1702140297","name":"openai","avatar_normal":"https://cdn.v2ex.com/navatar/fd2c/5e46/1135_normal.png?m=1702140297","title":"OpenAI","url":"https://www.v2ex.com/go/openai","topics":2413,"footer":"","header":"关于 OpenAI 旗下产品 GPT，DALL·E，和 ChatGPT 的讨论。请不要在 V2EX 的回复中粘贴复制来自 AI 生成的文本。","title_alternative":"OpenAI","avatar_mini":"https://cdn.v2ex.com/navatar/fd2c/5e46/1135_mini.png?m=1702140297","stars":2328,"aliases":[],"root":false,"id":1135,"parent_node_name":"geek"},"member":{"id":677292,"username":"gotong","url":"https://www.v2ex.com/u/gotong","website":"https://shop.speedvv.com","twitter":null,"psn":null,"github":null,"btc":null,"location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/avatar/4402/f9fb/677292_mini.png?m=1712710191","avatar_normal":"https://cdn.v2ex.com/avatar/4402/f9fb/677292_normal.png?m=1712710191","avatar_large":"https://cdn.v2ex.com/avatar/4402/f9fb/677292_large.png?m=1712710191","avatar_xlarge":"https://cdn.v2ex.com/avatar/4402/f9fb/677292_xlarge.png?m=1712710191","avatar_xxlarge":"https://cdn.v2ex.com/avatar/4402/f9fb/677292_xlarge.png?m=1712710191","avatar_xxxlarge":"https://cdn.v2ex.com/avatar/4402/f9fb/677292_xlarge.png?m=1712710191","created":1708733789,"last_modified":1712710191},"last_reply_by":"wxw752","last_touched":1712715163,"title":"关尼区 Apple Store 的 ChatGPT 只要 8 美元的购买方法","url":"https://www.v2ex.com/t/1031159","created":1712710756,"deleted":0,"content":"写了个苹果尼区的 ChatGPT 如何低价开通的方法，大家可以参考一下\r\n\r\n\r\n\r\n[飞书教程链接]( https://y32h9kgjf36.larksuite.com/wiki/W7rzwhK4biPclskrq7cue534sTq)","content_rendered":"<p>写了个苹果尼区的 ChatGPT 如何低价开通的方法，大家可以参考一下</p>\n<p><a href=\"https://y32h9kgjf36.larksuite.com/wiki/W7rzwhK4biPclskrq7cue534sTq\" rel=\"nofollow\">飞书教程链接</a></p>\n","last_modified":1712710756,"replies":14,"id":1031159},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c9e1/074f/104_large.png?m=1678761388","name":"cloud","avatar_normal":"https://cdn.v2ex.com/navatar/c9e1/074f/104_normal.png?m=1678761388","title":"云计算","url":"https://www.v2ex.com/go/cloud","topics":5271,"footer":"","header":"关于云计算技术和平台的综合讨论区。","title_alternative":"Cloud Computing","avatar_mini":"https://cdn.v2ex.com/navatar/c9e1/074f/104_mini.png?m=1678761388","stars":3139,"aliases":[],"root":false,"id":104,"parent_node_name":"webmaster"},"member":{"id":667826,"username":"axin2023","url":"https://www.v2ex.com/u/axin2023","website":"","twitter":null,"psn":null,"github":null,"btc":null,"location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/gravatar/17f49dff72c9d2cd95a905bbd08dc46e?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/17f49dff72c9d2cd95a905bbd08dc46e?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/17f49dff72c9d2cd95a905bbd08dc46e?s=73&d=retro","created":1703055400,"last_modified":1712482562},"last_reply_by":"dongisking","last_touched":1712716253,"title":"一人说一个 it 运维的面试题，顺便测试下自己的水平~~","url":"https://www.v2ex.com/t/1031191","created":1712714752,"deleted":0,"content":"","content_rendered":"","last_modified":1712715028,"replies":13,"id":1031191},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/9a11/5815/52_large.png?m=1630576655","name":"hardware","avatar_normal":"https://cdn.v2ex.com/navatar/9a11/5815/52_normal.png?m=1630576655","title":"硬件","url":"https://www.v2ex.com/go/hardware","topics":5608,"footer":"","header":"硬件发烧友的讨论节点","title_alternative":"Hardware","avatar_mini":"https://cdn.v2ex.com/navatar/9a11/5815/52_mini.png?m=1630576655","stars":2400,"aliases":[],"root":false,"id":52,"parent_node_name":"computer"},"member":{"id":92431,"username":"igfw","url":"https://www.v2ex.com/u/igfw","website":"","twitter":"","psn":"","github":"","btc":"","location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/gravatar/cca23e4b7c8b6905b632b9675baa9502?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/cca23e4b7c8b6905b632b9675baa9502?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/cca23e4b7c8b6905b632b9675baa9502?s=73&d=retro","created":1421576995,"last_modified":1421576995},"last_reply_by":"lgb1","last_touched":1712715534,"title":"硬盘坏道检测疑问","url":"https://www.v2ex.com/t/1031155","created":1712708460,"deleted":0,"content":"新买了一块二手 1T 硬盘，到手后直接使用 DiskGenius 扫盘，提示检测到 3 个坏道。\r\n\r\n然后咨询卖家，告知分区后重新扫盘（我分了一个盘符 F 盘，同时 Windows 磁盘管理里面还有 110M 的未分配空间），然后扫盘提示没有坏道了。\r\n\r\n之后我把这 110M 未分配空间合并给 F 盘，重新扫盘还是有 3 个坏道。\r\n\r\n请教专业大佬，为啥分区前后扫盘结果为啥不一样呢？这块盘是否有必要换货？\r\n\r\nhttps://s2.loli.net/2024/04/10/NZjKmLuaD8YPJl4.png","content_rendered":"新买了一块二手 1T 硬盘，到手后直接使用 DiskGenius 扫盘，提示检测到 3 个坏道。<br /><br />然后咨询卖家，告知分区后重新扫盘（我分了一个盘符 F 盘，同时 Windows 磁盘管理里面还有 110M 的未分配空间），然后扫盘提示没有坏道了。<br /><br />之后我把这 110M 未分配空间合并给 F 盘，重新扫盘还是有 3 个坏道。<br /><br />请教专业大佬，为啥分区前后扫盘结果为啥不一样呢？这块盘是否有必要换货？<br /><br /><a target=\"_blank\" href=\"https://s2.loli.net/2024/04/10/NZjKmLuaD8YPJl4.png\" rel=\"nofollow noopener\">https://s2.loli.net/2024/04/10/NZjKmLuaD8YPJl4.png</a>","last_modified":1712710984,"replies":11,"id":1031155},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/17e6/2166/43_large.png?m=1695370136","name":"jobs","avatar_normal":"https://cdn.v2ex.com/navatar/17e6/2166/43_normal.png?m=1695370136","title":"酷工作","url":"https://www.v2ex.com/go/jobs","topics":56756,"footer":"","header":"做有趣的有意义的事情。","title_alternative":"Jobs","avatar_mini":"https://cdn.v2ex.com/navatar/17e6/2166/43_mini.png?m=1695370136","stars":5978,"aliases":[],"root":false,"id":43,"parent_node_name":"work"},"member":{"id":404969,"username":"chouyee","url":"https://www.v2ex.com/u/chouyee","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/avatar/0e3e/e432/404969_mini.png?m=1614669600","avatar_normal":"https://cdn.v2ex.com/avatar/0e3e/e432/404969_normal.png?m=1614669600","avatar_large":"https://cdn.v2ex.com/avatar/0e3e/e432/404969_large.png?m=1614669600","created":1555997376,"last_modified":1614669600},"last_reply_by":"chouyee","last_touched":1712714988,"title":"长沙岳麓区招个初中级 Java ， 8-12k，双休，五险一金","url":"https://www.v2ex.com/t/1031187","created":1712714290,"deleted":0,"content":"创业公司，小团队，医疗方向，稳定运行 2 年多了，已经开始盈利了。\r\n简历发送 Y2hvdXllZTlAZ21haWwuY29t","content_rendered":"创业公司，小团队，医疗方向，稳定运行 2 年多了，已经开始盈利了。<br />简历发送 Y2hvdXllZTlAZ21haWwuY29t","last_modified":1712714290,"replies":6,"id":1031187},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":217611,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340","stars":4138,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"id":669524,"username":"Hex0x01","url":"https://www.v2ex.com/u/Hex0x01","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/gravatar/665003cb49a3c0f51cae9fc17537ece3?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/665003cb49a3c0f51cae9fc17537ece3?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/665003cb49a3c0f51cae9fc17537ece3?s=73&d=retro","created":1704251907,"last_modified":1712713316},"last_reply_by":"Xer0130","last_touched":1712715751,"title":"有什么男士复合维生素推荐吗？","url":"https://www.v2ex.com/t/1031178","created":1712713379,"deleted":0,"content":"最好不含有钙","content_rendered":"最好不含有钙","last_modified":1712713379,"replies":6,"id":1031178},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":217611,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340","stars":4138,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"id":224182,"username":"zchyit","url":"https://www.v2ex.com/u/zchyit","website":"","twitter":"","psn":"","github":"","btc":"","location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/gravatar/b6d003763ba188a7e8d6dfac09769640?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/b6d003763ba188a7e8d6dfac09769640?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/b6d003763ba188a7e8d6dfac09769640?s=73&d=retro","created":1491133739,"last_modified":1695087836},"last_reply_by":"x86","last_touched":1712715458,"title":"家里两条宽带，该怎么利用最大化","url":"https://www.v2ex.com/t/1031176","created":1712713304,"deleted":0,"content":"电信 1000M 无公网 V4 地址\r\n联通 100M\t有公网 V4 地址\r\n\r\n小米 AX3600 路由器一台\r\n双千兆网口 NAS 一台\r\n\r\n目前路由器通过电信拨号，供家中联网设备使用；\r\nNAS 网口一连路由器，供内网访问。网口二通过联通拨号，绑定 DDNS ，支持互联网访问 NAS 资源。","content_rendered":"电信 1000M 无公网 V4 地址<br />联通 100M\t有公网 V4 地址<br /><br />小米 AX3600 路由器一台<br />双千兆网口 NAS 一台<br /><br />目前路由器通过电信拨号，供家中联网设备使用；<br />NAS 网口一连路由器，供内网访问。网口二通过联通拨号，绑定 DDNS ，支持互联网访问 NAS 资源。","last_modified":1712713304,"replies":6,"id":1031176}]