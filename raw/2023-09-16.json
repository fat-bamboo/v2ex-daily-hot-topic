[{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/1f0e/3dad/19_large.png?m=1650127314","name":"beijing","avatar_normal":"https://cdn.v2ex.com/navatar/1f0e/3dad/19_normal.png?m=1650127314","title":"北京","url":"https://www.v2ex.com/go/beijing","topics":3837,"footer":"","header":"","title_alternative":"Beijing","avatar_mini":"https://cdn.v2ex.com/navatar/1f0e/3dad/19_mini.png?m=1650127314","stars":2168,"aliases":[],"root":false,"id":19,"parent_node_name":"cn"},"member":{"id":624558,"username":"nbafive","url":"https://www.v2ex.com/u/nbafive","website":"","twitter":null,"psn":null,"github":null,"btc":null,"location":"","tagline":"","bio":"天地如此广阔…","avatar_mini":"https://cdn.v2ex.com/avatar/701e/03b0/624558_mini.png?m=1694054001","avatar_normal":"https://cdn.v2ex.com/avatar/701e/03b0/624558_normal.png?m=1694054001","avatar_large":"https://cdn.v2ex.com/avatar/701e/03b0/624558_large.png?m=1694054001","avatar_xlarge":"https://cdn.v2ex.com/avatar/701e/03b0/624558_xlarge.png?m=1694054001","avatar_xxlarge":"https://cdn.v2ex.com/avatar/701e/03b0/624558_xlarge.png?m=1694054001","avatar_xxxlarge":"https://cdn.v2ex.com/avatar/701e/03b0/624558_xlarge.png?m=1694054001","created":1681725180,"last_modified":1694054001},"last_reply_by":"wangxiaoaer","last_touched":1694836097,"title":"驾考还在北京没考完! 快要过期了 又是纠结","url":"https://www.v2ex.com/t/974351","created":1694833310,"deleted":0,"content":"去年专门回去过一次 考科三 结果还是没过!又回来了…花费不少…现在真纠结 正是找工作的时候 又跑北京去 交通住宿吃饭又要不少! 还有一年就过期了!\r\n\r\n去年想过在北京找工作 考完了再回来 但是找了一下没找到 也不适应北京 就回来了…在东方时尚驾校报的 手动挡很难 第一次科三没过，补考改了自动挡 但是没开出去就挂了!","content_rendered":"<p>去年专门回去过一次 考科三 结果还是没过!又回来了…花费不少…现在真纠结 正是找工作的时候 又跑北京去 交通住宿吃饭又要不少! 还有一年就过期了!</p>\n<p>去年想过在北京找工作 考完了再回来 但是找了一下没找到 也不适应北京 就回来了…在东方时尚驾校报的 手动挡很难 第一次科三没过，补考改了自动挡 但是没开出去就挂了!</p>\n","last_modified":1694833310,"replies":14,"id":974351},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/6c34/0f25/1063_large.png?m=1645243654","name":"cpp","avatar_normal":"https://cdn.v2ex.com/navatar/6c34/0f25/1063_normal.png?m=1645243654","title":"C++","url":"https://www.v2ex.com/go/cpp","topics":475,"footer":"","header":"关于编程语言 C++ 的使用讨论","title_alternative":"C++","avatar_mini":"https://cdn.v2ex.com/navatar/6c34/0f25/1063_mini.png?m=1645243654","stars":755,"aliases":[],"root":false,"id":1063,"parent_node_name":"programming"},"member":{"id":513007,"username":"zzzkkk","url":"https://www.v2ex.com/u/zzzkkk","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/gravatar/6e3e74eddd50888ba6210566f0669c97?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/6e3e74eddd50888ba6210566f0669c97?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/6e3e74eddd50888ba6210566f0669c97?s=73&d=retro","created":1602768889,"last_modified":1640941121},"last_reply_by":"zzzkkk","last_touched":1694835041,"title":"fsantinize 弱智","url":"https://www.v2ex.com/t/974343","created":1694831749,"deleted":0,"content":"fsantinize 还没智能到那种程度 简直给码农添加负担\r\n给一个静态字符数组前面添加几个空格都会报错\r\n\r\n请看\r\n\r\n图 1\r\n\r\n![图 1]( https://i.imgur.com/YO3GiJP.png)\r\n\r\n图 2\r\n\r\n![图 2]( https://i.imgur.com/9kdUZ0F.png)\r\n\r\n图 3\r\n\r\n![图 3]( https://i.imgur.com/y9qhsYQ.png)\r\n\r\n编译时报图 3 的错误 运行就报\r\n==1856626==ERROR: AddressSanitizer: stack-buffer-overflow on address 0x7fff15ef59e9 at pc 0x55d429175340 bp 0x7fff15ef5940 sp 0x7fff15ef5938","content_rendered":"<p>fsantinize 还没智能到那种程度 简直给码农添加负担\n给一个静态字符数组前面添加几个空格都会报错</p>\n<p>请看</p>\n<p>图 1</p>\n<p><img alt=\"图 1\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://i.imgur.com/YO3GiJP.png\"/></p>\n<p>图 2</p>\n<p><img alt=\"图 2\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://i.imgur.com/9kdUZ0F.png\"/></p>\n<p>图 3</p>\n<p><img alt=\"图 3\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://i.imgur.com/y9qhsYQ.png\"/></p>\n<p>编译时报图 3 的错误 运行就报\n==1856626==ERROR: AddressSanitizer: stack-buffer-overflow on address 0x7fff15ef59e9 at pc 0x55d429175340 bp 0x7fff15ef5940 sp 0x7fff15ef5938</p>\n","last_modified":1694831787,"replies":14,"id":974343},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/4ea0/6fbc/770_large.png?m=1685063629","name":"career","avatar_normal":"https://cdn.v2ex.com/navatar/4ea0/6fbc/770_normal.png?m=1685063629","title":"职场话题","url":"https://www.v2ex.com/go/career","topics":14805,"footer":"","header":"这里，我们聊聊那些工作中遇到的开心和不开心的事。","title_alternative":"Career","avatar_mini":"https://cdn.v2ex.com/navatar/4ea0/6fbc/770_mini.png?m=1685063629","stars":2789,"aliases":[],"root":false,"id":770,"parent_node_name":"work"},"member":{"id":276277,"username":"chniccs","url":"https://www.v2ex.com/u/chniccs","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/gravatar/62031a8745e8929e0be3dd99908a97cf?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/62031a8745e8929e0be3dd99908a97cf?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/62031a8745e8929e0be3dd99908a97cf?s=73&d=retro","created":1513927680,"last_modified":1679361889},"last_reply_by":"id80108900","last_touched":1694834570,"title":"我感觉自己是个躺平的人，所以我佩服很多人","url":"https://www.v2ex.com/t/974340","created":1694830908,"deleted":0,"content":"日常上班就是，能推的工作，我会全力推掉，不能推的工作也会找各种理由来让别人去做，自己就安心划水。虽然过的不充实，钱也不会再多了，但是确实蛮舒服的。不知道我现在这种状态是什么时候开始的，记得当初刚刚毕业工作时，也是很努力上进的，会主动学习，也会努力去改进项目代码。现在就是啥都凑合用就行了，哈哈。\r\n\r\n但最近华为 mate60 出来，虽然我用的小米，但是真的有被触动。这几年我以为华为在手机领域可能已经 G 了，毕竟在我的认知里这被制裁的太狠了，无路可走了已经。想不到背后还一直有人在迎难而上，真的蛮佩服的。","content_rendered":"<p>日常上班就是，能推的工作，我会全力推掉，不能推的工作也会找各种理由来让别人去做，自己就安心划水。虽然过的不充实，钱也不会再多了，但是确实蛮舒服的。不知道我现在这种状态是什么时候开始的，记得当初刚刚毕业工作时，也是很努力上进的，会主动学习，也会努力去改进项目代码。现在就是啥都凑合用就行了，哈哈。</p>\n<p>但最近华为 mate60 出来，虽然我用的小米，但是真的有被触动。这几年我以为华为在手机领域可能已经 G 了，毕竟在我的认知里这被制裁的太狠了，无路可走了已经。想不到背后还一直有人在迎难而上，真的蛮佩服的。</p>\n","last_modified":1694830908,"replies":13,"id":974340},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":210934,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340","stars":3945,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"id":537011,"username":"wxlwsy","url":"https://www.v2ex.com/u/wxlwsy","website":"","twitter":null,"psn":null,"github":null,"btc":null,"location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/gravatar/59144d2f0212cf38addf4f885a9b10ec?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/59144d2f0212cf38addf4f885a9b10ec?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/59144d2f0212cf38addf4f885a9b10ec?s=73&d=retro","created":1615385293,"last_modified":1679128306},"last_reply_by":"kokutou","last_touched":1694835397,"title":"2023 有没有便宜的能 root 的 android 开发机?","url":"https://www.v2ex.com/t/974333","created":1694829554,"deleted":0,"content":"不在乎电池,屏幕,摄像头. 要能 root.能跑游戏.","content_rendered":"不在乎电池,屏幕,摄像头. 要能 root.能跑游戏.","last_modified":1694829554,"replies":12,"id":974333},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/4ea0/6fbc/770_large.png?m=1685063629","name":"career","avatar_normal":"https://cdn.v2ex.com/navatar/4ea0/6fbc/770_normal.png?m=1685063629","title":"职场话题","url":"https://www.v2ex.com/go/career","topics":14805,"footer":"","header":"这里，我们聊聊那些工作中遇到的开心和不开心的事。","title_alternative":"Career","avatar_mini":"https://cdn.v2ex.com/navatar/4ea0/6fbc/770_mini.png?m=1685063629","stars":2789,"aliases":[],"root":false,"id":770,"parent_node_name":"work"},"member":{"id":587796,"username":"gfswoquasfasd","url":"https://www.v2ex.com/u/gfswoquasfasd","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/gravatar/8356c738565aba3921fa5095b78cbc70?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/8356c738565aba3921fa5095b78cbc70?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/8356c738565aba3921fa5095b78cbc70?s=73&d=retro","created":1657692044,"last_modified":1657692044},"last_reply_by":"morningtzh","last_touched":1694835442,"title":"关于周六加班","url":"https://www.v2ex.com/t/974345","created":1694831984,"deleted":0,"content":"公司周六加班给一天的薪资，而且不强制加班，就是你想来加班的话就来。。。这是什么水平","content_rendered":"<p>公司周六加班给一天的薪资，而且不强制加班，就是你想来加班的话就来。。。这是什么水平</p>\n","last_modified":1694834290,"replies":11,"id":974345},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/4ea0/6fbc/770_large.png?m=1685063629","name":"career","avatar_normal":"https://cdn.v2ex.com/navatar/4ea0/6fbc/770_normal.png?m=1685063629","title":"职场话题","url":"https://www.v2ex.com/go/career","topics":14805,"footer":"","header":"这里，我们聊聊那些工作中遇到的开心和不开心的事。","title_alternative":"Career","avatar_mini":"https://cdn.v2ex.com/navatar/4ea0/6fbc/770_mini.png?m=1685063629","stars":2789,"aliases":[],"root":false,"id":770,"parent_node_name":"work"},"member":{"id":346526,"username":"Hustlercyy","url":"https://www.v2ex.com/u/Hustlercyy","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/gravatar/16eca3b7e11fce9a66c97fa1c3c98e6d?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/16eca3b7e11fce9a66c97fa1c3c98e6d?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/16eca3b7e11fce9a66c97fa1c3c98e6d?s=73&d=retro","created":1535891904,"last_modified":1535891904},"last_reply_by":"guji","last_touched":1694835737,"title":"请问下大家是继续留在北京还是回杭州","url":"https://www.v2ex.com/t/974342","created":1694831443,"deleted":0,"content":"感谢大家能够帮忙提提意见呀","content_rendered":"<p>感谢大家能够帮忙提提意见呀</p>\n","last_modified":1694834532,"replies":10,"id":974342},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/eaae/339c/653_large.png?m=1678403810","name":"vps","avatar_normal":"https://cdn.v2ex.com/navatar/eaae/339c/653_normal.png?m=1678403810","title":"VPS","url":"https://www.v2ex.com/go/vps","topics":6693,"footer":"","header":"关于 VPS 购买和使用的讨论。","title_alternative":"VPS","avatar_mini":"https://cdn.v2ex.com/navatar/eaae/339c/653_mini.png?m=1678403810","stars":3161,"aliases":[],"root":false,"id":653,"parent_node_name":"cloud"},"member":{"id":638712,"username":"hokman","url":"https://www.v2ex.com/u/hokman","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/gravatar/7950a122b67b0ec78e58028dd529c36f?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/7950a122b67b0ec78e58028dd529c36f?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/7950a122b67b0ec78e58028dd529c36f?s=73&d=retro","created":1689394714,"last_modified":1694751633},"last_reply_by":"hellodigua","last_touched":1694836533,"title":"为啥腾讯云阿里云的带宽都这么小的？","url":"https://www.v2ex.com/t/974332","created":1694828974,"deleted":0,"content":"似乎峰值带宽都只有几十 M?国外 G 口不都标配了么？","content_rendered":"<p>似乎峰值带宽都只有几十 M?国外 G 口不都标配了么？</p>\n","last_modified":1694828974,"replies":9,"id":974332},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1692078075","name":"programmer","avatar_normal":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1692078075","title":"程序员","url":"https://www.v2ex.com/go/programmer","topics":58905,"footer":"","header":"While code monkeys are not eating bananas, they're coding.","title_alternative":"Programmer","avatar_mini":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1692078075","stars":8589,"aliases":[],"root":false,"id":300,"parent_node_name":"computer"},"member":{"id":254353,"username":"FaiChou","url":"https://www.v2ex.com/u/FaiChou","website":"https://faichou.com","twitter":"FaiChou_zh","psn":"","github":"FaiChou","btc":"","location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/avatar/e7d0/b1a7/254353_mini.png?m=1684739460","avatar_normal":"https://cdn.v2ex.com/avatar/e7d0/b1a7/254353_normal.png?m=1684739460","avatar_large":"https://cdn.v2ex.com/avatar/e7d0/b1a7/254353_large.png?m=1684739460","avatar_xlarge":"https://cdn.v2ex.com/avatar/e7d0/b1a7/254353_xlarge.png?m=1684739460","avatar_xxlarge":"https://cdn.v2ex.com/avatar/e7d0/b1a7/254353_xlarge.png?m=1684739460","avatar_xxxlarge":"https://cdn.v2ex.com/avatar/e7d0/b1a7/254353_xlarge.png?m=1684739460","created":1505371596,"last_modified":1684739460},"last_reply_by":"FaiChou","last_touched":1694835841,"title":"198.18.0.2 是什么？","url":"https://www.v2ex.com/t/974350","created":1694833286,"deleted":0,"content":"某些软件可以建立虚拟网络接口，在 macOS 上执行 `ifconfig` 可以看到 `utun10`，其 ip 地址是 `198.18.0.1`，Wi-Fi 的 dns 设置也被更改成 `198.18.0.2`.\r\n\r\n但是 `198.18.0.2` 是什么？它并不是本机某网口的地址。\r\n\r\n越研究发现越神奇。\r\n\r\n首先使用 `route -n get 198.18.0.2` 结果如下:\r\n\r\n```\r\n   route to: 198.18.0.2\r\ndestination: 198.18.0.2\r\n    gateway: 198.18.0.1\r\n  interface: utun10\r\n```\r\n\r\n但是只要不是 198.18.0.1 和 198.18.0.2 (有时候 0.3 也可能是）则结果如下:\r\n\r\n```\r\n   route to: 198.18.0.4\r\ndestination: 128.0.0.0\r\n       mask: 128.0.0.0\r\n    gateway: 198.18.0.1\r\n  interface: utun10\r\n\r\n   route to: 198.18.1.2\r\ndestination: 128.0.0.0\r\n       mask: 128.0.0.0\r\n    gateway: 198.18.0.1\r\n  interface: utun10\r\n```\r\n\r\n看到这个 destination 应该是 CIDR `128.0.0.0/1` 起作用了。\r\n\r\n查看路由表:\r\n\r\n```\r\n~ netstat -rn\r\nRouting tables\r\n\r\nInternet:\r\nDestination        Gateway            Flags           Netif Expire\r\ndefault            192.168.31.1       UGScg             en1\r\ndefault            link#28            UCSIg           utun3\r\n1                  198.18.0.1         UGSc           utun10\r\n2/7                198.18.0.1         UGSc           utun10\r\n4/6                198.18.0.1         UGSc           utun10\r\n8/5                198.18.0.1         UGSc           utun10\r\n16/4               198.18.0.1         UGSc           utun10\r\n32/3               198.18.0.1         UGSc           utun10\r\n64/2               198.18.0.1         UGSc           utun10\r\n100.64/10          link#28            UCS             utun3\r\n100.100.100.100/32 link#28            UCS             utun3\r\n100.124.11.45      100.124.11.45      UH              utun3\r\n127                127.0.0.1          UCS               lo0\r\n127.0.0.1          127.0.0.1          UH                lo0\r\n128.0/1            198.18.0.1         UGSc           utun10\r\n169.254            link#13            UCS               en1      !\r\n169.254.12.71      50:ed:3c:3:2:c     UHLSW             en1      !\r\n169.254.35.85      60:dd:8e:69:5c:d0  UHLSW             en1      !\r\n192.168.31         link#13            UCS               en1      !\r\n192.168.31.1/32    link#13            UCS               en1      !\r\n192.168.31.1       88:c3:97:c8:2:b6   UHLWIir           en1   1169\r\n192.168.31.24      4:cf:8c:29:a4:97   UHLWI             en1   1157\r\n192.168.31.59      c:7a:15:c1:ad:cc   UHLWI             en1      !\r\n192.168.31.73      6:6e:f7:98:f3:4b   UHLWI             en1    349\r\n192.168.31.80      84:c5:a6:9e:4:3    UHLWI             en1    601\r\n192.168.31.129     86:11:14:df:18:ce  UHLWI             en1    555\r\n192.168.31.144     56:f9:cf:1e:97:7d  UHLWI             en1     95\r\n192.168.31.166/32  link#13            UCS               en1      !\r\n192.168.31.189     66:17:81:34:32:5c  UHLWI             en1   1112\r\n192.168.31.199     60:dd:8e:69:5c:d0  UHLWIi            en1   1160\r\n192.168.31.213     50:ed:3c:3:2:c     UHLWIi            en1   1189\r\n192.168.31.214     2:69:d6:3d:12:3d   UHLWI             en1   1179\r\n192.168.31.222     f8:d0:27:54:e4:84  UHLWI             en1   1200\r\n192.168.31.255     ff:ff:ff:ff:ff:ff  UHLWbI            en1      !\r\n198.18.0.1         198.18.0.1         UH             utun10\r\n224.0.0/4          link#13            UmCS              en1      !\r\n224.0.0/4          link#28            UmCSI           utun3\r\n224.0.0.251        1:0:5e:0:0:fb      UHmLWI            en1\r\n239.255.255.250    1:0:5e:7f:ff:fa    UHmLWI            en1\r\n255.255.255.255/32 link#13            UCS               en1      !\r\n255.255.255.255/32 link#28            UCSI            utun3\r\n```\r\n\r\n里面关于 utun10 的几条解释:\r\n\r\n```\r\n2/7 地址范围: 2.0.0.0 到 2.255.255.255\r\n4/6 地址范围: 4.0.0.0 到 7.255.255.255\r\n8/5 地址范围: 8.0.0.0 到 15.255.255.255\r\n16/4 地址范围: 16.0.0.0 到 31.255.255.255\r\n32/3 地址范围: 32.0.0.0 到 63.255.255.255\r\n64/2 地址范围: 64.0.0.0 到 127.255.255.255\r\n128.0/1 地址范围: 128.0.0.0 到 255.255.255.255\r\n198.18.0.1  就表示它自己\r\n```\r\n\r\n所以除了 198.18.0.1 之外其余的都应该解析成 128.0.0.1 才对啊。那 198.18.0.2 为啥也解析成自己了呢？\r\n\r\n\r\n我的理解: 跑的服务程序可以监听本地网口, 每个网口有对应的 ip 地址，如果监听 0.0.0.0 则表示所有网口，如果监听 127.0.0.1 则表示监听 lo0 ，如果监听 192.168.31.166 （我电脑 en0 地址）则表示监听 en0 网口，任何发送到这个网口的数据（当然要指定好端口号）都会被转发到这个服务程序。\r\n\r\n但查看 ifconfig 则看不到 198.18.0.2 是属于哪一个接口的，而它是 utun10(198.18.0.1)的一个子网 ip 。当开启虚拟网口后（软件的增强模式透明模式） dns 被改成 198.18.0.2 是为什么？使用 dig 程序测试也是没问题的:\r\n\r\n```\r\n~ dig @198.18.0.2 -p 53 baidu.com\r\n~ dig @198.18.0.2 -p 53 google.com\r\n~ dig @198.18.0.2 -p 53 fb.com\r\n```\r\n\r\n结果都是 fakeip 。\r\n\r\n所以，我哪里理解错了吗？为什么会有 198.18.0.2 ？","content_rendered":"<p>某些软件可以建立虚拟网络接口，在 macOS 上执行 <code>ifconfig</code> 可以看到 <code>utun10</code>，其 ip 地址是 <code>198.18.0.1</code>，Wi-Fi 的 dns 设置也被更改成 <code>198.18.0.2</code>.</p>\n<p>但是 <code>198.18.0.2</code> 是什么？它并不是本机某网口的地址。</p>\n<p>越研究发现越神奇。</p>\n<p>首先使用 <code>route -n get 198.18.0.2</code> 结果如下:</p>\n<pre><code>   route to: 198.18.0.2\ndestination: 198.18.0.2\n    gateway: 198.18.0.1\n  interface: utun10\n</code></pre>\n<p>但是只要不是 198.18.0.1 和 198.18.0.2 (有时候 0.3 也可能是）则结果如下:</p>\n<pre><code>   route to: 198.18.0.4\ndestination: 128.0.0.0\n       mask: 128.0.0.0\n    gateway: 198.18.0.1\n  interface: utun10\n\n   route to: 198.18.1.2\ndestination: 128.0.0.0\n       mask: 128.0.0.0\n    gateway: 198.18.0.1\n  interface: utun10\n</code></pre>\n<p>看到这个 destination 应该是 CIDR <code>128.0.0.0/1</code> 起作用了。</p>\n<p>查看路由表:</p>\n<pre><code>~ netstat -rn\nRouting tables\n\nInternet:\nDestination        Gateway            Flags           Netif Expire\ndefault            192.168.31.1       UGScg             en1\ndefault            link#28            UCSIg           utun3\n1                  198.18.0.1         UGSc           utun10\n2/7                198.18.0.1         UGSc           utun10\n4/6                198.18.0.1         UGSc           utun10\n8/5                198.18.0.1         UGSc           utun10\n16/4               198.18.0.1         UGSc           utun10\n32/3               198.18.0.1         UGSc           utun10\n64/2               198.18.0.1         UGSc           utun10\n100.64/10          link#28            UCS             utun3\n100.100.100.100/32 link#28            UCS             utun3\n100.124.11.45      100.124.11.45      UH              utun3\n127                127.0.0.1          UCS               lo0\n127.0.0.1          127.0.0.1          UH                lo0\n128.0/1            198.18.0.1         UGSc           utun10\n169.254            link#13            UCS               en1      !\n169.254.12.71      50:ed:3c:3:2:c     UHLSW             en1      !\n169.254.35.85      60:dd:8e:69:5c:d0  UHLSW             en1      !\n192.168.31         link#13            UCS               en1      !\n192.168.31.1/32    link#13            UCS               en1      !\n192.168.31.1       88:c3:97:c8:2:b6   UHLWIir           en1   1169\n192.168.31.24      4:cf:8c:29:a4:97   UHLWI             en1   1157\n192.168.31.59      c:7a:15:c1:ad:cc   UHLWI             en1      !\n192.168.31.73      6:6e:f7:98:f3:4b   UHLWI             en1    349\n192.168.31.80      84:c5:a6:9e:4:3    UHLWI             en1    601\n192.168.31.129     86:11:14:df:18:ce  UHLWI             en1    555\n192.168.31.144     56:f9:cf:1e:97:7d  UHLWI             en1     95\n192.168.31.166/32  link#13            UCS               en1      !\n192.168.31.189     66:17:81:34:32:5c  UHLWI             en1   1112\n192.168.31.199     60:dd:8e:69:5c:d0  UHLWIi            en1   1160\n192.168.31.213     50:ed:3c:3:2:c     UHLWIi            en1   1189\n192.168.31.214     2:69:d6:3d:12:3d   UHLWI             en1   1179\n192.168.31.222     f8:d0:27:54:e4:84  UHLWI             en1   1200\n192.168.31.255     ff:ff:ff:ff:ff:ff  UHLWbI            en1      !\n198.18.0.1         198.18.0.1         UH             utun10\n224.0.0/4          link#13            UmCS              en1      !\n224.0.0/4          link#28            UmCSI           utun3\n224.0.0.251        1:0:5e:0:0:fb      UHmLWI            en1\n239.255.255.250    1:0:5e:7f:ff:fa    UHmLWI            en1\n255.255.255.255/32 link#13            UCS               en1      !\n255.255.255.255/32 link#28            UCSI            utun3\n</code></pre>\n<p>里面关于 utun10 的几条解释:</p>\n<pre><code>2/7 地址范围: 2.0.0.0 到 2.255.255.255\n4/6 地址范围: 4.0.0.0 到 7.255.255.255\n8/5 地址范围: 8.0.0.0 到 15.255.255.255\n16/4 地址范围: 16.0.0.0 到 31.255.255.255\n32/3 地址范围: 32.0.0.0 到 63.255.255.255\n64/2 地址范围: 64.0.0.0 到 127.255.255.255\n128.0/1 地址范围: 128.0.0.0 到 255.255.255.255\n198.18.0.1  就表示它自己\n</code></pre>\n<p>所以除了 198.18.0.1 之外其余的都应该解析成 128.0.0.1 才对啊。那 198.18.0.2 为啥也解析成自己了呢？</p>\n<p>我的理解: 跑的服务程序可以监听本地网口, 每个网口有对应的 ip 地址，如果监听 0.0.0.0 则表示所有网口，如果监听 127.0.0.1 则表示监听 lo0 ，如果监听 192.168.31.166 （我电脑 en0 地址）则表示监听 en0 网口，任何发送到这个网口的数据（当然要指定好端口号）都会被转发到这个服务程序。</p>\n<p>但查看 ifconfig 则看不到 198.18.0.2 是属于哪一个接口的，而它是 utun10(198.18.0.1)的一个子网 ip 。当开启虚拟网口后（软件的增强模式透明模式） dns 被改成 198.18.0.2 是为什么？使用 dig 程序测试也是没问题的:</p>\n<pre><code>~ dig @198.18.0.2 -p 53 baidu.com\n~ dig @198.18.0.2 -p 53 google.com\n~ dig @198.18.0.2 -p 53 fb.com\n</code></pre>\n<p>结果都是 fakeip 。</p>\n<p>所以，我哪里理解错了吗？为什么会有 198.18.0.2 ？</p>\n","last_modified":1694833286,"replies":7,"id":974350}]