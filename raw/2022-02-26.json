[{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/03af/dbd6/63_large.png?m=1644490200","name":"java","avatar_normal":"https://cdn.v2ex.com/navatar/03af/dbd6/63_normal.png?m=1644490200","title":"Java","url":"https://www.v2ex.com/go/java","topics":4811,"footer":"","header":"Sun 公司发明，被广泛使用的一门编程语言。","title_alternative":"Java","avatar_mini":"https://cdn.v2ex.com/navatar/03af/dbd6/63_mini.png?m=1644490200","stars":4810,"aliases":[],"root":false,"id":63,"parent_node_name":"programming"},"member":{"id":465080,"username":"gosidealone","url":"https://www.v2ex.com/u/gosidealone","website":"","twitter":"","psn":"","github":"","btc":"","location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/avatar/4739/12db/465080_mini.png?m=1645834957","avatar_normal":"https://cdn.v2ex.com/avatar/4739/12db/465080_normal.png?m=1645834957","avatar_large":"https://cdn.v2ex.com/avatar/4739/12db/465080_large.png?m=1645834957","created":1579000187,"last_modified":1645834957},"last_reply_by":"sutra","last_touched":1645840181,"title":"求助 Java 大佬 synchronized 的问题","url":"https://www.v2ex.com/t/836521","created":1645835134,"deleted":0,"content":"synchronized 加在方法上锁的是对象的实例吗？\r\n```\r\npublic class Test {\r\n\r\n    public static void main(String[] args) {\r\n        //Main main = new Main();\r\n        new Thread(()->{\r\n            Main main = new Main();\r\n            main.get();\r\n        }).start();\r\n        new Thread(()->{\r\n            Main main = new Main();\r\n            main.get();\r\n        }).start();\r\n    }\r\n\r\n}\r\n\r\nclass Main{\r\n    private static int i = 0;\r\n\r\n    public synchronized void get(){\r\n        i++;\r\n        System.out.println(i);\r\n    }\r\n}\r\n```\r\n这两个线程执行 get 函数的时候会互斥吗？如果是同一个 Main 对象肯定是输出 1 ，2 ，如果不是同一个对象输出的是 2 ，2 或者 1 ，2 或者 2 ，1 ，这是为什么呢？","content_rendered":"<p>synchronized 加在方法上锁的是对象的实例吗？</p>\n<pre><code>public class Test {\n\n    public static void main(String[] args) {\n        //Main main = new Main();\n        new Thread(()-&gt;{\n            Main main = new Main();\n            main.get();\n        }).start();\n        new Thread(()-&gt;{\n            Main main = new Main();\n            main.get();\n        }).start();\n    }\n\n}\n\nclass Main{\n    private static int i = 0;\n\n    public synchronized void get(){\n        i++;\n        System.out.println(i);\n    }\n}\n</code></pre>\n<p>这两个线程执行 get 函数的时候会互斥吗？如果是同一个 Main 对象肯定是输出 1 ，2 ，如果不是同一个对象输出的是 2 ，2 或者 1 ，2 或者 2 ，1 ，这是为什么呢？</p>\n","last_modified":1645835434,"replies":7,"id":836521}]