[{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/d67d/8ab4/39_large.png?m=1626622970","name":"android","avatar_normal":"https://cdn.v2ex.com/navatar/d67d/8ab4/39_normal.png?m=1626622970","title":"Android","url":"https://www.v2ex.com/go/android","topics":8985,"footer":"","header":"来自 <a href=\"/go/google\">Google</a> 的开放源代码智能手机平台。","title_alternative":"Android","avatar_mini":"https://cdn.v2ex.com/navatar/d67d/8ab4/39_mini.png?m=1626622970","stars":4883,"aliases":[],"root":false,"id":39,"parent_node_name":"hardware"},"member":{"username":"kenanremix","website":null,"github":null,"psn":null,"avatar_normal":"https://cdn.v2ex.com/gravatar/be64fe1ad50bb8fa7429f5c2bcf294d0?s=24&d=retro","bio":null,"url":"https://www.v2ex.com/u/kenanremix","tagline":null,"twitter":null,"created":1551885625,"avatar_large":"https://cdn.v2ex.com/gravatar/be64fe1ad50bb8fa7429f5c2bcf294d0?s=24&d=retro","avatar_mini":"https://cdn.v2ex.com/gravatar/be64fe1ad50bb8fa7429f5c2bcf294d0?s=24&d=retro","location":null,"btc":null,"id":390034},"last_reply_by":"WebKit","last_touched":1632076013,"title":"2021 年 9 月 19 日 请问朋友们，现在哪些手机自带谷歌框架。哪些可以后期安装（非 root、解 BL 锁）","url":"https://www.v2ex.com/t/802897","created":1632017249,"content":"<br/>1 、目前我的情况就是有一个小米 9，MIUI 12.0.6，无法安装谷歌框架，因为系统出厂设置了相冲突的。</br>\r\n<br/>2 、昨晚看到虎扑上有人说三星 S20 不错，但是三星发烫电池问题严重。</br>\r\n<br/>3 、一加手机怎么样，之前还想买的，弄一个备用机</br>\r\n<br/>4 、价格 2 千以下最佳，2 手的也行</br>","content_rendered":"<p><br/>1 、目前我的情况就是有一个小米 9，MIUI 12.0.6，无法安装谷歌框架，因为系统出厂设置了相冲突的。<br/>\n<br/>2 、昨晚看到虎扑上有人说三星 S20 不错，但是三星发烫电池问题严重。<br/>\n<br/>3 、一加手机怎么样，之前还想买的，弄一个备用机<br/>\n<br/>4 、价格 2 千以下最佳，2 手的也行<br/></p>\n","last_modified":1632017387,"replies":61,"id":802897},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1629391393","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1629391393","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":176687,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1629391393","stars":3318,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"username":"johopig","website":null,"github":null,"psn":null,"avatar_normal":"https://cdn.v2ex.com/avatar/6e48/7272/489166_mini.png?m=1628070688","bio":null,"url":"https://www.v2ex.com/u/johopig","tagline":null,"twitter":null,"created":1589288306,"avatar_large":"https://cdn.v2ex.com/avatar/6e48/7272/489166_mini.png?m=1628070688","avatar_mini":"https://cdn.v2ex.com/avatar/6e48/7272/489166_mini.png?m=1628070688","location":null,"btc":null,"id":489166},"last_reply_by":"WuSiYu","last_touched":1632082996,"title":"彦祖们，头戴式降噪耳机（如索尼 WH-1000XM3 等），里面再塞 3M 耳塞，能屏蔽工地比较尖的声音吗？","url":"https://www.v2ex.com/t/802922","created":1632032630,"content":"宿舍附近工地每天早上 6 点准时施工，挖土机什么的不知道是不是没有润滑油，总是一阵一阵的发出很刺耳很尖的声音，\r\n每天 6 点准时被吵醒，连续两个星期了，感觉人要死了，戴了 3M 耳塞还是能听到，如果在外面再套个头戴式的降噪耳机能屏蔽这些声音吗？","content_rendered":"宿舍附近工地每天早上 6 点准时施工，挖土机什么的不知道是不是没有润滑油，总是一阵一阵的发出很刺耳很尖的声音，<br />每天 6 点准时被吵醒，连续两个星期了，感觉人要死了，戴了 3M 耳塞还是能听到，如果在外面再套个头戴式的降噪耳机能屏蔽这些声音吗？","last_modified":1632032700,"replies":39,"id":802922},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1629391393","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1629391393","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":176687,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1629391393","stars":3318,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"username":"balabalaguguji","website":"https://tools.fun","github":"","psn":"","avatar_normal":"https://cdn.v2ex.com/avatar/1383/cc45/341424_mini.png?m=1565918639","bio":"创业者，工具箱：https://tools.fun，SVN托管：https://svnbucket.com，API文档、测试：https://easydoc.net","url":"https://www.v2ex.com/u/balabalaguguji","tagline":"","twitter":"","created":1534320435,"avatar_large":"https://cdn.v2ex.com/avatar/1383/cc45/341424_mini.png?m=1565918639","avatar_mini":"https://cdn.v2ex.com/avatar/1383/cc45/341424_mini.png?m=1565918639","location":"","btc":"","id":341424},"last_reply_by":"levelworm","last_touched":1632066029,"title":"想要买个笔记本 Thinkpad X1 Carbon 怎样，懂的来说说","url":"https://www.v2ex.com/t/802887","created":1632015161,"content":"主要是写代码用，不打游戏，这款如何？","content_rendered":"<p>主要是写代码用，不打游戏，这款如何？</p>\n","last_modified":1632015161,"replies":33,"id":802887},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/55b3/7c5c/649_large.png?m=1630579146","name":"wechat","avatar_normal":"https://cdn.v2ex.com/navatar/55b3/7c5c/649_normal.png?m=1630579146","title":"微信","url":"https://www.v2ex.com/go/wechat","topics":2754,"footer":"","header":"关于微信及微信小程序的讨论节点","title_alternative":"WeChat","avatar_mini":"https://cdn.v2ex.com/navatar/55b3/7c5c/649_mini.png?m=1630579146","stars":463,"aliases":[],"root":false,"id":649,"parent_node_name":"internet"},"member":{"username":"abwong","website":"","github":"","psn":"","avatar_normal":"https://cdn.v2ex.com/avatar/51e7/06f8/30029_mini.png?m=1603894918","bio":"","url":"https://www.v2ex.com/u/abwong","tagline":"","twitter":"","created":1354008793,"avatar_large":"https://cdn.v2ex.com/avatar/51e7/06f8/30029_mini.png?m=1603894918","avatar_mini":"https://cdn.v2ex.com/avatar/51e7/06f8/30029_mini.png?m=1603894918","location":"","btc":"","id":30029},"last_reply_by":"Perry","last_touched":1632063453,"title":"微信朋友圈的 sao 操作","url":"https://www.v2ex.com/t/802885","created":1632014125,"content":"平时刷朋友圈，明明有一条朋友动态，点进去一看，没有，点开头像主页又可以看，唯独朋友圈没有，以前没发现，最近留意了下，居然还有这等操作，何解？大佬们解释下\r\nhttps://i.imgur.com/9gjUIOS.jpeg","content_rendered":"平时刷朋友圈，明明有一条朋友动态，点进去一看，没有，点开头像主页又可以看，唯独朋友圈没有，以前没发现，最近留意了下，居然还有这等操作，何解？大佬们解释下<br /><a target=\"_blank\" href=\"https://i.imgur.com/9gjUIOS.jpeg\" rel=\"nofollow noopener\" target=\"_blank\"><img src=\"https://i.imgur.com/9gjUIOS.jpeg\" class=\"embedded_image\" rel=\"noreferrer\"></a>","last_modified":1632014280,"replies":30,"id":802885},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/fc49/0ca4/65_large.png?m=1524891806","name":"google","avatar_normal":"https://cdn.v2ex.com/navatar/fc49/0ca4/65_normal.png?m=1524891806","title":"Google","url":"https://www.v2ex.com/go/google","topics":2642,"footer":"","header":"Google’s mission is to organize the world’s information and make it universally accessible and useful.","title_alternative":"Google","avatar_mini":"https://cdn.v2ex.com/navatar/fc49/0ca4/65_mini.png?m=1524891806","stars":3254,"aliases":[],"root":false,"id":65,"parent_node_name":"internet"},"member":{"username":"deep007","website":null,"github":null,"psn":null,"avatar_normal":"https://cdn.v2ex.com/avatar/1c63/170c/444979_mini.png?m=1582514359","bio":null,"url":"https://www.v2ex.com/u/deep007","tagline":null,"twitter":null,"created":1570433900,"avatar_large":"https://cdn.v2ex.com/avatar/1c63/170c/444979_mini.png?m=1582514359","avatar_mini":"https://cdn.v2ex.com/avatar/1c63/170c/444979_mini.png?m=1582514359","location":null,"btc":null,"id":444979},"last_reply_by":"gggccc44","last_touched":1632079514,"title":"有什么快速方法让 google 和 ytb 识别 us 的 ip 为大陆？","url":"https://www.v2ex.com/t/802908","created":1632024369,"content":"我知道大家被 google 识别 ip 为中国大陆很苦恼，但我的需求刚好相反，希望 us 的原生 ip 识别为中国大陆，去除电视盒子上 ytb 广告，曾经成功让 google 识别 ip 为中国上海一次大概只有 15 天，但目前又被识别为原生地加利福尼亚州。试过 safari 、chrome 允许位置定位，macos 、win 的 google 程序允许位置定位，但不凑效。 是否有更有效的方法让其识别为中国大陆？","content_rendered":"我知道大家被 google 识别 ip 为中国大陆很苦恼，但我的需求刚好相反，希望 us 的原生 ip 识别为中国大陆，去除电视盒子上 ytb 广告，曾经成功让 google 识别 ip 为中国上海一次大概只有 15 天，但目前又被识别为原生地加利福尼亚州。试过 safari 、chrome 允许位置定位，macos 、win 的 google 程序允许位置定位，但不凑效。 是否有更有效的方法让其识别为中国大陆？","last_modified":1632024517,"replies":27,"id":802908},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/8d31/7bdc/747_large.png?m=1523201604","name":"deals","avatar_normal":"https://cdn.v2ex.com/navatar/8d31/7bdc/747_normal.png?m=1523201604","title":"优惠信息","url":"https://www.v2ex.com/go/deals","topics":1789,"footer":"","header":"这里分享和发布来自互联网上的最新优惠信息","title_alternative":"Deals","avatar_mini":"https://cdn.v2ex.com/navatar/8d31/7bdc/747_mini.png?m=1523201604","stars":2619,"aliases":[],"root":false,"id":747,"parent_node_name":"life"},"member":{"username":"moon7wimd","website":null,"github":null,"psn":null,"avatar_normal":"https://cdn.v2ex.com/avatar/249b/e7e6/286984_mini.png?m=1518924249","bio":null,"url":"https://www.v2ex.com/u/moon7wimd","tagline":null,"twitter":null,"created":1516978023,"avatar_large":"https://cdn.v2ex.com/avatar/249b/e7e6/286984_mini.png?m=1518924249","avatar_mini":"https://cdn.v2ex.com/avatar/249b/e7e6/286984_mini.png?m=1518924249","location":null,"btc":null,"id":286984},"last_reply_by":"JamesR","last_touched":1632071310,"title":"QQ 音乐会员官方活动，免费领一个月会员","url":"https://www.v2ex.com/t/802913","created":1632029563,"content":"路径：我的-会员中心-横条幅左划-绿钻秋季专属活动","content_rendered":"路径：我的-会员中心-横条幅左划-绿钻秋季专属活动","last_modified":1632029587,"replies":24,"id":802913},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/6cdd/60ea/184_large.png?m=1630643913","name":"apple","avatar_normal":"https://cdn.v2ex.com/navatar/6cdd/60ea/184_normal.png?m=1630643913","title":"Apple","url":"https://www.v2ex.com/go/apple","topics":15849,"footer":"","header":"设计了 <a href=\"/go/watch\">Apple Watch</a>，<a href=\"/go/ipad\">iPad</a>，<a href=\"/go/iphone\">iPhone</a>，<a href=\"/go/imac\">iMac</a> 及 <a href=\"/go/mbp\">MacBook Pro</a> 等电子产品的美国公司。","title_alternative":"Apple","avatar_mini":"https://cdn.v2ex.com/navatar/6cdd/60ea/184_mini.png?m=1630643913","stars":1925,"aliases":[],"root":false,"id":184,"parent_node_name":"hardware"},"member":{"username":"mayaso","website":null,"github":null,"psn":null,"avatar_normal":"https://cdn.v2ex.com/gravatar/032138904663f6d7b4808dda286286ba?s=24&d=retro","bio":null,"url":"https://www.v2ex.com/u/mayaso","tagline":null,"twitter":null,"created":1385218771,"avatar_large":"https://cdn.v2ex.com/gravatar/032138904663f6d7b4808dda286286ba?s=24&d=retro","avatar_mini":"https://cdn.v2ex.com/gravatar/032138904663f6d7b4808dda286286ba?s=24&d=retro","location":null,"btc":null,"id":50412},"last_reply_by":"xiaowei0823","last_touched":1632069801,"title":"有锁机怎么买","url":"https://www.v2ex.com/t/802894","created":1632016356,"content":"有什么靠谱的有锁机渠道？然后讨论下有锁机值不值得买啊，好像经常会解锁呢","content_rendered":"有什么靠谱的有锁机渠道？然后讨论下有锁机值不值得买啊，好像经常会解锁呢","last_modified":1632016356,"replies":23,"id":802894},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/6cdd/60ea/184_large.png?m=1630643913","name":"apple","avatar_normal":"https://cdn.v2ex.com/navatar/6cdd/60ea/184_normal.png?m=1630643913","title":"Apple","url":"https://www.v2ex.com/go/apple","topics":15849,"footer":"","header":"设计了 <a href=\"/go/watch\">Apple Watch</a>，<a href=\"/go/ipad\">iPad</a>，<a href=\"/go/iphone\">iPhone</a>，<a href=\"/go/imac\">iMac</a> 及 <a href=\"/go/mbp\">MacBook Pro</a> 等电子产品的美国公司。","title_alternative":"Apple","avatar_mini":"https://cdn.v2ex.com/navatar/6cdd/60ea/184_mini.png?m=1630643913","stars":1925,"aliases":[],"root":false,"id":184,"parent_node_name":"hardware"},"member":{"username":"nanjingwuyanzu","website":null,"github":null,"psn":null,"avatar_normal":"https://cdn.v2ex.com/gravatar/a8cf5af415d43f70ef20c795f3a0f0ef?s=24&d=retro","bio":null,"url":"https://www.v2ex.com/u/nanjingwuyanzu","tagline":null,"twitter":null,"created":1578886565,"avatar_large":"https://cdn.v2ex.com/gravatar/a8cf5af415d43f70ef20c795f3a0f0ef?s=24&d=retro","avatar_mini":"https://cdn.v2ex.com/gravatar/a8cf5af415d43f70ef20c795f3a0f0ef?s=24&d=retro","location":null,"btc":null,"id":464702},"last_reply_by":"bao3","last_touched":1632073144,"title":"13 系列是外挂 5G 吗？","url":"https://www.v2ex.com/t/802957","created":1632051732,"content":"rt,13 系列是外挂 5G 吗？","content_rendered":"<p>rt,13 系列是外挂 5G 吗？</p>\n","last_modified":1632051732,"replies":20,"id":802957},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1629391393","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1629391393","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":176687,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1629391393","stars":3318,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"username":"qaqdaxingxing","website":null,"github":null,"psn":null,"avatar_normal":"https://cdn.v2ex.com/avatar/956d/7915/482511_mini.png?m=1586367581","bio":null,"url":"https://www.v2ex.com/u/qaqdaxingxing","tagline":null,"twitter":null,"created":1586365888,"avatar_large":"https://cdn.v2ex.com/avatar/956d/7915/482511_mini.png?m=1586367581","avatar_mini":"https://cdn.v2ex.com/avatar/956d/7915/482511_mini.png?m=1586367581","location":null,"btc":null,"id":482511},"last_reply_by":"Dxxxxs","last_touched":1632063075,"title":"软件工程考研问题相关","url":"https://www.v2ex.com/t/802883","created":1632013864,"content":"有无大佬了解西南交通大学人才培养专项(类似于校企联合培养)，在学校呆一年，企业呆一年，想问问这个毕业含金量怎么样呀。","content_rendered":"有无大佬了解西南交通大学人才培养专项(类似于校企联合培养)，在学校呆一年，企业呆一年，想问问这个毕业含金量怎么样呀。","last_modified":1632013864,"replies":18,"id":802883},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c9f0/f895/8_large.png?m=1630643991","name":"iphone","avatar_normal":"https://cdn.v2ex.com/navatar/c9f0/f895/8_normal.png?m=1630643991","title":"iPhone","url":"https://www.v2ex.com/go/iphone","topics":8761,"footer":"这里绝不讨论如何获得 iPhone 盗版软件、iTunes 黑卡之类。","header":"Say hello to the future.","title_alternative":"iPhone","avatar_mini":"https://cdn.v2ex.com/navatar/c9f0/f895/8_mini.png?m=1630643991","stars":2716,"aliases":[],"root":false,"id":8,"parent_node_name":"apple"},"member":{"username":"Zseventh","website":"","github":"","psn":"","avatar_normal":"https://cdn.v2ex.com/avatar/481e/e36d/329225_mini.png?m=1612640734","bio":"","url":"https://www.v2ex.com/u/Zseventh","tagline":"","twitter":"","created":1531621539,"avatar_large":"https://cdn.v2ex.com/avatar/481e/e36d/329225_mini.png?m=1612640734","avatar_mini":"https://cdn.v2ex.com/avatar/481e/e36d/329225_mini.png?m=1612640734","location":"","btc":"","id":329225},"last_reply_by":"harwck","last_touched":1632087050,"title":"拼多多抢 iPhone 13 Pro Max 实在抢不到","url":"https://www.v2ex.com/t/802960","created":1632053986,"content":"有 V 友在拼多多上抢到了 iPhone 13 Pro Max 了吗？女朋友是领不到券，估计是黑号了；我是抢了两天，一直抢不到。\r\n\r\n还有就是有 V 友在狗东上买 13PM 吗？狗东好抢吗？拼多多抢不到想在狗东上买了，带一年 ac+，抢到了 12 期免息券，但是好久没用白条了，实名认证也没更新，白条额度直接从 15000 掉到了 3000 了，是不是免息券就没什么用了？","content_rendered":"有 V 友在拼多多上抢到了 iPhone 13 Pro Max 了吗？女朋友是领不到券，估计是黑号了；我是抢了两天，一直抢不到。<br /><br />还有就是有 V 友在狗东上买 13PM 吗？狗东好抢吗？拼多多抢不到想在狗东上买了，带一年 ac+，抢到了 12 期免息券，但是好久没用白条了，实名认证也没更新，白条额度直接从 15000 掉到了 3000 了，是不是免息券就没什么用了？","last_modified":1632053986,"replies":16,"id":802960},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c74d/97b0/16_large.png?m=1628872984","name":"share","avatar_normal":"https://cdn.v2ex.com/navatar/c74d/97b0/16_normal.png?m=1628872984","title":"分享发现","url":"https://www.v2ex.com/go/share","topics":34362,"footer":"","header":"分享你看到的好玩的，有信息量的，欢迎从这里获取灵感。","title_alternative":"Share","avatar_mini":"https://cdn.v2ex.com/navatar/c74d/97b0/16_mini.png?m=1628872984","stars":4591,"aliases":[],"root":false,"id":16,"parent_node_name":"v2ex"},"member":{"username":"gainsurier","website":"","github":"","psn":"","avatar_normal":"https://cdn.v2ex.com/avatar/7f9d/d067/156062_mini.png?m=1481548285","bio":"","url":"https://www.v2ex.com/u/gainsurier","tagline":"","twitter":"","created":1453192704,"avatar_large":"https://cdn.v2ex.com/avatar/7f9d/d067/156062_mini.png?m=1481548285","avatar_mini":"https://cdn.v2ex.com/avatar/7f9d/d067/156062_mini.png?m=1481548285","location":"","btc":"","id":156062},"last_reply_by":"JimmyG","last_touched":1632064887,"title":"华为天际通（华为移动路由）2000GB 物联网流量月套餐使用体验分享","url":"https://www.v2ex.com/t/802934","created":1632038097,"content":"本周购买天际通移动路由版本，放于办公室摸鱼用，月包 99 套餐，日均流量十几 GB，以下是体验分享。\r\n\r\n1. 小程序 天际通 Go 管理流量套餐，使用 华为智慧生活 app 管理设备，相对于其他物联网卡来说使用体验极其优秀。\r\n\r\n2.  可锁频，访问 http://192.168.8.1/html/developermode.html#band，天际通的底网是联通，我测试了 B1，B3，B40，B1 的速度较快。峰值速度见图。日常约 60-70M 左右，在深圳连接香港延迟大概 40ms 。\r\nhttps://i.v2ex.co/fOyNw9LAl.png\r\nhttps://i.v2ex.co/Ld6ec80il.png\r\n\r\n\r\n3. 可以使用 ipv6，从华为客服那边得知，需要设置 apn 为 gdgzszsr01s.5ggd.gziot   默认没有该 Apn，不过测试了下来发现掉包率抖动比较大，数据如下，不建议使用。\r\n\r\n362 packets transmitted, 130 packets received, 64.1% packet loss\r\nround-trip min/avg/max/std-dev = 33.574/72.371/222.748/43.320 ms\r\n\r\n4. 一周下来，使用没有限速。\r\n\r\n后续有问题的话，会在本贴 append 更新。\r\n\r\n（截止 2021.9.18 体验）","content_rendered":"本周购买天际通移动路由版本，放于办公室摸鱼用，月包 99 套餐，日均流量十几 GB，以下是体验分享。<br /><br />1. 小程序 天际通 Go 管理流量套餐，使用 华为智慧生活 app 管理设备，相对于其他物联网卡来说使用体验极其优秀。<br /><br />2.  可锁频，访问 http://192.168.8.1/html/developermode.html#band，天际通的底网是联通，我测试了 B1，B3，B40，B1 的速度较快。峰值速度见图。日常约 60-70M 左右，在深圳连接香港延迟大概 40ms 。<br /><a target=\"_blank\" href=\"/i/fOyNw9LAl.png\" rel=\"nofollow noopener\" target=\"_blank\" title=\"在新窗口打开图片 fOyNw9LAl.png\"><img src=\"//i.v2ex.co/fOyNw9LAl.png\" class=\"embedded_image\"></a><br /><a target=\"_blank\" href=\"/i/Ld6ec80il.png\" rel=\"nofollow noopener\" target=\"_blank\" title=\"在新窗口打开图片 Ld6ec80il.png\"><img src=\"//i.v2ex.co/Ld6ec80il.png\" class=\"embedded_image\"></a><br /><br /><br />3. 可以使用 ipv6，从华为客服那边得知，需要设置 apn 为 gdgzszsr01s.5ggd.gziot   默认没有该 Apn，不过测试了下来发现掉包率抖动比较大，数据如下，不建议使用。<br /><br />362 packets transmitted, 130 packets received, 64.1% packet loss<br />round-trip min/avg/max/std-dev = 33.574/72.371/222.748/43.320 ms<br /><br />4. 一周下来，使用没有限速。<br /><br />后续有问题的话，会在本贴 append 更新。<br /><br />（截止 2021.9.18 体验）","last_modified":1632038617,"replies":14,"id":802934},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/a3c6/5c29/108_large.png?m=1620107025","name":"bb","avatar_normal":"https://cdn.v2ex.com/navatar/a3c6/5c29/108_normal.png?m=1620107025","title":"宽带症候群","url":"https://www.v2ex.com/go/bb","topics":9768,"footer":"","header":"网速很重要。比快更快。","title_alternative":"Broadband Symptom Complex","avatar_mini":"https://cdn.v2ex.com/navatar/a3c6/5c29/108_mini.png?m=1620107025","stars":5129,"aliases":[],"root":false,"id":108,"parent_node_name":"geek"},"member":{"username":"pcslide","website":"","github":null,"psn":null,"avatar_normal":"https://cdn.v2ex.com/gravatar/6fae922ef827509a1cdde13697fd08d3?s=24&d=retro","bio":"","url":"https://www.v2ex.com/u/pcslide","tagline":"","twitter":null,"created":1618891575,"avatar_large":"https://cdn.v2ex.com/gravatar/6fae922ef827509a1cdde13697fd08d3?s=24&d=retro","avatar_mini":"https://cdn.v2ex.com/gravatar/6fae922ef827509a1cdde13697fd08d3?s=24&d=retro","location":"","btc":null,"id":543102},"last_reply_by":"Yien","last_touched":1632085527,"title":"电信的国际出口是做了恶意的限速吗？","url":"https://www.v2ex.com/t/802964","created":1632056245,"content":"电信的国际出口是做了恶意的限速吗？前一段时期即使在高峰时间出口也差不多可以满速，和 CN2 没多大区别，现在恢复龟速。","content_rendered":"电信的国际出口是做了恶意的限速吗？前一段时期即使在高峰时间出口也差不多可以满速，和 CN2 没多大区别，现在恢复龟速。","last_modified":1632056324,"replies":13,"id":802964},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1629391393","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1629391393","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":176687,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1629391393","stars":3318,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"username":"cainiuwow","website":"","github":"","psn":"","avatar_normal":"https://cdn.v2ex.com/avatar/29d6/93a6/44491_mini.png?m=1556508879","bio":"","url":"https://www.v2ex.com/u/cainiuwow","tagline":"","twitter":"","created":1377603763,"avatar_large":"https://cdn.v2ex.com/avatar/29d6/93a6/44491_mini.png?m=1556508879","avatar_mini":"https://cdn.v2ex.com/avatar/29d6/93a6/44491_mini.png?m=1556508879","location":"","btc":"","id":44491},"last_reply_by":"harwck","last_touched":1632086573,"title":"准备组个 nas， CPU 和主板合适么？","url":"https://www.v2ex.com/t/802961","created":1632054409,"content":"如题。\r\n准备组一个 ALL IN ONE 的 NAS，不太懂这个。\r\n想问问：\r\n\r\n1 、CPU I5 10400Tes QSRL （ 650+） 还是买 i3 10105 盒装（ 830+），这两块 U 价格差不太多。\r\n2 、主板准备买华擎 H470 itx/ac 这块主板两个网口，价格也还不错，不知道这块板子做 nas 有硬伤什么的吗？\r\n\r\n机箱准备买乔斯伯 N1 。\r\n希望低功耗。\r\n\r\n现在准备 1 块 8G 内存，1 块 500G 的固态，一块 300 元 500w 的电源。\r\n算下来 3000 以内。\r\n\r\nnas 准备搭一个旁路由，光猫直连 NAS，nas 拨号。wifi 路由器连 NAS，做二级路由。\r\n\r\n之前用的是白群晖，现在想折腾一下，不知道这样的硬件和软件搭配有没有什么问题，来向大神们请教。","content_rendered":"<p>如题。\n准备组一个 ALL IN ONE 的 NAS，不太懂这个。\n想问问：</p>\n<p>1 、CPU I5 10400Tes QSRL （ 650+） 还是买 i3 10105 盒装（ 830+），这两块 U 价格差不太多。\n2 、主板准备买华擎 H470 itx/ac 这块主板两个网口，价格也还不错，不知道这块板子做 nas 有硬伤什么的吗？</p>\n<p>机箱准备买乔斯伯 N1 。\n希望低功耗。</p>\n<p>现在准备 1 块 8G 内存，1 块 500G 的固态，一块 300 元 500w 的电源。\n算下来 3000 以内。</p>\n<p>nas 准备搭一个旁路由，光猫直连 NAS，nas 拨号。wifi 路由器连 NAS，做二级路由。</p>\n<p>之前用的是白群晖，现在想折腾一下，不知道这样的硬件和软件搭配有没有什么问题，来向大神们请教。</p>\n","last_modified":1632054409,"replies":11,"id":802961},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/a3c6/5c29/108_large.png?m=1620107025","name":"bb","avatar_normal":"https://cdn.v2ex.com/navatar/a3c6/5c29/108_normal.png?m=1620107025","title":"宽带症候群","url":"https://www.v2ex.com/go/bb","topics":9768,"footer":"","header":"网速很重要。比快更快。","title_alternative":"Broadband Symptom Complex","avatar_mini":"https://cdn.v2ex.com/navatar/a3c6/5c29/108_mini.png?m=1620107025","stars":5129,"aliases":[],"root":false,"id":108,"parent_node_name":"geek"},"member":{"username":"my2492","website":null,"github":null,"psn":null,"avatar_normal":"https://cdn.v2ex.com/gravatar/a80071a761a22d70457019e297d164b1?s=24&d=retro","bio":null,"url":"https://www.v2ex.com/u/my2492","tagline":null,"twitter":null,"created":1579795285,"avatar_large":"https://cdn.v2ex.com/gravatar/a80071a761a22d70457019e297d164b1?s=24&d=retro","avatar_mini":"https://cdn.v2ex.com/gravatar/a80071a761a22d70457019e297d164b1?s=24&d=retro","location":null,"btc":null,"id":466542},"last_reply_by":"terence4444","last_touched":1632070190,"title":"电信部分地区的家宽的网络架构似乎发生了改变","url":"https://www.v2ex.com/t/802962","created":1632054764,"content":"原来是非常简易的一种结构，现在新建了一部分比较复杂的，有没有大佬解读一下为何要这么部署？\r\n\r\nhttps://i.loli.net/2021/09/19/RkPFezqcbv56umT.png\r\n\r\n具体请看图中右侧新建部分，左侧是原来老的架构，现在过渡阶段两个网络通过以上架构互联\r\n\r\n个人意见：\r\n1. 不同网关间同城流量应该很低，即使原来通过城域网汇聚层来交换，也不会占用很大资源，节省了网关间链路。\r\n2. 新建网关下的用户最直观的就是路由多了一跳，二级汇聚层没有设立连接到省公司路由器的链路，依然通过原来的城域网汇聚层，多了一跳路由，更有可能因为收敛比的问题导致速度不达标。并且这些用户访问老的架构下的用户，距离好像也有点长。\r\n3. 有意思的是 nat 设备和网关设备分开来了，不知有什么意义？\r\n\r\n请大佬分析一下目前电信这种网络架构有何优势？最终可能是一个什么样的架构？目前新建架构下的用户占比还极少，估计全市只有 10%不到的用户在新的架构网络下。个人觉得这个二级汇聚层如果不增设直达省公司路由器的链路，好像意义不大啊，最好是所有新旧网关同时有到达两个汇聚层的链路，这才比较符合常规吧？","content_rendered":"原来是非常简易的一种结构，现在新建了一部分比较复杂的，有没有大佬解读一下为何要这么部署？<br /><br /><a target=\"_blank\" href=\"https://i.loli.net/2021/09/19/RkPFezqcbv56umT.png\" rel=\"nofollow noopener\">https://i.loli.net/2021/09/19/RkPFezqcbv56umT.png</a><br /><br />具体请看图中右侧新建部分，左侧是原来老的架构，现在过渡阶段两个网络通过以上架构互联<br /><br />个人意见：<br />1. 不同网关间同城流量应该很低，即使原来通过城域网汇聚层来交换，也不会占用很大资源，节省了网关间链路。<br />2. 新建网关下的用户最直观的就是路由多了一跳，二级汇聚层没有设立连接到省公司路由器的链路，依然通过原来的城域网汇聚层，多了一跳路由，更有可能因为收敛比的问题导致速度不达标。并且这些用户访问老的架构下的用户，距离好像也有点长。<br />3. 有意思的是 nat 设备和网关设备分开来了，不知有什么意义？<br /><br />请大佬分析一下目前电信这种网络架构有何优势？最终可能是一个什么样的架构？目前新建架构下的用户占比还极少，估计全市只有 10%不到的用户在新的架构网络下。个人觉得这个二级汇聚层如果不增设直达省公司路由器的链路，好像意义不大啊，最好是所有新旧网关同时有到达两个汇聚层的链路，这才比较符合常规吧？","last_modified":1632054764,"replies":10,"id":802962},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/9f61/408e/56_large.png?m=1628212285","name":"internet","avatar_normal":"https://cdn.v2ex.com/navatar/9f61/408e/56_normal.png?m=1628212285","title":"互联网","url":"https://www.v2ex.com/go/internet","topics":2947,"footer":"","header":"In Internet we trust","title_alternative":"Internet","avatar_mini":"https://cdn.v2ex.com/navatar/9f61/408e/56_mini.png?m=1628212285","stars":913,"aliases":[],"root":false,"id":56,"parent_node_name":"computer"},"member":{"username":"mercury233","website":"https://mercury233.me","github":"mercury233","psn":"","avatar_normal":"https://cdn.v2ex.com/gravatar/e1ef141461115a7ff1fb1085e2140cc3?s=24&d=retro","bio":"","url":"https://www.v2ex.com/u/mercury233","tagline":"","twitter":"","created":1413725065,"avatar_large":"https://cdn.v2ex.com/gravatar/e1ef141461115a7ff1fb1085e2140cc3?s=24&d=retro","avatar_mini":"https://cdn.v2ex.com/gravatar/e1ef141461115a7ff1fb1085e2140cc3?s=24&d=retro","location":"","btc":"","id":77742},"last_reply_by":"0o0o0o0","last_touched":1632072953,"title":"无耻的移动把垃圾短信伪装成验证码","url":"https://www.v2ex.com/t/802958","created":1632053484,"content":"![QQ 截图 20210919200902.jpg]( https://i.loli.net/2021/09/19/G9TaBzNtuweJ72M.jpg)","content_rendered":"<p><img alt=\"QQ 截图 20210919200902.jpg\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://i.loli.net/2021/09/19/G9TaBzNtuweJ72M.jpg\"/></p>\n","last_modified":1632053484,"replies":10,"id":802958},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/98f1/3708/20_large.png?m=1542423096","name":"guangzhou","avatar_normal":"https://cdn.v2ex.com/navatar/98f1/3708/20_normal.png?m=1542423096","title":"广州","url":"https://www.v2ex.com/go/guangzhou","topics":1003,"footer":"","header":"","title_alternative":"Guangzhou","avatar_mini":"https://cdn.v2ex.com/navatar/98f1/3708/20_mini.png?m=1542423096","stars":1179,"aliases":[],"root":false,"id":20,"parent_node_name":"cn"},"member":{"username":"bqlab","website":null,"github":null,"psn":null,"avatar_normal":"https://cdn.v2ex.com/gravatar/e4e1959968eebc6f80410007cd64bcb1?s=24&d=retro","bio":null,"url":"https://www.v2ex.com/u/bqlab","tagline":null,"twitter":null,"created":1574046045,"avatar_large":"https://cdn.v2ex.com/gravatar/e4e1959968eebc6f80410007cd64bcb1?s=24&d=retro","avatar_mini":"https://cdn.v2ex.com/gravatar/e4e1959968eebc6f80410007cd64bcb1?s=24&d=retro","location":null,"btc":null,"id":453787},"last_reply_by":"Donahue","last_touched":1632054995,"title":"广州哪里有适合写代码的地方","url":"https://www.v2ex.com/t/802925","created":1632033252,"content":"小弟刚来广州搞不清状况，出租屋太小呆久了很难受的，想问下哪里写代码比较方便哇。\r\n\r\n咖啡厅、图书馆、众创空间、自习室都可以，只要有电源 WIFI 而且不太拥挤。","content_rendered":"<p>小弟刚来广州搞不清状况，出租屋太小呆久了很难受的，想问下哪里写代码比较方便哇。</p>\n<p>咖啡厅、图书馆、众创空间、自习室都可以，只要有电源 WIFI 而且不太拥挤。</p>\n","last_modified":1632040327,"replies":10,"id":802925},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1629391393","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1629391393","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":176682,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1629391393","stars":3318,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"username":"xujinkai","website":"xujinkai.net","github":"XUJINKAI","psn":"","avatar_normal":"https://cdn.v2ex.com/avatar/602a/1e42/177637_mini.png?m=1572829578","bio":"Windows快捷键工具 http://onequick.org/?f=v2ex","url":"https://www.v2ex.com/u/xujinkai","tagline":"","twitter":"","created":1466040239,"avatar_large":"https://cdn.v2ex.com/avatar/602a/1e42/177637_mini.png?m=1572829578","avatar_mini":"https://cdn.v2ex.com/avatar/602a/1e42/177637_mini.png?m=1572829578","location":"Beijing","btc":"","id":177637},"last_reply_by":"Deteriorator","last_touched":1632041737,"title":"备份大量代码仓库的正确姿势是什么？","url":"https://www.v2ex.com/t/802911","created":1632027761,"content":"笔记本坏了需要把代码都转移出来，大量的仓库，虽然不大，但是小文件太多，拷贝速度感人。\r\n\r\n虽说有 git，但一个一个确认上传更慢，况且有的写在一半不适合上传，事后还得一个一个拉下来，所以最好还是整个目录备份。\r\n\r\n那么这么多小文件该如何备份？\r\n\r\n有考虑过 OneDrive，但一是担心性能，二是担心冲突。\r\n\r\n不知还有什么好办法？","content_rendered":"<p>笔记本坏了需要把代码都转移出来，大量的仓库，虽然不大，但是小文件太多，拷贝速度感人。</p>\n<p>虽说有 git，但一个一个确认上传更慢，况且有的写在一半不适合上传，事后还得一个一个拉下来，所以最好还是整个目录备份。</p>\n<p>那么这么多小文件该如何备份？</p>\n<p>有考虑过 OneDrive，但一是担心性能，二是担心冲突。</p>\n<p>不知还有什么好办法？</p>\n","last_modified":1632027761,"replies":10,"id":802911},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/70ef/df2e/17_large.png?m=1629391403","name":"create","avatar_normal":"https://cdn.v2ex.com/navatar/70ef/df2e/17_normal.png?m=1629391403","title":"分享创造","url":"https://www.v2ex.com/go/create","topics":16697,"footer":"","header":"欢迎你在这里发布自己的最新作品！","title_alternative":"Create","avatar_mini":"https://cdn.v2ex.com/navatar/70ef/df2e/17_mini.png?m=1629391403","stars":4048,"aliases":[],"root":false,"id":17,"parent_node_name":"geek"},"member":{"username":"xingheng","website":"","github":"","psn":"","avatar_normal":"https://cdn.v2ex.com/avatar/6385/db53/128394_mini.png?m=1616937724","bio":"","url":"https://www.v2ex.com/u/xingheng","tagline":"","twitter":"","created":1437550480,"avatar_large":"https://cdn.v2ex.com/avatar/6385/db53/128394_mini.png?m=1616937724","avatar_mini":"https://cdn.v2ex.com/avatar/6385/db53/128394_mini.png?m=1616937724","location":"","btc":"","id":128394},"last_reply_by":"xingheng","last_touched":1632053505,"title":"推荐一个 Todo list 神器： taskwarrior，配合 git 仓库来同步数据","url":"https://www.v2ex.com/t/802931","created":1632037570,"content":"[When taskwarrior met git]( https://xingheng.github.io/when-taskwarrior-met-git/)","content_rendered":"<p><a href=\"https://xingheng.github.io/when-taskwarrior-met-git/\" rel=\"nofollow\">When taskwarrior met git</a></p>\n","last_modified":1632037570,"replies":9,"id":802931},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/6cdd/60ea/184_large.png?m=1630643913","name":"apple","avatar_normal":"https://cdn.v2ex.com/navatar/6cdd/60ea/184_normal.png?m=1630643913","title":"Apple","url":"https://www.v2ex.com/go/apple","topics":15849,"footer":"","header":"设计了 <a href=\"/go/watch\">Apple Watch</a>，<a href=\"/go/ipad\">iPad</a>，<a href=\"/go/iphone\">iPhone</a>，<a href=\"/go/imac\">iMac</a> 及 <a href=\"/go/mbp\">MacBook Pro</a> 等电子产品的美国公司。","title_alternative":"Apple","avatar_mini":"https://cdn.v2ex.com/navatar/6cdd/60ea/184_mini.png?m=1630643913","stars":1925,"aliases":[],"root":false,"id":184,"parent_node_name":"hardware"},"member":{"username":"9420JackT","website":null,"github":null,"psn":null,"avatar_normal":"https://cdn.v2ex.com/avatar/ee3d/9fd6/366365_mini.png?m=1593572157","bio":null,"url":"https://www.v2ex.com/u/9420JackT","tagline":null,"twitter":null,"created":1543377998,"avatar_large":"https://cdn.v2ex.com/avatar/ee3d/9fd6/366365_mini.png?m=1593572157","avatar_mini":"https://cdn.v2ex.com/avatar/ee3d/9fd6/366365_mini.png?m=1593572157","location":null,"btc":null,"id":366365},"last_reply_by":"9420JackT","last_touched":1632057574,"title":"你们的 iPadmini5 发货了吗","url":"https://www.v2ex.com/t/802955","created":1632050095,"content":"预计下周五到，不会真的要到下周五吧😂😂","content_rendered":"<p>预计下周五到，不会真的要到下周五吧😂😂</p>\n","last_modified":1632050095,"replies":8,"id":802955},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/70ef/df2e/17_large.png?m=1629391403","name":"create","avatar_normal":"https://cdn.v2ex.com/navatar/70ef/df2e/17_normal.png?m=1629391403","title":"分享创造","url":"https://www.v2ex.com/go/create","topics":16697,"footer":"","header":"欢迎你在这里发布自己的最新作品！","title_alternative":"Create","avatar_mini":"https://cdn.v2ex.com/navatar/70ef/df2e/17_mini.png?m=1629391403","stars":4050,"aliases":[],"root":false,"id":17,"parent_node_name":"geek"},"member":{"username":"dndx","website":"idndx.com","github":"dndx","psn":"","avatar_normal":"https://cdn.v2ex.com/avatar/d880/e783/11693_mini.png?m=1367868144","bio":"声明：本人在 V2EX 所有言论仅代表个人，不代表本人雇主立场。\r\n\r\nDisclaimer: Postings or opinions expressed by me in V2EX are strictly my own and not necessarily those of my employer.","url":"https://www.v2ex.com/u/dndx","tagline":"","twitter":"dndxdndx","created":1315402279,"avatar_large":"https://cdn.v2ex.com/avatar/d880/e783/11693_mini.png?m=1367868144","avatar_mini":"https://cdn.v2ex.com/avatar/d880/e783/11693_mini.png?m=1367868144","location":"San Francisco, CA","btc":"","id":11693},"last_reply_by":"dndx","last_touched":1632061077,"title":"Phantun - Rust 写的轻量级 UDP -> TCP 混淆器","url":"https://www.v2ex.com/t/802949","created":1632044626,"content":"GitHub: https://github.com/dndx/phantun\r\n\r\nCrates: https://crates.io/crates/phantun\r\n\r\nPhantun 的初衷跟 @wangyucn 的 [udp2raw]( https://github.com/wangyu-/udp2raw-tunnel) 很类似，都是为了实现一种简单的用户态 TCP 状态机来对 UDP 流量做伪装。主要的目的是希望能让 UDP 流量看起来像是 TCP，又不希望受到 TCP retransmission 或者 congestion control 的影响。\r\n\r\n![]( https://raw.githubusercontent.com/dndx/phantun/main/images/traffic-flow.png)\r\n\r\n# 目标\r\n* 高性能\r\n* 低并且可预测的 MTU overhead （用最小的数据包头部，最大限度的为 UDP payload 保留空间）\r\n* 多核友好\r\n* 低资源占用\r\n\r\n# 实现\r\n整个项目使用 Rust 实现，没有额外的依赖。I/O 部分使用了久经考验的 [Tokio]( https://tokio.rs)。在可能的情况下尽量避免了多进程之间的锁争抢（比如使用原子操作来增加 TCP SEQ/ACK ）。\r\n\r\nTCP 状态机部分做成了一个单独的库作为 Phantun 的依赖，方便在别的项目里集成：\r\n\r\nhttps://crates.io/crates/fake-tcp\r\n\r\n# 感想\r\n这是我第一个用 async Rust 写的程序，不得不说 async Rust 和 Tokio 的性能大大超出了我的预期。目前这个只有最基本优化的版本在单 CPU 和多 CPU 的情况下性能均超过了基于 libev 和 C++ 的 udp2raw 。Rust 的安全检查也非常的舒服，基本上编译通过了以后不会有任何内存问题的可能。Rust 的 `Drop` 支持对管理 TCP 的状态也是帮助非常大。总体来说，这个代码量不大的项目的开发效率，执行效率和稳定性都大大超出了我的预期。\r\n\r\n目前 Phantun 在几台机器上跑了一段时间，没有出现任何不稳定的现象，任何时候内存占用都未超过 2MB 。核心之间的 CPU 占用也很均匀。用 `perf` 看了一下火焰图，90% 以上的 CPU 时间都花在了内核态，说明 Tokio 的 runtime 实现是非常的高效的。\r\n\r\nRust 的 build 环境简直不要太舒服，交叉编译不同的架构也就是两行命令的事情，跟原来写 C 比起来开发体验上了一个档次。\r\n\r\n唯一的缺点就是 async Rust 因为 Futures 用的比较多，build 出来的二进制文件也比较大，超过了 6MB 。对比之下 udp2raw 的二进制文件只有 5 MB （而且代码量比 Phantun 要多了不少）。\r\n\r\n# 跟 udp2raw 的主要区别\r\n\r\nPhantun 的目标不是为了替代 udp2raw，从一开始 Phantun 就希望设计足够的简单高效，所以 udp2raw 支持的 ICMP 隧道，加密，防止重放等等功能 Phantun 都选择不实现。\r\n\r\nPhantun 假设 UDP 协议本身已经解决了这些问题，所以整个转发过程就是简单的明文换头加上一些必要的 TCP 状态控制信息。对于我日常使用的 WireGuard 来说，Phantun 这种设计是足够安全的，因为 WireGuard 的协议已经更好的实现了这些安全功能。\r\n\r\nPhantun 使用 TUN 接口来收发 3 层数据包，udp2raw 使用 Raw Socket + BFP 过滤器。个人感觉基于 TUN 的实现要稍微的 clean 一点，而且跨平台移植也要更容易（不过目前只做了 Linux 的支持）。\r\n\r\nPhantun 的 TCP 连接是按需创建的，只启动 Client 不会主动去连接服务器，需要第一个数据包到达了后才会按需创建。每个 UDP 流都有自己独立的 TCP 连接。这一点跟 udp2raw 很不一样，udp2raw 所有的 UDP 连接共用一个 TCP 连接。这样做的坏处就是 udp2raw 需要额外的头部信息来区分连接，更加增加了头部的开销。跟纯 UDP 比较，Phantun 每个数据包的额外头部开销是 12 byte，udp2raw 根据我的测试达到了 44 bytes 。\r\n\r\n跟 udp2raw 的详细功能和性能比较，请查看 [README.md]( https://github.com/dndx/phantun/blob/main/README.md)。","content_rendered":"<p>GitHub: <a href=\"https://github.com/dndx/phantun\" rel=\"nofollow\">https://github.com/dndx/phantun</a></p>\n<p>Crates: <a href=\"https://crates.io/crates/phantun\" rel=\"nofollow\">https://crates.io/crates/phantun</a></p>\n<p>Phantun 的初衷跟 @wangyucn 的 <a href=\"https://github.com/wangyu-/udp2raw-tunnel\" rel=\"nofollow\">udp2raw</a> 很类似，都是为了实现一种简单的用户态 TCP 状态机来对 UDP 流量做伪装。主要的目的是希望能让 UDP 流量看起来像是 TCP，又不希望受到 TCP retransmission 或者 congestion control 的影响。</p>\n<p><img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://raw.githubusercontent.com/dndx/phantun/main/images/traffic-flow.png\"/></p>\n<h1>目标</h1>\n<ul>\n<li>高性能</li>\n<li>低并且可预测的 MTU overhead （用最小的数据包头部，最大限度的为 UDP payload 保留空间）</li>\n<li>多核友好</li>\n<li>低资源占用</li>\n</ul>\n<h1>实现</h1>\n<p>整个项目使用 Rust 实现，没有额外的依赖。I/O 部分使用了久经考验的 <a href=\"https://tokio.rs\" rel=\"nofollow\">Tokio</a>。在可能的情况下尽量避免了多进程之间的锁争抢（比如使用原子操作来增加 TCP SEQ/ACK ）。</p>\n<p>TCP 状态机部分做成了一个单独的库作为 Phantun 的依赖，方便在别的项目里集成：</p>\n<p><a href=\"https://crates.io/crates/fake-tcp\" rel=\"nofollow\">https://crates.io/crates/fake-tcp</a></p>\n<h1>感想</h1>\n<p>这是我第一个用 async Rust 写的程序，不得不说 async Rust 和 Tokio 的性能大大超出了我的预期。目前这个只有最基本优化的版本在单 CPU 和多 CPU 的情况下性能均超过了基于 libev 和 C++ 的 udp2raw 。Rust 的安全检查也非常的舒服，基本上编译通过了以后不会有任何内存问题的可能。Rust 的 <code>Drop</code> 支持对管理 TCP 的状态也是帮助非常大。总体来说，这个代码量不大的项目的开发效率，执行效率和稳定性都大大超出了我的预期。</p>\n<p>目前 Phantun 在几台机器上跑了一段时间，没有出现任何不稳定的现象，任何时候内存占用都未超过 2MB 。核心之间的 CPU 占用也很均匀。用 <code>perf</code> 看了一下火焰图，90% 以上的 CPU 时间都花在了内核态，说明 Tokio 的 runtime 实现是非常的高效的。</p>\n<p>Rust 的 build 环境简直不要太舒服，交叉编译不同的架构也就是两行命令的事情，跟原来写 C 比起来开发体验上了一个档次。</p>\n<p>唯一的缺点就是 async Rust 因为 Futures 用的比较多，build 出来的二进制文件也比较大，超过了 6MB 。对比之下 udp2raw 的二进制文件只有 5 MB （而且代码量比 Phantun 要多了不少）。</p>\n<h1>跟 udp2raw 的主要区别</h1>\n<p>Phantun 的目标不是为了替代 udp2raw，从一开始 Phantun 就希望设计足够的简单高效，所以 udp2raw 支持的 ICMP 隧道，加密，防止重放等等功能 Phantun 都选择不实现。</p>\n<p>Phantun 假设 UDP 协议本身已经解决了这些问题，所以整个转发过程就是简单的明文换头加上一些必要的 TCP 状态控制信息。对于我日常使用的 WireGuard 来说，Phantun 这种设计是足够安全的，因为 WireGuard 的协议已经更好的实现了这些安全功能。</p>\n<p>Phantun 使用 TUN 接口来收发 3 层数据包，udp2raw 使用 Raw Socket + BFP 过滤器。个人感觉基于 TUN 的实现要稍微的 clean 一点，而且跨平台移植也要更容易（不过目前只做了 Linux 的支持）。</p>\n<p>Phantun 的 TCP 连接是按需创建的，只启动 Client 不会主动去连接服务器，需要第一个数据包到达了后才会按需创建。每个 UDP 流都有自己独立的 TCP 连接。这一点跟 udp2raw 很不一样，udp2raw 所有的 UDP 连接共用一个 TCP 连接。这样做的坏处就是 udp2raw 需要额外的头部信息来区分连接，更加增加了头部的开销。跟纯 UDP 比较，Phantun 每个数据包的额外头部开销是 12 byte，udp2raw 根据我的测试达到了 44 bytes 。</p>\n<p>跟 udp2raw 的详细功能和性能比较，请查看 <a href=\"https://github.com/dndx/phantun/blob/main/README.md\" rel=\"nofollow\">README.md</a>。</p>\n","last_modified":1632044626,"replies":8,"id":802949},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/a3c6/5c29/108_large.png?m=1620107025","name":"bb","avatar_normal":"https://cdn.v2ex.com/navatar/a3c6/5c29/108_normal.png?m=1620107025","title":"宽带症候群","url":"https://www.v2ex.com/go/bb","topics":9768,"footer":"","header":"网速很重要。比快更快。","title_alternative":"Broadband Symptom Complex","avatar_mini":"https://cdn.v2ex.com/navatar/a3c6/5c29/108_mini.png?m=1620107025","stars":5129,"aliases":[],"root":false,"id":108,"parent_node_name":"geek"},"member":{"username":"lychub","website":null,"github":null,"psn":null,"avatar_normal":"https://cdn.v2ex.com/gravatar/dd57a4450e35a9c797cea6826d8d7ce0?s=24&d=retro","bio":null,"url":"https://www.v2ex.com/u/lychub","tagline":null,"twitter":null,"created":1621174013,"avatar_large":"https://cdn.v2ex.com/gravatar/dd57a4450e35a9c797cea6826d8d7ce0?s=24&d=retro","avatar_mini":"https://cdn.v2ex.com/gravatar/dd57a4450e35a9c797cea6826d8d7ce0?s=24&d=retro","location":null,"btc":null,"id":545502},"last_reply_by":"alect","last_touched":1632046650,"title":"家宽公网 ip 访问问题","url":"https://www.v2ex.com/t/802944","created":1632041884,"content":"- 内网路由器跑服务比如 ssh 跑在`22`端口上\r\n- 问题:公网 ip 去访问的时候无法访问到，路由器也没发现 log\r\n\r\n\r\n已做尝试：\r\n1. `curl cip.cc`获取到的就是公网 ip\r\n2. `traceroute 公网 ip`返回只有一跳\r\n3. 防火墙配置应该也没有问题，因为之前是可以正常运行的","content_rendered":"<ul>\n<li>内网路由器跑服务比如 ssh 跑在<code>22</code>端口上</li>\n<li>问题:公网 ip 去访问的时候无法访问到，路由器也没发现 log</li>\n</ul>\n<p>已做尝试：</p>\n<ol>\n<li><code>curl <a href=\"http://cip.cc\" rel=\"nofollow\">cip.cc</a></code>获取到的就是公网 ip</li>\n<li><code>traceroute 公网 ip</code>返回只有一跳</li>\n<li>防火墙配置应该也没有问题，因为之前是可以正常运行的</li>\n</ol>\n","last_modified":1632041884,"replies":7,"id":802944},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/9f61/408e/56_large.png?m=1628212285","name":"internet","avatar_normal":"https://cdn.v2ex.com/navatar/9f61/408e/56_normal.png?m=1628212285","title":"互联网","url":"https://www.v2ex.com/go/internet","topics":2947,"footer":"","header":"In Internet we trust","title_alternative":"Internet","avatar_mini":"https://cdn.v2ex.com/navatar/9f61/408e/56_mini.png?m=1628212285","stars":913,"aliases":[],"root":false,"id":56,"parent_node_name":"computer"},"member":{"username":"kerro1990","website":null,"github":null,"psn":null,"avatar_normal":"https://cdn.v2ex.com/gravatar/847b85fc6b00eb3c7bf71e859e79c0f0?s=24&d=retro","bio":null,"url":"https://www.v2ex.com/u/kerro1990","tagline":null,"twitter":null,"created":1533673003,"avatar_large":"https://cdn.v2ex.com/gravatar/847b85fc6b00eb3c7bf71e859e79c0f0?s=24&d=retro","avatar_mini":"https://cdn.v2ex.com/gravatar/847b85fc6b00eb3c7bf71e859e79c0f0?s=24&d=retro","location":null,"btc":null,"id":339378},"last_reply_by":"lihua","last_touched":1632065699,"title":"国内可以用 Starlink 吗？","url":"https://www.v2ex.com/t/802977","created":1632061146,"content":"国内可以用 Starlink 吗？我看香港有人在用，网速还可以","content_rendered":"<p>国内可以用 Starlink 吗？我看香港有人在用，网速还可以</p>\n","last_modified":1632061146,"replies":6,"id":802977},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/9f61/408e/56_large.png?m=1628212285","name":"internet","avatar_normal":"https://cdn.v2ex.com/navatar/9f61/408e/56_normal.png?m=1628212285","title":"互联网","url":"https://www.v2ex.com/go/internet","topics":2947,"footer":"","header":"In Internet we trust","title_alternative":"Internet","avatar_mini":"https://cdn.v2ex.com/navatar/9f61/408e/56_mini.png?m=1628212285","stars":913,"aliases":[],"root":false,"id":56,"parent_node_name":"computer"},"member":{"username":"Merlini","website":null,"github":null,"psn":null,"avatar_normal":"https://cdn.v2ex.com/avatar/7458/c2b9/142484_mini.png?m=1453349789","bio":null,"url":"https://www.v2ex.com/u/Merlini","tagline":null,"twitter":null,"created":1444792243,"avatar_large":"https://cdn.v2ex.com/avatar/7458/c2b9/142484_mini.png?m=1453349789","avatar_mini":"https://cdn.v2ex.com/avatar/7458/c2b9/142484_mini.png?m=1453349789","location":null,"btc":null,"id":142484},"last_reply_by":"Pipecraft","last_touched":1631977372,"title":"这网站也太酷了","url":"https://www.v2ex.com/t/802940","created":1632040319,"content":"最近为了提高一下自己的网站审美，在 https://www.awwwards.com/ 上浏览了很多网站，有点被震惊。有些利用 WebGL 都可以做游戏了，感觉以后都是 canvas 的时代了，js 还得捡起来啊。\r\n我自己肯定是做不出来这些东西，虽然有一丢丢前端基础，但是几乎可以忽略不计。但是看到一些好玩的动画效果，总想着给自己的网站也搞一个。\r\n抛开那些非常花里胡哨的不谈，如果是简单的小动画，我该怎么模仿呢？ F12 好像也看不出什么。\r\n就比如 https://14islands.com/ 这个网站，里面的气泡交互和最后画画的部分做的都非常好看，感觉也没难到劝退的地步。想学习借鉴一下，但也不知道从哪入手。\r\n不知道各位前端大佬有没有比较推荐的学习方法，先在此谢过。","content_rendered":"<p>最近为了提高一下自己的网站审美，在 <a href=\"https://www.awwwards.com/\" rel=\"nofollow\">https://www.awwwards.com/</a> 上浏览了很多网站，有点被震惊。有些利用 WebGL 都可以做游戏了，感觉以后都是 canvas 的时代了，js 还得捡起来啊。\n我自己肯定是做不出来这些东西，虽然有一丢丢前端基础，但是几乎可以忽略不计。但是看到一些好玩的动画效果，总想着给自己的网站也搞一个。\n抛开那些非常花里胡哨的不谈，如果是简单的小动画，我该怎么模仿呢？ F12 好像也看不出什么。\n就比如 <a href=\"https://14islands.com/\" rel=\"nofollow\">https://14islands.com/</a> 这个网站，里面的气泡交互和最后画画的部分做的都非常好看，感觉也没难到劝退的地步。想学习借鉴一下，但也不知道从哪入手。\n不知道各位前端大佬有没有比较推荐的学习方法，先在此谢过。</p>\n","last_modified":1632041099,"replies":6,"id":802940}]