[{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":216245,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340","stars":4121,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"id":31325,"username":"nilai","url":"https://www.v2ex.com/u/nilai","website":"","twitter":"","psn":"","github":"","btc":"","location":"","tagline":"<good>","bio":"t00l","avatar_mini":"https://cdn.v2ex.com/avatar/b8a8/ace2/31325_mini.png?m=1675647694","avatar_normal":"https://cdn.v2ex.com/avatar/b8a8/ace2/31325_normal.png?m=1675647694","avatar_large":"https://cdn.v2ex.com/avatar/b8a8/ace2/31325_large.png?m=1675647694","created":1356514491,"last_modified":1675647694},"last_reply_by":"gbw1992","last_touched":1710291246,"title":"我造了个轮子,mysql 命令行的客户端","url":"https://www.v2ex.com/t/1023069","created":1710288082,"deleted":0,"content":"# mysql-go\r\nmysql-go\r\n\r\n\r\n---\r\n### 为什么有这个轮子\r\n- 在维护服务器时，一般需要进行 mysql 连接相关的测试，有的没有安装 mysql, 安装官方的 mysql 太麻烦，我想一个文件能搞定，无库文件依赖，全静态编译的单文件\r\n- mysql 官方的命令行客户端没有静态编译的版本(网上也没找到) (如果能提供类似需求的功能完善的轮子更好)\r\n- 一般紧急临时用，mysql 官方的命令行客户端体积很大，几百 M\r\n- 日常管理还是建议使用 navicate 之类的客户端\r\n\r\n### 仓库地址\r\n- https://github.com/xxoxx/mysql-go/\r\n### Feature\r\n- 类似 linux 下的 grep,这样在管理过程中就少写一些 where,like 等\r\n```\r\nmysql> show variables; | grep log_bin\r\nVariable_name   Value\r\nlog_bin ON\r\nlog_bin_basename        /var/lib/mysql/binlog\r\nlog_bin_index   /var/lib/mysql/binlog.index\r\nlog_bin_trust_function_creators OFF\r\nlog_bin_use_v1_row_events       OFF\r\nsql_log_bin     ON\r\n6 rows in set (0.01 sec)\r\n```\r\n  mysql> show variables; | grep binlog\r\n- 类似 linux 下的 grep -v 排除过滤 \r\n```\r\nmysql> show processlist; | grepv sleep\r\nId      User    Host    db      Command Time    State   Info\r\n5       event_scheduler localhost       NULL    Daemon  1902954 Waiting on empty queue  NULL\r\n115     root    192.168.3.101:63598     NULL    Query   0       init    show processlist\r\n2 rows in set (0.00 sec)\r\n```\r\n\r\n### 使用例子 基本跟官方的用法一至\r\n```\r\nmysql -uroot -p123456 -h127.0.0.1 -P3306\r\nmysql -u root -p 123456 -h 127.0.0.1 -P 3306\r\nmysql -uroot -p123456 -h127.0.0.1 -P3306 -Ddbname\r\nmysql -uroot -p123456 -h127.0.0.1 -P3306 -f xxx.sql\r\nmysql -uroot -p123456 -h127.0.0.1 -P3306 -Ddbname < xxx.sql\r\nmysql -uroot -p123456 -h127.0.0.1 -P3306 -Ddbname -e 'select * from users limit 10;'\r\n```\r\n\r\n### 安装\r\n```\r\nwget https://gitee.com/tinatmp/mysql/releases/download/mysql/mysql_linux -O /usr/local/bin/mysql  chmod +x /usr/local/bin/mysql\r\n```\r\n\r\n### 其它\r\n- 兼容 mysql5.7 mysql8 tidb\r\n- 测试不全，可能存在 bug","content_rendered":"<h1>mysql-go</h1>\n<p>mysql-go</p>\n<hr/>\n<h3>为什么有这个轮子</h3>\n<ul>\n<li>在维护服务器时，一般需要进行 mysql 连接相关的测试，有的没有安装 mysql, 安装官方的 mysql 太麻烦，我想一个文件能搞定，无库文件依赖，全静态编译的单文件</li>\n<li>mysql 官方的命令行客户端没有静态编译的版本(网上也没找到) (如果能提供类似需求的功能完善的轮子更好)</li>\n<li>一般紧急临时用，mysql 官方的命令行客户端体积很大，几百 M</li>\n<li>日常管理还是建议使用 navicate 之类的客户端</li>\n</ul>\n<h3>仓库地址</h3>\n<ul>\n<li><a href=\"https://github.com/xxoxx/mysql-go/\" rel=\"nofollow\">https://github.com/xxoxx/mysql-go/</a></li>\n</ul>\n<h3>Feature</h3>\n<ul>\n<li>类似 linux 下的 grep,这样在管理过程中就少写一些 where,like 等</li>\n</ul>\n<pre><code>mysql&gt; show variables; | grep log_bin\nVariable_name   Value\nlog_bin ON\nlog_bin_basename        /var/lib/mysql/binlog\nlog_bin_index   /var/lib/mysql/binlog.index\nlog_bin_trust_function_creators OFF\nlog_bin_use_v1_row_events       OFF\nsql_log_bin     ON\n6 rows in set (0.01 sec)\n</code></pre>\n<p>mysql&gt; show variables; | grep binlog</p>\n<ul>\n<li>类似 linux 下的 grep -v 排除过滤 </li>\n</ul>\n<pre><code>mysql&gt; show processlist; | grepv sleep\nId      User    Host    db      Command Time    State   Info\n5       event_scheduler localhost       NULL    Daemon  1902954 Waiting on empty queue  NULL\n115     root    192.168.3.101:63598     NULL    Query   0       init    show processlist\n2 rows in set (0.00 sec)\n</code></pre>\n<h3>使用例子 基本跟官方的用法一至</h3>\n<pre><code>mysql -uroot -p123456 -h127.0.0.1 -P3306\nmysql -u root -p 123456 -h 127.0.0.1 -P 3306\nmysql -uroot -p123456 -h127.0.0.1 -P3306 -Ddbname\nmysql -uroot -p123456 -h127.0.0.1 -P3306 -f xxx.sql\nmysql -uroot -p123456 -h127.0.0.1 -P3306 -Ddbname &lt; xxx.sql\nmysql -uroot -p123456 -h127.0.0.1 -P3306 -Ddbname -e 'select * from users limit 10;'\n</code></pre>\n<h3>安装</h3>\n<pre><code>wget https://gitee.com/tinatmp/mysql/releases/download/mysql/mysql_linux -O /usr/local/bin/mysql  chmod +x /usr/local/bin/mysql\n</code></pre>\n<h3>其它</h3>\n<ul>\n<li>兼容 mysql5.7 mysql8 tidb</li>\n<li>测试不全，可能存在 bug</li>\n</ul>\n","last_modified":1710288082,"replies":9,"id":1023069}]