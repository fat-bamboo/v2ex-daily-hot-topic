[{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1651385949","name":"programmer","avatar_normal":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1651385949","title":"程序员","url":"https://www.v2ex.com/go/programmer","topics":48762,"footer":"","header":"While code monkeys are not eating bananas, they're coding.","title_alternative":"Programmer","avatar_mini":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1651385949","stars":7822,"aliases":[],"root":false,"id":300,"parent_node_name":"computer"},"member":{"id":103835,"username":"babyoung","url":"https://www.v2ex.com/u/babyoung","website":"","twitter":null,"psn":null,"github":null,"btc":null,"location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/avatar/4df4/9b56/103835_mini.png?m=1650592026","avatar_normal":"https://cdn.v2ex.com/avatar/4df4/9b56/103835_normal.png?m=1650592026","avatar_large":"https://cdn.v2ex.com/avatar/4df4/9b56/103835_large.png?m=1650592026","created":1426049717,"last_modified":1650592026},"last_reply_by":"cLoudvSnOw","last_touched":1652673443,"title":"各位 这样的人还有救吗","url":"https://www.v2ex.com/t/853076","created":1652665089,"deleted":0,"content":"昨天（周日）去表哥家玩，得知了一个令人很头疼的事。\r\n我表哥和表姐（表哥亲妹）合伙经营了一家餐厅约 4 年多了，合伙生意难做尤其是亲戚之间，于是表姐夫两个人很早就提出要独立出去，但是折腾了两次都以失败告终。\r\n\r\n上周，表姐夫以找店为由，提前分红拿走 20 万，结果几天后他亲姐打电话过来告知情况，这些钱又输光了，注意这个“又”字。网赌是从去年开始的，刚开始这些钱都存在我表姐的账户上，他每次转钱之后都悄悄把信息删除，直到有次我表姐去取钱时发现卡里居然一分钱都没有了，半年不到，120 万左右的存款被陆陆续续输光了。这些钱是小餐饮辛辛苦苦 4 年多的血汗。\r\n\r\n表哥跑到浙江找到他，发生了激烈的争吵。表姐夫表示能输这么多钱就代表他能赚这么多钱，他现在遇到了很好的机会，要出国打工挣大钱，微信上某网友跟他说的，说他也是之前赌博一无所有之后出海云云。\r\n\r\n除去存款和表姐夫父母帮忙还的十几万，现在他自己说还欠约 10 万的网贷。这个数字我深表怀疑，实际欠款金额翻倍都不止。\r\n\r\n对于现在这个状况，我表示无奈，赌狗真的几乎没救。\r\n\r\n对于小平台的网贷，他这种情况，是否不还是更好的选择，毕竟很多是循环额度，我可以十分肯定他肯定会继续赌。\r\n\r\n重要的事情，是这种情况，是不是应该狠下心来早点离婚。\r\n\r\n听表姐跟我老婆在一旁谈话时，两个人在那边哭，就知道肯定是选择再给机会。\r\n\r\n身边因为赌博导致家破人亡的例子不在少数，真是。。。","content_rendered":"<p>昨天（周日）去表哥家玩，得知了一个令人很头疼的事。\n我表哥和表姐（表哥亲妹）合伙经营了一家餐厅约 4 年多了，合伙生意难做尤其是亲戚之间，于是表姐夫两个人很早就提出要独立出去，但是折腾了两次都以失败告终。</p>\n<p>上周，表姐夫以找店为由，提前分红拿走 20 万，结果几天后他亲姐打电话过来告知情况，这些钱又输光了，注意这个“又”字。网赌是从去年开始的，刚开始这些钱都存在我表姐的账户上，他每次转钱之后都悄悄把信息删除，直到有次我表姐去取钱时发现卡里居然一分钱都没有了，半年不到，120 万左右的存款被陆陆续续输光了。这些钱是小餐饮辛辛苦苦 4 年多的血汗。</p>\n<p>表哥跑到浙江找到他，发生了激烈的争吵。表姐夫表示能输这么多钱就代表他能赚这么多钱，他现在遇到了很好的机会，要出国打工挣大钱，微信上某网友跟他说的，说他也是之前赌博一无所有之后出海云云。</p>\n<p>除去存款和表姐夫父母帮忙还的十几万，现在他自己说还欠约 10 万的网贷。这个数字我深表怀疑，实际欠款金额翻倍都不止。</p>\n<p>对于现在这个状况，我表示无奈，赌狗真的几乎没救。</p>\n<p>对于小平台的网贷，他这种情况，是否不还是更好的选择，毕竟很多是循环额度，我可以十分肯定他肯定会继续赌。</p>\n<p>重要的事情，是这种情况，是不是应该狠下心来早点离婚。</p>\n<p>听表姐跟我老婆在一旁谈话时，两个人在那边哭，就知道肯定是选择再给机会。</p>\n<p>身边因为赌博导致家破人亡的例子不在少数，真是。。。</p>\n","last_modified":1652665089,"replies":85,"id":853076},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/e44f/ea3b/454_large.png?m=1571210070","name":"lol","avatar_normal":"https://cdn.v2ex.com/navatar/e44f/ea3b/454_normal.png?m=1571210070","title":"英雄联盟","url":"https://www.v2ex.com/go/lol","topics":348,"footer":"","header":"League of Legends (LoL) is a multiplayer online battle arena video game.","title_alternative":"League of Legends","avatar_mini":"https://cdn.v2ex.com/navatar/e44f/ea3b/454_mini.png?m=1571210070","stars":470,"aliases":[],"root":false,"id":454,"parent_node_name":"games"},"member":{"id":292801,"username":"UIXX","url":"https://www.v2ex.com/u/UIXX","website":"","twitter":"","psn":"","github":"","btc":"","location":"深圳","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/avatar/8f12/ff0a/292801_mini.png?m=1522204742","avatar_normal":"https://cdn.v2ex.com/avatar/8f12/ff0a/292801_normal.png?m=1522204742","avatar_large":"https://cdn.v2ex.com/avatar/8f12/ff0a/292801_large.png?m=1522204742","created":1519111801,"last_modified":1522204742},"last_reply_by":"1sm23","last_touched":1652669360,"title":"抛砖引玉，有没有人关注此次 MSI 赛事","url":"https://www.v2ex.com/t/853071","created":1652663708,"deleted":0,"content":"想知道 V2er 对此次各种场外的看法。","content_rendered":"<p>想知道 V2er 对此次各种场外的看法。</p>\n","last_modified":1652663708,"replies":27,"id":853071},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/0f84/0be9/959_large.png?m=1599117046","name":"switch","avatar_normal":"https://cdn.v2ex.com/navatar/0f84/0be9/959_normal.png?m=1599117046","title":"Nintendo Switch","url":"https://www.v2ex.com/go/switch","topics":394,"footer":"","header":"任天堂 Switch（日语：ニンテンドースイッチ，英语：Nintendo Switch）是日本任天堂公司出品的电子游戏机，于 2017 年 3 月 3 日开始发售。","title_alternative":"Nintendo Switch","avatar_mini":"https://cdn.v2ex.com/navatar/0f84/0be9/959_mini.png?m=1599117046","stars":1212,"aliases":[],"root":false,"id":959,"parent_node_name":"consoles"},"member":{"id":36993,"username":"julyclyde","url":"https://www.v2ex.com/u/julyclyde","website":"http://julyclyde.org","twitter":"","psn":"","github":"julyclyde","btc":"","location":"深圳","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/gravatar/4dae02ea3d84a8c34fec215b261bfb5f?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/4dae02ea3d84a8c34fec215b261bfb5f?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/4dae02ea3d84a8c34fec215b261bfb5f?s=73&d=retro","created":1364962310,"last_modified":1364962310},"last_reply_by":"julyclyde","last_touched":1652673218,"title":"DNS 给 switch 加速到底啥原理？","url":"https://www.v2ex.com/t/853106","created":1652669902,"deleted":0,"content":"难道是厂家用的 CDN 太差了，以至于需要客户亲自改 DNS ？？","content_rendered":"<p>难道是厂家用的 CDN 太差了，以至于需要客户亲自改 DNS ？？</p>\n","last_modified":1652669902,"replies":22,"id":853106},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":184763,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340","stars":3476,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"id":290777,"username":"leewi9coder","url":"https://www.v2ex.com/u/leewi9coder","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/gravatar/b7a0a8ac565327c4ccd4a6780a2d043e?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/b7a0a8ac565327c4ccd4a6780a2d043e?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/b7a0a8ac565327c4ccd4a6780a2d043e?s=73&d=retro","created":1518093541,"last_modified":1518093541},"last_reply_by":"ZeawinL","last_touched":1652671234,"title":"用电烧开的水和用煤气（火）烧开的水有什么区别？","url":"https://www.v2ex.com/t/853079","created":1652665764,"deleted":0,"content":"这两种方法得到的开水，会有什么区别吗？会不会有一些玄学方面的区别？\r\n\r\n注：主要是考虑最后得到的水的区别，煤气比电贵这种不是关注点","content_rendered":"<p>这两种方法得到的开水，会有什么区别吗？会不会有一些玄学方面的区别？</p>\n<p>注：主要是考虑最后得到的水的区别，煤气比电贵这种不是关注点</p>\n","last_modified":1652665764,"replies":22,"id":853079},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/70ef/df2e/17_large.png?m=1650095309","name":"create","avatar_normal":"https://cdn.v2ex.com/navatar/70ef/df2e/17_normal.png?m=1650095309","title":"分享创造","url":"https://www.v2ex.com/go/create","topics":17772,"footer":"","header":"欢迎你在这里发布自己的最新作品！","title_alternative":"Create","avatar_mini":"https://cdn.v2ex.com/navatar/70ef/df2e/17_mini.png?m=1650095309","stars":4345,"aliases":[],"root":false,"id":17,"parent_node_name":"geek"},"member":{"id":524925,"username":"Bruce2077","url":"https://www.v2ex.com/u/Bruce2077","website":"","twitter":null,"psn":null,"github":null,"btc":null,"location":"","tagline":"","bio":"iOS 开发，独立作品： \r\n① Eul：SwiftUI & Combine 简明教程\r\n② FontsX：在任意 app 输入特殊字体\r\n\r\n详情请戳：\r\nhttps://apps.apple.com/cn/developer/ke-zeng/id1322330151","avatar_mini":"https://cdn.v2ex.com/avatar/f231/a9dd/524925_mini.png?m=1617358708","avatar_normal":"https://cdn.v2ex.com/avatar/f231/a9dd/524925_normal.png?m=1617358708","avatar_large":"https://cdn.v2ex.com/avatar/f231/a9dd/524925_large.png?m=1617358708","created":1608542773,"last_modified":1617358708},"last_reply_by":"neptuno","last_touched":1652669105,"title":"[送码] 🎉 Eul - SwiftUI、Concurrency 简明教程","url":"https://www.v2ex.com/t/853068","created":1652662868,"deleted":0,"content":"✅ Eul 1.5.0 已发布，新增了极其重要的 Concurrency 。耗时比预期长，不过最终补上了这个缺口，Eul 因此更完善了。\r\n\r\n🎉 为庆祝这一阶段性成果，十枚兑换码赠予有缘人。同时推出为期三天的 [加量减价] 折扣活动：5.16-5.18 六折。\r\n\r\n😍 如果喜欢 Eul ，请不吝评价&分享，这是对我最大的鼓励和支持，谢谢 : )\r\n\r\n⏬ 下载链接：[App Store]( https://apps.apple.com/app/id1541991958)，也可以直接搜索 Eul 或 SwiftUI 。\r\n\r\n兑换码：\r\n\r\n473PLT6PMREK\r\n\r\n37KXFKKMAW7P\r\n\r\nRENRMMPK97MY\r\n\r\nRLXJMLYKJLH3\r\n\r\nT4M97WL9HHEW\r\n\r\nMELNE6EJKYHX\r\n\r\nKP974H3PXTMR\r\n\r\nAA7JK4KPKF33\r\n\r\nTXAX4YXJ667P\r\n\r\nY439KEEMRHTR","content_rendered":"<p>✅ Eul 1.5.0 已发布，新增了极其重要的 Concurrency 。耗时比预期长，不过最终补上了这个缺口，Eul 因此更完善了。</p>\n<p>🎉 为庆祝这一阶段性成果，十枚兑换码赠予有缘人。同时推出为期三天的 [加量减价] 折扣活动：5.16-5.18 六折。</p>\n<p>😍 如果喜欢 Eul ，请不吝评价&amp;分享，这是对我最大的鼓励和支持，谢谢 : )</p>\n<p>⏬ 下载链接：<a href=\"https://apps.apple.com/app/id1541991958\" rel=\"nofollow\">App Store</a>，也可以直接搜索 Eul 或 SwiftUI 。</p>\n<p>兑换码：</p>\n<p>473PLT6PMREK</p>\n<p>37KXFKKMAW7P</p>\n<p>RENRMMPK97MY</p>\n<p>RLXJMLYKJLH3</p>\n<p>T4M97WL9HHEW</p>\n<p>MELNE6EJKYHX</p>\n<p>KP974H3PXTMR</p>\n<p>AA7JK4KPKF33</p>\n<p>TXAX4YXJ667P</p>\n<p>Y439KEEMRHTR</p>\n","last_modified":1652662868,"replies":21,"id":853068},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/84d9/ee44/199_large.png?m=1622708018","name":"dns","avatar_normal":"https://cdn.v2ex.com/navatar/84d9/ee44/199_normal.png?m=1622708018","title":"DNS","url":"https://www.v2ex.com/go/dns","topics":1790,"footer":"","header":"互联网基础协议——DNS","title_alternative":"DNS","avatar_mini":"https://cdn.v2ex.com/navatar/84d9/ee44/199_mini.png?m=1622708018","stars":2096,"aliases":[],"root":false,"id":199,"parent_node_name":"devops"},"member":{"id":512082,"username":"superkkk","url":"https://www.v2ex.com/u/superkkk","website":"","twitter":null,"psn":null,"github":null,"btc":null,"location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/gravatar/51cd8d26b8cc22cdf3cd3240df81bbd0?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/51cd8d26b8cc22cdf3cd3240df81bbd0?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/51cd8d26b8cc22cdf3cd3240df81bbd0?s=73&d=retro","created":1602381764,"last_modified":1602381764},"last_reply_by":"ncepuzs","last_touched":1652673125,"title":"阿里 dns 故意把百度域名解析到境外","url":"https://www.v2ex.com/t/853091","created":1652667954,"deleted":0,"content":"服务器上搞了个 adg 的 dns 服务,发现一使用阿里的 dns,百度就会特别慢甚至打不开,查询日志后发现阿里的 dns 会把很多国内的域名解析到国外去.我没有代理 dns\r\n\r\n如图\r\nhttps://s2.loli.net/2022/05/16/RzHEnPyoWY1pQaA.jpg\r\n\r\nIP 地址: 103.235.46.39 香港 百度云","content_rendered":"<p>服务器上搞了个 adg 的 dns 服务,发现一使用阿里的 dns,百度就会特别慢甚至打不开,查询日志后发现阿里的 dns 会把很多国内的域名解析到国外去.我没有代理 dns</p>\n<p>如图\n<a href=\"https://s2.loli.net/2022/05/16/RzHEnPyoWY1pQaA.jpg\" rel=\"nofollow\">https://s2.loli.net/2022/05/16/RzHEnPyoWY1pQaA.jpg</a></p>\n<p>IP 地址: 103.235.46.39 香港 百度云</p>\n","last_modified":1652667954,"replies":13,"id":853091},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":184768,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340","stars":3476,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"id":494590,"username":"scanjx","url":"https://www.v2ex.com/u/scanjx","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/avatar/01b2/3a9b/494590_mini.png?m=1652671715","avatar_normal":"https://cdn.v2ex.com/avatar/01b2/3a9b/494590_normal.png?m=1652671715","avatar_large":"https://cdn.v2ex.com/avatar/01b2/3a9b/494590_large.png?m=1652671715","created":1592051655,"last_modified":1652671715},"last_reply_by":"BrookO","last_touched":1652673442,"title":"大家的收入到底有多高，每次看到各位发的，我都不好意思跟帖了","url":"https://www.v2ex.com/t/853121","created":1652671727,"deleted":0,"content":"上次看到一个租房贴，看到大家的收入我叹为观止，所以想要了解一下大家的收入到底有多高，真实为主","content_rendered":"<p>上次看到一个租房贴，看到大家的收入我叹为观止，所以想要了解一下大家的收入到底有多高，真实为主</p>\n","last_modified":1652671727,"replies":11,"id":853121},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/6512/bd43/11_large.png?m=1651565926","name":"linux","avatar_normal":"https://cdn.v2ex.com/navatar/6512/bd43/11_normal.png?m=1651565926","title":"Linux","url":"https://www.v2ex.com/go/linux","topics":6693,"footer":"","header":"Linux is a Unix-like computer operating system assembled under the model of free and open source software development and distribution.","title_alternative":"Linux","avatar_mini":"https://cdn.v2ex.com/navatar/6512/bd43/11_mini.png?m=1651565926","stars":5795,"aliases":[],"root":false,"id":11,"parent_node_name":"os"},"member":{"id":124980,"username":"pwrliang","url":"https://www.v2ex.com/u/pwrliang","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/gravatar/1c2e3fc7ee48facbd404334894f83527?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/1c2e3fc7ee48facbd404334894f83527?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/1c2e3fc7ee48facbd404334894f83527?s=73&d=retro","created":1435679087,"last_modified":1652670842},"last_reply_by":"wslzy007","last_touched":1652673182,"title":"[讨论] 为何 epoll_wait 有性能瓶颈？","url":"https://www.v2ex.com/t/853120","created":1652671408,"deleted":0,"content":"使用 Linux 提供的[benchmark 工具]( https://github.com/torvalds/linux/tree/master/tools/perf/bench)perf 测试如下\r\n\r\n```\r\n机器 28 个核\r\n-m 每个读线程使用独立的 epfd\r\n-t 读线程的数量\r\n-r 执行 benchmark 的时间（给 2 秒跑的快些，默认 8 秒）\r\n```\r\n\r\n\r\n```bash\r\n./perf bench epoll wait -m -t 1 -r 2\r\n# Running 'epoll/wait' benchmark:\r\nRun summary [PID 23298]: 1 threads monitoring on 64 file-descriptors for 2 secs.\r\n\r\n[thread  0] fdmap: 0x27e0260 ... 0x27e035c [ 525069 ops/sec ]\r\n\r\nAveraged 525069 operations/sec (+- 0.00%), total secs = 2\r\n\r\n./perf bench epoll wait -m -t 2 -r 2\r\n# Running 'epoll/wait' benchmark:\r\nRun summary [PID 23312]: 2 threads monitoring on 64 file-descriptors for 2 secs.\r\n\r\n[thread  0] fdmap: 0x1bec260 ... 0x1bec35c [ 463399 ops/sec ]\r\n[thread  1] fdmap: 0x1bec5f0 ... 0x1bec6ec [ 463392 ops/sec ]\r\n\r\nAveraged 463395 operations/sec (+- 0.00%), total secs = 2\r\n\r\n\r\n./perf bench epoll wait -m -t 4 -r 2\r\n# Running 'epoll/wait' benchmark:\r\nRun summary [PID 23319]: 4 threads monitoring on 64 file-descriptors for 2 secs.\r\n\r\n[thread  0] fdmap: 0x22ea260 ... 0x22ea35c [ 208576 ops/sec ]\r\n[thread  1] fdmap: 0x22ea5f0 ... 0x22ea6ec [ 208576 ops/sec ]\r\n[thread  2] fdmap: 0x22ea980 ... 0x22eaa7c [ 208576 ops/sec ]\r\n[thread  3] fdmap: 0x22ead10 ... 0x22eae0c [ 208565 ops/sec ]\r\n\r\nAveraged 208573 operations/sec (+- 0.00%), total secs = 2\r\n\r\n./perf bench epoll wait -m -t 8 -r 2\r\n# Running 'epoll/wait' benchmark:\r\nRun summary [PID 23328]: 8 threads monitoring on 64 file-descriptors for 2 secs.\r\n\r\n[thread  0] fdmap: 0x1832370 ... 0x183246c [ 150848 ops/sec ]\r\n[thread  1] fdmap: 0x1832700 ... 0x18327fc [ 150848 ops/sec ]\r\n[thread  2] fdmap: 0x1832a90 ... 0x1832b8c [ 150848 ops/sec ]\r\n[thread  3] fdmap: 0x1832e20 ... 0x1832f1c [ 150848 ops/sec ]\r\n[thread  4] fdmap: 0x18331b0 ... 0x18332ac [ 150848 ops/sec ]\r\n[thread  5] fdmap: 0x1833540 ... 0x183363c [ 150844 ops/sec ]\r\n[thread  6] fdmap: 0x18338d0 ... 0x18339cc [ 150824 ops/sec ]\r\n[thread  7] fdmap: 0x1833c60 ... 0x1833d5c [ 150816 ops/sec ]\r\n\r\nAveraged 150840 operations/sec (+- 0.00%), total secs = 2\r\n```\r\n\r\n可以看到每秒执行的的 epoll_wait 数量在减少，变化的参数是线程数，每个读线程调用 epoll_wait 等待 64 个 fd ，一个写线程向所有读线程的所有 fd 写入数据。然后打印的结果是每个读线程每秒能完成的 epoll_wait 数量\r\n\r\n按理说，每个读线程都有独立的 epfd ，线程间没有资源共享，为何吞吐量（每秒执行的 epoll 数量）会下降？","content_rendered":"<p>使用 Linux 提供的<a href=\"https://github.com/torvalds/linux/tree/master/tools/perf/bench\" rel=\"nofollow\">benchmark 工具</a>perf 测试如下</p>\n<pre><code>机器 28 个核\n-m 每个读线程使用独立的 epfd\n-t 读线程的数量\n-r 执行 benchmark 的时间（给 2 秒跑的快些，默认 8 秒）\n</code></pre>\n<pre><code class=\"language-bash\">./perf bench epoll wait -m -t 1 -r 2\n# Running 'epoll/wait' benchmark:\nRun summary [PID 23298]: 1 threads monitoring on 64 file-descriptors for 2 secs.\n\n[thread  0] fdmap: 0x27e0260 ... 0x27e035c [ 525069 ops/sec ]\n\nAveraged 525069 operations/sec (+- 0.00%), total secs = 2\n\n./perf bench epoll wait -m -t 2 -r 2\n# Running 'epoll/wait' benchmark:\nRun summary [PID 23312]: 2 threads monitoring on 64 file-descriptors for 2 secs.\n\n[thread  0] fdmap: 0x1bec260 ... 0x1bec35c [ 463399 ops/sec ]\n[thread  1] fdmap: 0x1bec5f0 ... 0x1bec6ec [ 463392 ops/sec ]\n\nAveraged 463395 operations/sec (+- 0.00%), total secs = 2\n\n\n./perf bench epoll wait -m -t 4 -r 2\n# Running 'epoll/wait' benchmark:\nRun summary [PID 23319]: 4 threads monitoring on 64 file-descriptors for 2 secs.\n\n[thread  0] fdmap: 0x22ea260 ... 0x22ea35c [ 208576 ops/sec ]\n[thread  1] fdmap: 0x22ea5f0 ... 0x22ea6ec [ 208576 ops/sec ]\n[thread  2] fdmap: 0x22ea980 ... 0x22eaa7c [ 208576 ops/sec ]\n[thread  3] fdmap: 0x22ead10 ... 0x22eae0c [ 208565 ops/sec ]\n\nAveraged 208573 operations/sec (+- 0.00%), total secs = 2\n\n./perf bench epoll wait -m -t 8 -r 2\n# Running 'epoll/wait' benchmark:\nRun summary [PID 23328]: 8 threads monitoring on 64 file-descriptors for 2 secs.\n\n[thread  0] fdmap: 0x1832370 ... 0x183246c [ 150848 ops/sec ]\n[thread  1] fdmap: 0x1832700 ... 0x18327fc [ 150848 ops/sec ]\n[thread  2] fdmap: 0x1832a90 ... 0x1832b8c [ 150848 ops/sec ]\n[thread  3] fdmap: 0x1832e20 ... 0x1832f1c [ 150848 ops/sec ]\n[thread  4] fdmap: 0x18331b0 ... 0x18332ac [ 150848 ops/sec ]\n[thread  5] fdmap: 0x1833540 ... 0x183363c [ 150844 ops/sec ]\n[thread  6] fdmap: 0x18338d0 ... 0x18339cc [ 150824 ops/sec ]\n[thread  7] fdmap: 0x1833c60 ... 0x1833d5c [ 150816 ops/sec ]\n\nAveraged 150840 operations/sec (+- 0.00%), total secs = 2\n</code></pre>\n<p>可以看到每秒执行的的 epoll_wait 数量在减少，变化的参数是线程数，每个读线程调用 epoll_wait 等待 64 个 fd ，一个写线程向所有读线程的所有 fd 写入数据。然后打印的结果是每个读线程每秒能完成的 epoll_wait 数量</p>\n<p>按理说，每个读线程都有独立的 epfd ，线程间没有资源共享，为何吞吐量（每秒执行的 epoll 数量）会下降？</p>\n","last_modified":1652671408,"replies":8,"id":853120},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":184768,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340","stars":3476,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"id":558589,"username":"lekong9","url":"https://www.v2ex.com/u/lekong9","website":"","twitter":null,"psn":null,"github":null,"btc":null,"location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/gravatar/cdee9bfbd550efb8a7a7afc2281df404?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/cdee9bfbd550efb8a7a7afc2281df404?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/cdee9bfbd550efb8a7a7afc2281df404?s=73&d=retro","created":1634296923,"last_modified":1634296923},"last_reply_by":"lekong9","last_touched":1652669369,"title":"Windows 在与 time.Windows.com 进行同步时候出错","url":"https://www.v2ex.com/t/853098","created":1652668555,"deleted":0,"content":"大佬们有没有解决办法，网上搜了好多办法不太行","content_rendered":"<p>大佬们有没有解决办法，网上搜了好多办法不太行</p>\n","last_modified":1652668555,"replies":8,"id":853098},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":184763,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340","stars":3476,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"id":523310,"username":"erquren","url":"https://www.v2ex.com/u/erquren","website":"","twitter":null,"psn":null,"github":null,"btc":null,"location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/avatar/fc72/7a61/523310_mini.png?m=1611559519","avatar_normal":"https://cdn.v2ex.com/avatar/fc72/7a61/523310_normal.png?m=1611559519","avatar_large":"https://cdn.v2ex.com/avatar/fc72/7a61/523310_large.png?m=1611559519","created":1607649479,"last_modified":1611559519},"last_reply_by":"wangsyi13","last_touched":1652671944,"title":"Powershell 和 cmd 有什么区别？","url":"https://www.v2ex.com/t/853083","created":1652666523,"deleted":0,"content":"最近在用 pycharm 的时候发现 terminal 无法自动匹配 conda 环境，因为新版本的 pycharm 默认使用 powershell 作为终端环境了，无法初始化 conda ，切换为 cmd 后解决问题\r\n\r\n遂查询了下 powershell 和 cmd 的区别，说 powershell 能用 linux 的命令，可以跨平台使用，但是有什么情况需要跨平台使用？在 linux 下用 powershell ？不是很懂。","content_rendered":"最近在用 pycharm 的时候发现 terminal 无法自动匹配 conda 环境，因为新版本的 pycharm 默认使用 powershell 作为终端环境了，无法初始化 conda ，切换为 cmd 后解决问题<br /><br />遂查询了下 powershell 和 cmd 的区别，说 powershell 能用 linux 的命令，可以跨平台使用，但是有什么情况需要跨平台使用？在 linux 下用 powershell ？不是很懂。","last_modified":1652666523,"replies":8,"id":853083},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/4ea0/6fbc/770_large.png?m=1652462106","name":"career","avatar_normal":"https://cdn.v2ex.com/navatar/4ea0/6fbc/770_normal.png?m=1652462106","title":"职场话题","url":"https://www.v2ex.com/go/career","topics":13072,"footer":"","header":"这里，我们聊聊那些工作中遇到的开心和不开心的事。","title_alternative":"Career","avatar_mini":"https://cdn.v2ex.com/navatar/4ea0/6fbc/770_mini.png?m=1652462106","stars":2351,"aliases":[],"root":false,"id":770,"parent_node_name":"work"},"member":{"id":576363,"username":"bam9","url":"https://www.v2ex.com/u/bam9","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/gravatar/95fc685e9c84465b8522a9520d1d95e9?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/95fc685e9c84465b8522a9520d1d95e9?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/95fc685e9c84465b8522a9520d1d95e9?s=73&d=retro","created":1647941208,"last_modified":1647941208},"last_reply_by":"wonderfulcxm","last_touched":1652671685,"title":"今天听说有赞裁员 70%，有有赞内部人员出来说下是啥情况吗？","url":"https://www.v2ex.com/t/853081","created":1652666413,"deleted":0,"content":"","content_rendered":"","last_modified":1652671721,"replies":8,"id":853081},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/4c27/cea8/638_large.png?m=1637211135","name":"swift","avatar_normal":"https://cdn.v2ex.com/navatar/4c27/cea8/638_normal.png?m=1637211135","title":"Swift","url":"https://www.v2ex.com/go/swift","topics":290,"footer":"","header":"来自 Apple 的类型安全的编程语言。","title_alternative":"Swift","avatar_mini":"https://cdn.v2ex.com/navatar/4c27/cea8/638_mini.png?m=1637211135","stars":463,"aliases":[],"root":false,"id":638,"parent_node_name":"programming"},"member":{"id":551782,"username":"pubg1914","url":"https://www.v2ex.com/u/pubg1914","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/gravatar/bb3e9c75265e1246825db70d3392acbf?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/bb3e9c75265e1246825db70d3392acbf?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/bb3e9c75265e1246825db70d3392acbf?s=73&d=retro","created":1627270572,"last_modified":1627270572},"last_reply_by":"Innovatino","last_touched":1652668636,"title":"请问各位大佬，想自己学 Swift 做独立开发，请问要学 OC 吗。","url":"https://www.v2ex.com/t/853070","created":1652663413,"deleted":0,"content":"并不是为了找 IOS 开发的工作，我知道要是找工作的话是要学 OC 的。只是自己学学做独立开发。谢谢回答","content_rendered":"<p>并不是为了找 IOS 开发的工作，我知道要是找工作的话是要学 OC 的。只是自己学学做独立开发。谢谢回答</p>\n","last_modified":1652663413,"replies":8,"id":853070},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":184760,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340","stars":3476,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"id":512161,"username":"yaott2020","url":"https://www.v2ex.com/u/yaott2020","website":"","twitter":null,"psn":null,"github":null,"btc":null,"location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/gravatar/f94c53e47786a282f5f664b33ff73a1a?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/f94c53e47786a282f5f664b33ff73a1a?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/f94c53e47786a282f5f664b33ff73a1a?s=73&d=retro","created":1602426178,"last_modified":1648637847},"last_reply_by":"wslzy007","last_touched":1652664869,"title":"有没有一种协议是基于 TLS 的远程连接协议","url":"https://www.v2ex.com/t/853069","created":1652663204,"deleted":0,"content":"功能和 SSH 类似，但是是外层由 TLS 包裹，存在这种协议吗？","content_rendered":"功能和 SSH 类似，但是是外层由 TLS 包裹，存在这种协议吗？","last_modified":1652663204,"replies":7,"id":853069},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1651385949","name":"programmer","avatar_normal":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1651385949","title":"程序员","url":"https://www.v2ex.com/go/programmer","topics":48762,"footer":"","header":"While code monkeys are not eating bananas, they're coding.","title_alternative":"Programmer","avatar_mini":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1651385949","stars":7822,"aliases":[],"root":false,"id":300,"parent_node_name":"computer"},"member":{"id":491550,"username":"13936","url":"https://www.v2ex.com/u/13936","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/gravatar/e6c9ab35975a6206864b93ffdcdded13?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/e6c9ab35975a6206864b93ffdcdded13?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/e6c9ab35975a6206864b93ffdcdded13?s=73&d=retro","created":1590457162,"last_modified":1651645946},"last_reply_by":"fernandoxu","last_touched":1652673154,"title":"你人生中最引以为豪的一件事情是什么","url":"https://www.v2ex.com/t/853130","created":1652672144,"deleted":0,"content":"入体，分享一下。想听","content_rendered":"<p>入体，分享一下。想听</p>\n","last_modified":1652672144,"replies":6,"id":853130},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":184768,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340","stars":3476,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"id":315449,"username":"CSGO","url":"https://www.v2ex.com/u/CSGO","website":"wangyifang.com","twitter":"iYiFang","psn":"","github":"wyfang","btc":"","location":"China","tagline":"I'm Wi-Fi","bio":"V2EX开启自定义CSS，暗黑主题：\r\n@import url(\"//www.wangyifang.com/share/v2ex-dark/v2ex-dark.css\");","avatar_mini":"https://cdn.v2ex.com/avatar/ef71/2edc/315449_mini.png?m=1635224983","avatar_normal":"https://cdn.v2ex.com/avatar/ef71/2edc/315449_normal.png?m=1635224983","avatar_large":"https://cdn.v2ex.com/avatar/ef71/2edc/315449_large.png?m=1635224983","created":1525917683,"last_modified":1635224983},"last_reply_by":"zuiluo","last_touched":1652673454,"title":"谁知道这种画面网页代码怎么创出出来的？","url":"https://www.v2ex.com/t/853125","created":1652671883,"deleted":0,"content":"https://codepen.io/KilledByAPixel/pen/QWQyMbY\r\n\r\n它实际就一行代码：\r\n\r\nsetInterval('for(c.width=w=99,++t,i=6e3;i--;c.getContext`2d`.fillRect(i%w,i/w|0,1-d*Z/w+s,1))for(a=i%w/50-1,s=b=1-i/4e3,X=t,Y=Z=d=1;++Z<w&(Y<6-(32<Z&27<X%w&&X/9^Z/8)*8%46||d|(s=(X&Y&Z)%3/Z,a=b=1,d=Z/w));Y-=b)X+=a',t=9)\r\n\r\n但是作者是怎么做的呢？如何用一行代码弄出一个城市的画面？思路是啥？","content_rendered":"<a target=\"_blank\" href=\"https://codepen.io/KilledByAPixel/pen/QWQyMbY\" rel=\"nofollow noopener\">https://codepen.io/KilledByAPixel/pen/QWQyMbY</a><br /><br />它实际就一行代码：<br /><br />setInterval('for(c.width=w=99,++t,i=6e3;i--;c.getContext`2d`.fillRect(i%w,i/w|0,1-d*Z/w+s,1))for(a=i%w/50-1,s=b=1-i/4e3,X=t,Y=Z=d=1;++Z&lt;w&amp;(Y&lt;6-(32&lt;Z&amp;27&lt;X%w&amp;&amp;X/9^Z/8)*8%46||d|(s=(X&amp;Y&amp;Z)%3/Z,a=b=1,d=Z/w));Y-=b)X+=a',t=9)<br /><br />但是作者是怎么做的呢？如何用一行代码弄出一个城市的画面？思路是啥？","last_modified":1652671883,"replies":6,"id":853125},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":184763,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340","stars":3476,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"id":429891,"username":"idragonet","url":"https://www.v2ex.com/u/idragonet","website":"","twitter":null,"psn":null,"github":null,"btc":null,"location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/avatar/3acd/5809/429891_mini.png?m=1652601471","avatar_normal":"https://cdn.v2ex.com/avatar/3acd/5809/429891_normal.png?m=1652601471","avatar_large":"https://cdn.v2ex.com/avatar/3acd/5809/429891_large.png?m=1652601471","created":1563323820,"last_modified":1652601471},"last_reply_by":"MrTLJH","last_touched":1652601996,"title":"如何避免夜尿？","url":"https://www.v2ex.com/t/853080","created":1652666118,"deleted":0,"content":"现在每晚起码一次，影响睡眠质量！计划尝试 21 点后不喝水，看看能否避免？","content_rendered":"现在每晚起码一次，影响睡眠质量！计划尝试 21 点后不喝水，看看能否避免？","last_modified":1652666118,"replies":6,"id":853080},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1651385949","name":"programmer","avatar_normal":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1651385949","title":"程序员","url":"https://www.v2ex.com/go/programmer","topics":48760,"footer":"","header":"While code monkeys are not eating bananas, they're coding.","title_alternative":"Programmer","avatar_mini":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1651385949","stars":7822,"aliases":[],"root":false,"id":300,"parent_node_name":"computer"},"member":{"id":579531,"username":"ranxi","url":"https://www.v2ex.com/u/ranxi","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/gravatar/450577c111d550422d7d04b0f76a182a?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/450577c111d550422d7d04b0f76a182a?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/450577c111d550422d7d04b0f76a182a?s=73&d=retro","created":1651114063,"last_modified":1651114063},"last_reply_by":"Ev1s","last_touched":1652669263,"title":"各位，在工作或生活上有没有一直在坚持的好习惯","url":"https://www.v2ex.com/t/853078","created":1652665631,"deleted":0,"content":"","content_rendered":"","last_modified":1652665631,"replies":6,"id":853078},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/0f84/0be9/959_large.png?m=1599117046","name":"switch","avatar_normal":"https://cdn.v2ex.com/navatar/0f84/0be9/959_normal.png?m=1599117046","title":"Nintendo Switch","url":"https://www.v2ex.com/go/switch","topics":393,"footer":"","header":"任天堂 Switch（日语：ニンテンドースイッチ，英语：Nintendo Switch）是日本任天堂公司出品的电子游戏机，于 2017 年 3 月 3 日开始发售。","title_alternative":"Nintendo Switch","avatar_mini":"https://cdn.v2ex.com/navatar/0f84/0be9/959_mini.png?m=1599117046","stars":1212,"aliases":[],"root":false,"id":959,"parent_node_name":"consoles"},"member":{"id":130918,"username":"bojackhorseman","url":"https://www.v2ex.com/u/bojackhorseman","website":"","twitter":"","psn":"","github":"","btc":"","location":"","tagline":"","bio":"路漫漫其修远兮","avatar_mini":"https://cdn.v2ex.com/avatar/93f3/ada6/130918_mini.png?m=1478170819","avatar_normal":"https://cdn.v2ex.com/avatar/93f3/ada6/130918_normal.png?m=1478170819","avatar_large":"https://cdn.v2ex.com/avatar/93f3/ada6/130918_large.png?m=1478170819","created":1438774026,"last_modified":1478170819},"last_reply_by":"ngrok111","last_touched":1652669058,"title":"ns 联网提示“nat 穿透失败”怎么办😢","url":"https://www.v2ex.com/t/853066","created":1652660049,"deleted":0,"content":"<div class=\"markdown_body\">\n 目前使用手机 Quantumult X 开启 tunnel ，然后 switch wifi 设置代理，网络连接没有问题，但是测试网络会失败，nat 类型为 B \n <br>\n <br>eshop 可以正常访问，但游戏内在线联网一直失败，提示“nat 穿透失败”，请问有什么解决办法吗😐\n</div>","content_rendered":"<div>\n 目前使用手机 Quantumult X 开启 tunnel ，然后 switch wifi 设置代理，网络连接没有问题，但是测试网络会失败，nat 类型为 B \n <br/>\n<br/>eshop 可以正常访问，但游戏内在线联网一直失败，提示“nat 穿透失败”，请问有什么解决办法吗😐\n</div>","last_modified":1652660110,"replies":6,"id":853066}]