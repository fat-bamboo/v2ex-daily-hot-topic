[{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":194273,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340","stars":3649,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"id":413288,"username":"EminemW","url":"https://www.v2ex.com/u/EminemW","website":"","twitter":"","psn":"","github":"","btc":"","location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/avatar/135d/bc80/413288_mini.png?m=1656078261","avatar_normal":"https://cdn.v2ex.com/avatar/135d/bc80/413288_normal.png?m=1656078261","avatar_large":"https://cdn.v2ex.com/avatar/135d/bc80/413288_large.png?m=1656078261","avatar_xlarge":"https://cdn.v2ex.com/avatar/135d/bc80/413288_xlarge.png?m=1656078261","avatar_xxlarge":"https://cdn.v2ex.com/avatar/135d/bc80/413288_xlarge.png?m=1656078261","avatar_xxxlarge":"https://cdn.v2ex.com/avatar/135d/bc80/413288_xlarge.png?m=1656078261","created":1558102644,"last_modified":1656078261},"last_reply_by":"xfxz","last_touched":1670662629,"title":"买不到布洛芬怎么办","url":"https://www.v2ex.com/t/901507","created":1670646828,"deleted":0,"content":"京东、淘宝、美团都找不到有货的，本地药店也没找到。","content_rendered":"<p>京东、淘宝、美团都找不到有货的，本地药店也没找到。</p>\n","last_modified":1670646828,"replies":51,"id":901507},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":194273,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340","stars":3649,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"id":433132,"username":"daimubai","url":"https://www.v2ex.com/u/daimubai","website":"","twitter":null,"psn":null,"github":null,"btc":null,"location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/gravatar/cbca3e22a690abdd72af08a92e9ee0a4?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/cbca3e22a690abdd72af08a92e9ee0a4?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/cbca3e22a690abdd72af08a92e9ee0a4?s=73&d=retro","created":1564544533,"last_modified":1564544533},"last_reply_by":"twinsdestiny","last_touched":1670605693,"title":"过年反而不敢回家了","url":"https://www.v2ex.com/t/901483","created":1670638311,"deleted":0,"content":"之前是想着如果防控严的话回家要隔离就不回去了。现在是想着都放开了怕回去的时候传染给家里人。自己倒还好，主要家里有老人和婴儿，怎么说，大家过年正常回吗","content_rendered":"<p>之前是想着如果防控严的话回家要隔离就不回去了。现在是想着都放开了怕回去的时候传染给家里人。自己倒还好，主要家里有老人和婴儿，怎么说，大家过年正常回吗</p>\n","last_modified":1670638311,"replies":46,"id":901483},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1670445459","name":"programmer","avatar_normal":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1670445459","title":"程序员","url":"https://www.v2ex.com/go/programmer","topics":52378,"footer":"","header":"While code monkeys are not eating bananas, they're coding.","title_alternative":"Programmer","avatar_mini":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1670445459","stars":8112,"aliases":[],"root":false,"id":300,"parent_node_name":"computer"},"member":{"id":502673,"username":"orangerocky","url":"https://www.v2ex.com/u/orangerocky","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/avatar/ebc1/fcee/502673_mini.png?m=1596787331","avatar_normal":"https://cdn.v2ex.com/avatar/ebc1/fcee/502673_normal.png?m=1596787331","avatar_large":"https://cdn.v2ex.com/avatar/ebc1/fcee/502673_large.png?m=1596787331","created":1596708975,"last_modified":1596787331},"last_reply_by":"root01","last_touched":1670662066,"title":"今天加班的报个到🙋‍","url":"https://www.v2ex.com/t/901489","created":1670639560,"deleted":0,"content":"垃圾公司","content_rendered":"<p>垃圾公司</p>\n","last_modified":1670639560,"replies":44,"id":901489},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c74d/97b0/16_large.png?m=1650127281","name":"share","avatar_normal":"https://cdn.v2ex.com/navatar/c74d/97b0/16_normal.png?m=1650127281","title":"分享发现","url":"https://www.v2ex.com/go/share","topics":36902,"footer":"","header":"分享你看到的好玩的，有信息量的，欢迎从这里获取灵感。","title_alternative":"Share","avatar_mini":"https://cdn.v2ex.com/navatar/c74d/97b0/16_mini.png?m=1650127281","stars":5105,"aliases":[],"root":false,"id":16,"parent_node_name":"v2ex"},"member":{"id":570284,"username":"mariljacksoa","url":"https://www.v2ex.com/u/mariljacksoa","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/gravatar/0e34b31c32948d8bcd83867f5585e0b9?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/0e34b31c32948d8bcd83867f5585e0b9?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/0e34b31c32948d8bcd83867f5585e0b9?s=73&d=retro","created":1643200905,"last_modified":1645259635},"last_reply_by":"ChellFong","last_touched":1670662135,"title":"防止 PayPal 风控经验分享","url":"https://www.v2ex.com/t/901493","created":1670641086,"deleted":0,"content":"1⃣️注册的时候账单电话和地址不要填网上教程里面的，自己在注册地区搜一个地址，比如搜一个学校地址。身份信息如实填写\r\n2⃣️⚠️⚠️⚠️最重要‼️最关键的一点，使用 PayPal 的时候不要用 VPN ，你 IP 跳来跳去人家不风控你才怪，因为认为你的帐号存在风险。我的经验就是只要我使用 PayPal 我就关掉 VPN ，至今没被风控过。（注册 PayPal 也不用 VPN ，最好用微软邮箱，不用 VPN 也可以验证邮箱）\r\n⚠️要防止风控就要知道风控的原理，可以去 PayPal 官网学习一下，官网有的（不要被网上的一些教程误导了，比如有些教程说注册好之后要捐钱，其实也不用）\r\n3⃣️PayPal 可以绑定的银行卡应该大部分拥有外币功能的都可以（ visa 、万事达…），我推荐是浦发 ego 卡，一下子可以拥有三张外币卡，有兴趣可以了解一下，其他卡没试过。\r\n4⃣️至于注册的时候手机验证问题，美区可以买 Google voice ，现在好像比较难买了；台区可以用修改代码方式用+86 手机接收验证码，其他区没试过不清楚。","content_rendered":"1⃣️注册的时候账单电话和地址不要填网上教程里面的，自己在注册地区搜一个地址，比如搜一个学校地址。身份信息如实填写<br />2⃣️⚠️⚠️⚠️最重要‼️最关键的一点，使用 PayPal 的时候不要用 VPN ，你 IP 跳来跳去人家不风控你才怪，因为认为你的帐号存在风险。我的经验就是只要我使用 PayPal 我就关掉 VPN ，至今没被风控过。（注册 PayPal 也不用 VPN ，最好用微软邮箱，不用 VPN 也可以验证邮箱）<br />⚠️要防止风控就要知道风控的原理，可以去 PayPal 官网学习一下，官网有的（不要被网上的一些教程误导了，比如有些教程说注册好之后要捐钱，其实也不用）<br />3⃣️PayPal 可以绑定的银行卡应该大部分拥有外币功能的都可以（ visa 、万事达…），我推荐是浦发 ego 卡，一下子可以拥有三张外币卡，有兴趣可以了解一下，其他卡没试过。<br />4⃣️至于注册的时候手机验证问题，美区可以买 Google voice ，现在好像比较难买了；台区可以用修改代码方式用+86 手机接收验证码，其他区没试过不清楚。","last_modified":1670641086,"replies":35,"id":901493},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c74d/97b0/16_large.png?m=1650127281","name":"share","avatar_normal":"https://cdn.v2ex.com/navatar/c74d/97b0/16_normal.png?m=1650127281","title":"分享发现","url":"https://www.v2ex.com/go/share","topics":36902,"footer":"","header":"分享你看到的好玩的，有信息量的，欢迎从这里获取灵感。","title_alternative":"Share","avatar_mini":"https://cdn.v2ex.com/navatar/c74d/97b0/16_mini.png?m=1650127281","stars":5105,"aliases":[],"root":false,"id":16,"parent_node_name":"v2ex"},"member":{"id":436062,"username":"huntagain2008","url":"https://www.v2ex.com/u/huntagain2008","website":"","twitter":null,"psn":null,"github":null,"btc":null,"location":"","tagline":"","bio":"小白","avatar_mini":"https://cdn.v2ex.com/gravatar/c78498f6c3f282be34f10448ef3820cb?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/c78498f6c3f282be34f10448ef3820cb?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/c78498f6c3f282be34f10448ef3820cb?s=73&d=retro","created":1565837889,"last_modified":1661152064},"last_reply_by":"twofox","last_touched":1670662470,"title":"三体动画马上在 b 站首播，还有不到一个小时，看了下 pv，感觉和小说差别很大","url":"https://www.v2ex.com/t/901482","created":1670637957,"deleted":0,"content":"","content_rendered":"","last_modified":1670637957,"replies":30,"id":901482},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/642e/92ef/48_large.png?m=1559027807","name":"tv","avatar_normal":"https://cdn.v2ex.com/navatar/642e/92ef/48_normal.png?m=1559027807","title":"剧集","url":"https://www.v2ex.com/go/tv","topics":768,"footer":"","header":"","title_alternative":"TV","avatar_mini":"https://cdn.v2ex.com/navatar/642e/92ef/48_mini.png?m=1559027807","stars":754,"aliases":[],"root":false,"id":48,"parent_node_name":"life"},"member":{"id":17013,"username":"allanpk716","url":"https://www.v2ex.com/u/allanpk716","website":"","twitter":"","psn":"","github":"","btc":"","location":"","tagline":"","bio":"希望你能理解，如果你不能，我是可以理解的。","avatar_mini":"https://cdn.v2ex.com/avatar/3ee2/f957/17013_mini.png?m=1334141985","avatar_normal":"https://cdn.v2ex.com/avatar/3ee2/f957/17013_normal.png?m=1334141985","avatar_large":"https://cdn.v2ex.com/avatar/3ee2/f957/17013_large.png?m=1334141985","created":1329925609,"last_modified":1334141985},"last_reply_by":"allanpk716","last_touched":1670660858,"title":"刚看了 B 站《三体》前两集，谈谈感想。有剧透，注意！","url":"https://www.v2ex.com/t/901528","created":1670653309,"deleted":0,"content":"今年才把《三体》三部一次性看完，正好碰上动画今年开播，还是挺高兴的。\r\n\r\n注意有后面的内容有剧透！\r\n\r\n先说结论，作为原著党，这动画能看，还不错的。\r\n\r\n之前看了这个动画的预告片，然后今天看了两集，说说喜欢和遗憾的：\r\n（仅仅是个人想法，非常主观，可能还记错了原书的细节。欢迎讨论）\r\n\r\n喜欢：\r\n1. 大史形象（外貌）比较符合心中的样子\r\n2. 秘书长娇小的女性，样貌符合心中的样子\r\n\r\n遗憾：\r\n1. 逻辑遇刺，如果我没记错，原书写的是“意外”躲过了一劫，靠的是“女友”甩包想打他，他后退，然后绊倒躲过的。这更符合逻辑活下来是“命运”或者“运气”。而不是大史拯救的。\r\n2. 想要表现大史的牛逼，完全可以从叶文洁被捕和他参与制定“琴”计划来展现。飙车比较尴尬，也还能接受。\r\n3. 如上提到的，叶文洁被捕的那一段其实很好看，特别是大史给“信”的细节（破解“小型核弹”爆炸？有点模糊了），然后再衔接到“琴”的计划制定，再到执行。如果按这个顺序是给出第一集的播放内容，感觉更好。\r\n4. 整个运输逻辑去会场的计划，飞机那段有个细节，提醒逻辑可以吃安眠药，然后药瓶里面只有一颗。也许会在第三集体现，也许没有。原书这样描述是说安排转移的人想的很周到。\r\n5. 罗辑遇刺后原书是直接到地下室了，这里改为在车里，他内心的疑问完全体现不出来。他的无所事事虽然在上课补了点，但是感觉缺了那么点感觉。","content_rendered":"<p>今年才把《三体》三部一次性看完，正好碰上动画今年开播，还是挺高兴的。</p>\n<p>注意有后面的内容有剧透！</p>\n<p>先说结论，作为原著党，这动画能看，还不错的。</p>\n<p>之前看了这个动画的预告片，然后今天看了两集，说说喜欢和遗憾的：\n（仅仅是个人想法，非常主观，可能还记错了原书的细节。欢迎讨论）</p>\n<p>喜欢：</p>\n<ol>\n<li>大史形象（外貌）比较符合心中的样子</li>\n<li>秘书长娇小的女性，样貌符合心中的样子</li>\n</ol>\n<p>遗憾：</p>\n<ol>\n<li>逻辑遇刺，如果我没记错，原书写的是“意外”躲过了一劫，靠的是“女友”甩包想打他，他后退，然后绊倒躲过的。这更符合逻辑活下来是“命运”或者“运气”。而不是大史拯救的。</li>\n<li>想要表现大史的牛逼，完全可以从叶文洁被捕和他参与制定“琴”计划来展现。飙车比较尴尬，也还能接受。</li>\n<li>如上提到的，叶文洁被捕的那一段其实很好看，特别是大史给“信”的细节（破解“小型核弹”爆炸？有点模糊了），然后再衔接到“琴”的计划制定，再到执行。如果按这个顺序是给出第一集的播放内容，感觉更好。</li>\n<li>整个运输逻辑去会场的计划，飞机那段有个细节，提醒逻辑可以吃安眠药，然后药瓶里面只有一颗。也许会在第三集体现，也许没有。原书这样描述是说安排转移的人想的很周到。</li>\n<li>罗辑遇刺后原书是直接到地下室了，这里改为在车里，他内心的疑问完全体现不出来。他的无所事事虽然在上课补了点，但是感觉缺了那么点感觉。</li>\n</ol>\n","last_modified":1670653452,"replies":25,"id":901528},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/6512/bd43/11_large.png?m=1651565926","name":"linux","avatar_normal":"https://cdn.v2ex.com/navatar/6512/bd43/11_normal.png?m=1651565926","title":"Linux","url":"https://www.v2ex.com/go/linux","topics":7086,"footer":"","header":"Linux is a Unix-like computer operating system assembled under the model of free and open source software development and distribution.","title_alternative":"Linux","avatar_mini":"https://cdn.v2ex.com/navatar/6512/bd43/11_mini.png?m=1651565926","stars":5979,"aliases":[],"root":false,"id":11,"parent_node_name":"os"},"member":{"id":401678,"username":"levelworm","url":"https://www.v2ex.com/u/levelworm","website":"","twitter":"","psn":"","github":"","btc":"","location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/avatar/3f06/6f8f/401678_mini.png?m=1587581635","avatar_normal":"https://cdn.v2ex.com/avatar/3f06/6f8f/401678_normal.png?m=1587581635","avatar_large":"https://cdn.v2ex.com/avatar/3f06/6f8f/401678_large.png?m=1587581635","created":1555251659,"last_modified":1587581635},"last_reply_by":"Muniesa","last_touched":1670650755,"title":"求问各位大佬如何选择学习用的发行版","url":"https://www.v2ex.com/t/901479","created":1670635076,"deleted":0,"content":"我目前从事的是数据工程（实际上是 ETL 工程师），想要转 DevOps 或者 Sys Admin 。Linux 经验仅限于写 docker 需要的那点命令行知识。\r\n\r\n我想要把 Linux 作为主要的操作系统，请问用哪个发行版比较好？我想在 Linux 里安装 K8s ，再带两个虚拟机组成集群，然后在上面练习 K8s 。","content_rendered":"<p>我目前从事的是数据工程（实际上是 ETL 工程师），想要转 DevOps 或者 Sys Admin 。Linux 经验仅限于写 docker 需要的那点命令行知识。</p>\n<p>我想要把 Linux 作为主要的操作系统，请问用哪个发行版比较好？我想在 Linux 里安装 K8s ，再带两个虚拟机组成集群，然后在上面练习 K8s 。</p>\n","last_modified":1670635076,"replies":22,"id":901479},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":194273,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340","stars":3649,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"id":603372,"username":"OxOOTL","url":"https://www.v2ex.com/u/OxOOTL","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/gravatar/e376779d39e4ac51d77144d33f051b48?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/e376779d39e4ac51d77144d33f051b48?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/e376779d39e4ac51d77144d33f051b48?s=73&d=retro","created":1669373111,"last_modified":1669373111},"last_reply_by":"buyan3303","last_touched":1670662325,"title":"为什么不在保证药物供应后再放开呢","url":"https://www.v2ex.com/t/901531","created":1670655077,"deleted":0,"content":"现在北京退烧药都买不到了，甚至温度计都买不到了\r\n\r\n为什么 zf 不在放开前，提前储备好布洛芬、抗原等基础医疗物资，免费发放给居民呢，或者至少保证这些物资的充足供应，现在的医疗挤兑应该是可以预料的吧？","content_rendered":"<p>现在北京退烧药都买不到了，甚至温度计都买不到了</p>\n<p>为什么 zf 不在放开前，提前储备好布洛芬、抗原等基础医疗物资，免费发放给居民呢，或者至少保证这些物资的充足供应，现在的医疗挤兑应该是可以预料的吧？</p>\n","last_modified":1670655077,"replies":17,"id":901531},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/1689/08dd/956_large.png?m=1482645539","name":"daydream","avatar_normal":"https://cdn.v2ex.com/navatar/1689/08dd/956_normal.png?m=1482645539","title":"Daydream","url":"https://www.v2ex.com/go/daydream","topics":2,"footer":"","header":"Google VR","title_alternative":"Daydream","avatar_mini":"https://cdn.v2ex.com/navatar/1689/08dd/956_mini.png?m=1482645539","stars":2,"aliases":[],"root":false,"id":956,"parent_node_name":"google"},"member":{"id":538559,"username":"Chad0000","url":"https://www.v2ex.com/u/Chad0000","website":"","twitter":null,"psn":null,"github":null,"btc":null,"location":"","tagline":"","bio":"漂在海外十来年。","avatar_mini":"https://cdn.v2ex.com/avatar/8d90/194e/538559_mini.png?m=1670476616","avatar_normal":"https://cdn.v2ex.com/avatar/8d90/194e/538559_normal.png?m=1670476616","avatar_large":"https://cdn.v2ex.com/avatar/8d90/194e/538559_large.png?m=1670476616","avatar_xlarge":"https://cdn.v2ex.com/avatar/8d90/194e/538559_xlarge.png?m=1670476616","avatar_xxlarge":"https://cdn.v2ex.com/avatar/8d90/194e/538559_xlarge.png?m=1670476616","created":1616200323,"last_modified":1670476616},"last_reply_by":"swulling","last_touched":1670661699,"title":"如果我设计了一款能打败 Salesforce 的 SaaS 平台，占多少股份比较合适","url":"https://www.v2ex.com/t/901529","created":1670654553,"deleted":0,"content":"定价一致，比它 NB ，要啥有啥。\r\n\r\n有一点儿意淫，但我也不会透露更多。","content_rendered":"<p>定价一致，比它 NB ，要啥有啥。</p>\n<p>有一点儿意淫，但我也不会透露更多。</p>\n","last_modified":1670654596,"replies":17,"id":901529},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/a5e0/0132/146_large.png?m=1650095218","name":"js","avatar_normal":"https://cdn.v2ex.com/navatar/a5e0/0132/146_normal.png?m=1650095218","title":"JavaScript","url":"https://www.v2ex.com/go/js","topics":2862,"footer":"","header":"JavaScript (sometimes abbreviated JS) is a prototype-based scripting language that is dynamic, weakly typed and has first-class functions.","title_alternative":"JavaScript","avatar_mini":"https://cdn.v2ex.com/navatar/a5e0/0132/146_mini.png?m=1650095218","stars":2893,"aliases":[],"root":false,"id":146,"parent_node_name":"programming"},"member":{"id":91462,"username":"SkyRing","url":"https://www.v2ex.com/u/SkyRing","website":"http://www.ffsky.net","twitter":"","psn":"","github":"","btc":"","location":"","tagline":"有事请上铃音的博客咩！www.ffsky.net","bio":"","avatar_mini":"https://cdn.v2ex.com/avatar/44dc/e9bd/91462_mini.png?m=1670634139","avatar_normal":"https://cdn.v2ex.com/avatar/44dc/e9bd/91462_normal.png?m=1670634139","avatar_large":"https://cdn.v2ex.com/avatar/44dc/e9bd/91462_large.png?m=1670634139","avatar_xlarge":"https://cdn.v2ex.com/avatar/44dc/e9bd/91462_xlarge.png?m=1670634139","avatar_xxlarge":"https://cdn.v2ex.com/avatar/44dc/e9bd/91462_xlarge.png?m=1670634139","created":1421081927,"last_modified":1670634139},"last_reply_by":"15855pm","last_touched":1670651301,"title":"js 判断 id 改变 input 中 value 的部分内容，怎么弄啊。","url":"https://www.v2ex.com/t/901476","created":1670634156,"deleted":0,"content":"比如\r\n\r\n<input class=\"text-input\" type=\"text\" id=\"image-link3\" value=\"https://i.xxx.com/Rg1xQrV.png\" data-focus=\"select-all\" readonly=\"\">\r\n\r\nhttps://i.xxx.com/Rg1xQrV.png\r\n\r\n替换成 https://a.aaa.net/Rg1xQrV.png","content_rendered":"比如<br /><br />&lt;input class=\"text-input\" type=\"text\" id=\"image-link3\" value=\"<a target=\"_blank\" href=\"https://i.xxx.com/Rg1xQrV.png\" rel=\"nofollow noopener\">https://i.xxx.com/Rg1xQrV.png</a>\" data-focus=\"select-all\" readonly=\"\"&gt;<br /><br /><a target=\"_blank\" href=\"https://i.xxx.com/Rg1xQrV.png\" rel=\"nofollow noopener\">https://i.xxx.com/Rg1xQrV.png</a><br /><br />替换成 <a target=\"_blank\" href=\"https://a.aaa.net/Rg1xQrV.png\" rel=\"nofollow noopener\">https://a.aaa.net/Rg1xQrV.png</a>","last_modified":1670634156,"replies":17,"id":901476},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/6cdd/60ea/184_large.png?m=1630643913","name":"apple","avatar_normal":"https://cdn.v2ex.com/navatar/6cdd/60ea/184_normal.png?m=1630643913","title":"Apple","url":"https://www.v2ex.com/go/apple","topics":20838,"footer":"","header":"设计了 <a href=\"/go/watch\">Apple Watch</a>，<a href=\"/go/ipad\">iPad</a>，<a href=\"/go/iphone\">iPhone</a>，<a href=\"/go/imac\">iMac</a> 及 <a href=\"/go/mbp\">MacBook Pro</a> 等电子产品的美国公司。","title_alternative":"Apple","avatar_mini":"https://cdn.v2ex.com/navatar/6cdd/60ea/184_mini.png?m=1630643913","stars":2424,"aliases":[],"root":false,"id":184,"parent_node_name":"hardware"},"member":{"id":577968,"username":"ZacharyLau1202","url":"https://www.v2ex.com/u/ZacharyLau1202","website":"","twitter":null,"psn":null,"github":null,"btc":null,"location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/avatar/7ddf/d408/577968_mini.png?m=1661868201","avatar_normal":"https://cdn.v2ex.com/avatar/7ddf/d408/577968_normal.png?m=1661868201","avatar_large":"https://cdn.v2ex.com/avatar/7ddf/d408/577968_large.png?m=1661868201","avatar_xlarge":"https://cdn.v2ex.com/avatar/7ddf/d408/577968_xlarge.png?m=1661868201","avatar_xxlarge":"https://cdn.v2ex.com/avatar/7ddf/d408/577968_xlarge.png?m=1661868201","avatar_xxxlarge":"https://cdn.v2ex.com/avatar/7ddf/d408/577968_xlarge.png?m=1661868201","created":1649662216,"last_modified":1661868201},"last_reply_by":"icz","last_touched":1670660966,"title":"新版 Mac QQ 上架 App Store 了","url":"https://www.v2ex.com/t/901526","created":1670653045,"deleted":0,"content":"新版 Mac QQ 上架 App Store 了\r\n\r\n![]( https://i.imgur.com/XZqoicj.jpg)","content_rendered":"<p>新版 Mac QQ 上架 App Store 了</p>\n<p><img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://i.imgur.com/XZqoicj.jpg\"/></p>\n","last_modified":1670653080,"replies":14,"id":901526},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":194267,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340","stars":3649,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"id":47049,"username":"libasten","url":"https://www.v2ex.com/u/libasten","website":"https://www.feidaoboke.com","twitter":"","psn":"","github":"","btc":"","location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/gravatar/f6d4baad62e4ee124d392af83650f37d?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/f6d4baad62e4ee124d392af83650f37d?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/f6d4baad62e4ee124d392af83650f37d?s=73&d=retro","created":1381994119,"last_modified":1670327819},"last_reply_by":"Cu635","last_touched":1670647621,"title":"你们都是如何管理控制微信存储空间的？","url":"https://www.v2ex.com/t/901478","created":1670634567,"deleted":0,"content":"最主要到就是各种群聊吧。\r\n\r\n退群？有些群退了不方便。\r\n\r\n不退，天天有人乱发视频图片，这种直接在聊天界面长按清理聊天记录会释放空间吗？\r\n\r\n定期到微信设置里人工删除？","content_rendered":"<p>最主要到就是各种群聊吧。</p>\n<p>退群？有些群退了不方便。</p>\n<p>不退，天天有人乱发视频图片，这种直接在聊天界面长按清理聊天记录会释放空间吗？</p>\n<p>定期到微信设置里人工删除？</p>\n","last_modified":1670634567,"replies":14,"id":901478},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/74bb/a227/938_large.png?m=1591791660","name":"gts","avatar_normal":"https://cdn.v2ex.com/navatar/74bb/a227/938_normal.png?m=1591791660","title":"全球工单系统","url":"https://www.v2ex.com/go/gts","topics":9196,"footer":"","header":"希望这里能够为你遇到的问题找到解决方案","title_alternative":"Global Ticket System","avatar_mini":"https://cdn.v2ex.com/navatar/74bb/a227/938_mini.png?m=1591791660","stars":1712,"aliases":[],"root":false,"id":938,"parent_node_name":"geek"},"member":{"id":104792,"username":"gftfl","url":"https://www.v2ex.com/u/gftfl","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/gravatar/830536437b09d760f039bea953cba5dc?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/830536437b09d760f039bea953cba5dc?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/830536437b09d760f039bea953cba5dc?s=73&d=retro","created":1426440487,"last_modified":1426440487},"last_reply_by":"lqcc","last_touched":1670662190,"title":"京东现在乱到了无以复加的程度，从招商到售后客服都乱","url":"https://www.v2ex.com/t/901537","created":1670657334,"deleted":0,"content":"给孩子买了个小棉拖鞋，就几十块钱的东西，商品是第三方卖家的。\r\n然后被发的邮政包裹，却一直不更新物流状态，我于是在昨天申请了售后退款，今天让人目瞪口呆的一幕出现了——售后退款申请消失了，更离奇的是订单居然被“完成”了。\r\n于是拨打京东客服，这客服离奇的很，完全不解决问题，只反反复复格式化语句扯淡。\r\n\r\n这笔交易订单暴露出的问题（或者是第三方商家商品的漏洞）：\r\n1 、在京东申请的第三方商家商品售后申请，会静悄悄地消失；\r\n2 、商品没有收到，京东在没有任何依据情况下订单会被完成；\r\n3 、假如消费者没有时刻关注自己的订单，或者遗忘了曾经有购买行为，或者因为订单多疏忽了这个订单，就意味着这个没收到货的却被完成的订单会遭受财产损失。\r\n\r\n现在我关心的不是这一笔订单能否退款问题，关心的是京东这一整套机制流程，根本不能有效保护消费者，消费者稍一不注意就要被货钱两空。\r\n\r\n我实在不敢相信，曾经被万千消费者信赖认可的京东商城，现在会堕落到连最基本的保障都没有。","content_rendered":"<p>给孩子买了个小棉拖鞋，就几十块钱的东西，商品是第三方卖家的。\n然后被发的邮政包裹，却一直不更新物流状态，我于是在昨天申请了售后退款，今天让人目瞪口呆的一幕出现了——售后退款申请消失了，更离奇的是订单居然被“完成”了。\n于是拨打京东客服，这客服离奇的很，完全不解决问题，只反反复复格式化语句扯淡。</p>\n<p>这笔交易订单暴露出的问题（或者是第三方商家商品的漏洞）：\n1 、在京东申请的第三方商家商品售后申请，会静悄悄地消失；\n2 、商品没有收到，京东在没有任何依据情况下订单会被完成；\n3 、假如消费者没有时刻关注自己的订单，或者遗忘了曾经有购买行为，或者因为订单多疏忽了这个订单，就意味着这个没收到货的却被完成的订单会遭受财产损失。</p>\n<p>现在我关心的不是这一笔订单能否退款问题，关心的是京东这一整套机制流程，根本不能有效保护消费者，消费者稍一不注意就要被货钱两空。</p>\n<p>我实在不敢相信，曾经被万千消费者信赖认可的京东商城，现在会堕落到连最基本的保障都没有。</p>\n","last_modified":1670657334,"replies":13,"id":901537},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/ec89/5663/102_large.png?m=1589292852","name":"git","avatar_normal":"https://cdn.v2ex.com/navatar/ec89/5663/102_normal.png?m=1589292852","title":"git","url":"https://www.v2ex.com/go/git","topics":891,"footer":"","header":"Git is a free and open source distributed version control system designed to handle everything from small to very large projects with speed and efficiency.","title_alternative":"git","avatar_mini":"https://cdn.v2ex.com/navatar/ec89/5663/102_mini.png?m=1589292852","stars":558,"aliases":[],"root":false,"id":102,"parent_node_name":"vcs"},"member":{"id":576917,"username":"badboy17","url":"https://www.v2ex.com/u/badboy17","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/gravatar/d43e8bdf0f9db55da836ae02afe79a0e?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/d43e8bdf0f9db55da836ae02afe79a0e?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/d43e8bdf0f9db55da836ae02afe79a0e?s=73&d=retro","created":1648544266,"last_modified":1648544266},"last_reply_by":"forgottencoast","last_touched":1670661874,"title":"求熟悉 git 大佬，遇到一个 git 问题阻塞","url":"https://www.v2ex.com/t/901504","created":1670645386,"deleted":0,"content":"公司用得是 codeup 云效做代码管理平台，我是 windows 本，本地装了 git ，我拥有 A 项目和 B 项目的开发权限和 git 的读写权限（包括 pull,clone,push ），但是我的 A 项目，可以 clone 下来，但是不能 push,我的 B 项目正常，可以 Pull ，也可以 push,我本地用得是 ssh 公钥，在远端配置上了。\r\n\r\ngit 无法 push ，报错是 remote: PermissonDenied: Permission deny: You are not allowed to push this branch to codeup.xxxxxx.git\r\n(pre-receive hook declined)\r\nerror: failed to push some refs to codeup.xxxxx.git\r\n\r\n我试过换一个分支，删除 ssh 公钥，重新生成，把 git 卸载重装，都失败了，但是在另一台机器上，用我的账号是可以 Push 的了，所以可能还是我的 git 客户端这边的问题，这个问题阻塞挺长时间了，求大佬帮助，可以有偿","content_rendered":"<p>公司用得是 codeup 云效做代码管理平台，我是 windows 本，本地装了 git ，我拥有 A 项目和 B 项目的开发权限和 git 的读写权限（包括 pull,clone,push ），但是我的 A 项目，可以 clone 下来，但是不能 push,我的 B 项目正常，可以 Pull ，也可以 push,我本地用得是 ssh 公钥，在远端配置上了。</p>\n<p>git 无法 push ，报错是 remote: PermissonDenied: Permission deny: You are not allowed to push this branch to codeup.xxxxxx.git\n(pre-receive hook declined)\nerror: failed to push some refs to codeup.xxxxx.git</p>\n<p>我试过换一个分支，删除 ssh 公钥，重新生成，把 git 卸载重装，都失败了，但是在另一台机器上，用我的账号是可以 Push 的了，所以可能还是我的 git 客户端这边的问题，这个问题阻塞挺长时间了，求大佬帮助，可以有偿</p>\n","last_modified":1670645386,"replies":12,"id":901504},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/eaae/339c/653_large.png?m=1611762937","name":"vps","avatar_normal":"https://cdn.v2ex.com/navatar/eaae/339c/653_normal.png?m=1611762937","title":"VPS","url":"https://www.v2ex.com/go/vps","topics":6172,"footer":"友情提醒：如果你想好好做一个网站，那就不要购买那些过于低价甚至免费的 VPS。","header":"关于 VPS 购买和使用的讨论。","title_alternative":"VPS","avatar_mini":"https://cdn.v2ex.com/navatar/eaae/339c/653_mini.png?m=1611762937","stars":2820,"aliases":[],"root":false,"id":653,"parent_node_name":"cloud"},"member":{"id":498895,"username":"twofox","url":"https://www.v2ex.com/u/twofox","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/avatar/32ab/d52b/498895_mini.png?m=1642732594","avatar_normal":"https://cdn.v2ex.com/avatar/32ab/d52b/498895_normal.png?m=1642732594","avatar_large":"https://cdn.v2ex.com/avatar/32ab/d52b/498895_large.png?m=1642732594","created":1594610671,"last_modified":1642732594},"last_reply_by":"echooo0","last_touched":1670652085,"title":"域名解析到海外 VPS，再反代回腾讯云，可行吗","url":"https://www.v2ex.com/t/901494","created":1670641899,"deleted":0,"content":"**目的：建站不想备案**\r\n\r\n目前 cloudflare 有域名，腾讯云有 4C8G 的服务器\r\n\r\n直接解析到腾讯云会被拦截\r\n\r\n改成解析到海外的 VPS ，再反代理回腾讯云，这样会被封吗\r\n\r\n以及如果可行的话，有 VPS 推荐吗，最便宜的那种，只需要装个 nginx 反代理","content_rendered":"<p><strong>目的：建站不想备案</strong></p>\n<p>目前 cloudflare 有域名，腾讯云有 4C8G 的服务器</p>\n<p>直接解析到腾讯云会被拦截</p>\n<p>改成解析到海外的 VPS ，再反代理回腾讯云，这样会被封吗</p>\n<p>以及如果可行的话，有 VPS 推荐吗，最便宜的那种，只需要装个 nginx 反代理</p>\n","last_modified":1670641899,"replies":12,"id":901494},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/6cdd/60ea/184_large.png?m=1630643913","name":"apple","avatar_normal":"https://cdn.v2ex.com/navatar/6cdd/60ea/184_normal.png?m=1630643913","title":"Apple","url":"https://www.v2ex.com/go/apple","topics":20838,"footer":"","header":"设计了 <a href=\"/go/watch\">Apple Watch</a>，<a href=\"/go/ipad\">iPad</a>，<a href=\"/go/iphone\">iPhone</a>，<a href=\"/go/imac\">iMac</a> 及 <a href=\"/go/mbp\">MacBook Pro</a> 等电子产品的美国公司。","title_alternative":"Apple","avatar_mini":"https://cdn.v2ex.com/navatar/6cdd/60ea/184_mini.png?m=1630643913","stars":2424,"aliases":[],"root":false,"id":184,"parent_node_name":"hardware"},"member":{"id":495791,"username":"Apple2023","url":"https://www.v2ex.com/u/Apple2023","website":"","twitter":null,"psn":null,"github":null,"btc":null,"location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/avatar/54c4/8265/495791_mini.png?m=1661666515","avatar_normal":"https://cdn.v2ex.com/avatar/54c4/8265/495791_normal.png?m=1661666515","avatar_large":"https://cdn.v2ex.com/avatar/54c4/8265/495791_large.png?m=1661666515","avatar_xlarge":"https://cdn.v2ex.com/avatar/54c4/8265/495791_xlarge.png?m=1661666515","avatar_xxlarge":"https://cdn.v2ex.com/avatar/54c4/8265/495791_xlarge.png?m=1661666515","avatar_xxxlarge":"https://cdn.v2ex.com/avatar/54c4/8265/495791_xlarge.png?m=1661666515","created":1592789519,"last_modified":1661666515},"last_reply_by":"7gugu","last_touched":1670623594,"title":"决赛圈 酷狗音乐和 QQ 音乐哪家最强？","url":"https://www.v2ex.com/t/901523","created":1670652454,"deleted":0,"content":"个人觉得是酷狗 你们觉得呢","content_rendered":"个人觉得是酷狗 你们觉得呢","last_modified":1670652454,"replies":10,"id":901523},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/b6d7/67d2/22_large.png?m=1649080598","name":"macos","avatar_normal":"https://cdn.v2ex.com/navatar/b6d7/67d2/22_normal.png?m=1649080598","title":"macOS","url":"https://www.v2ex.com/go/macos","topics":19562,"footer":"<a href=\"/mbp\">MacBook Pro</a> 及 <a href=\"/go/imac\">iMac</a> 等 <a href=\"/go/apple\">Apple</a> 公司设计的计算机所运行的操作系统。<a href=\"/go/idev\">iOS</a> 的基础。","header":"The world’s most advanced desktop operating system.","title_alternative":"macOS","avatar_mini":"https://cdn.v2ex.com/navatar/b6d7/67d2/22_mini.png?m=1649080598","stars":4779,"aliases":[],"root":false,"id":22,"parent_node_name":"os"},"member":{"id":398845,"username":"asipirn","url":"https://www.v2ex.com/u/asipirn","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/avatar/bc7c/01ee/398845_mini.png?m=1575380964","avatar_normal":"https://cdn.v2ex.com/avatar/bc7c/01ee/398845_normal.png?m=1575380964","avatar_large":"https://cdn.v2ex.com/avatar/bc7c/01ee/398845_large.png?m=1575380964","created":1554451616,"last_modified":1575380964},"last_reply_by":"dollarboy","last_touched":1670659075,"title":"AlDente Pro 那里有车","url":"https://www.v2ex.com/t/901505","created":1670646532,"deleted":0,"content":"想入个永久版。求个车位","content_rendered":"<p>想入个永久版。求个车位</p>\n","last_modified":1670646532,"replies":9,"id":901505},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/f61d/6947/375_large.png?m=1658910399","name":"go","avatar_normal":"https://cdn.v2ex.com/navatar/f61d/6947/375_normal.png?m=1658910399","title":"Go 编程语言","url":"https://www.v2ex.com/go/go","topics":2531,"footer":"","header":"Go 是一个开源的编程语言，它能让构造简单、可靠且高效的软件变得容易。","title_alternative":"The Go Programming Language","avatar_mini":"https://cdn.v2ex.com/navatar/f61d/6947/375_mini.png?m=1658910399","stars":3417,"aliases":[],"root":false,"id":375,"parent_node_name":"programming"},"member":{"id":378283,"username":"awanganddong","url":"https://www.v2ex.com/u/awanganddong","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/gravatar/e482df556a9ac0e4553da45a819ba931?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/e482df556a9ac0e4553da45a819ba931?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/e482df556a9ac0e4553da45a819ba931?s=73&d=retro","created":1547767689,"last_modified":1547767689},"last_reply_by":"q1angch0u","last_touched":1670649040,"title":"go-sql-driver/mysql 支持读写分离吗","url":"https://www.v2ex.com/t/901500","created":1670644245,"deleted":0,"content":"查看官方文档没找到主从配置，\r\n是不是需要自己实现该功能？\r\n\r\n\r\n如果没有相关配置，有什么推荐的 mysql 包吗，orm 类的暂时不需要。","content_rendered":"<p>查看官方文档没找到主从配置，\n是不是需要自己实现该功能？</p>\n<p>如果没有相关配置，有什么推荐的 mysql 包吗，orm 类的暂时不需要。</p>\n","last_modified":1670644245,"replies":9,"id":901500},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":194269,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340","stars":3649,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"id":34471,"username":"qiumaoyuan","url":"https://www.v2ex.com/u/qiumaoyuan","website":"","twitter":"","psn":"","github":"","btc":"","location":"","tagline":"","bio":"如何写代码才本应该是程序员多多讨论的事情。这个圈子最不缺的就是不懂装懂的扯淡。同时这些人也习惯性地以己推人，把所有自己无法理解的东西当作是别人在扯淡。稍微深入点的正经讨论和扯淡都无法让他们理解，所以这二者在他们看来是一样的：都是扯淡。所以正经讨论中经常夹杂着这些以为你在扯淡的人跟你扯淡，你跟他讨论问题，他跟你耍嘴皮子。","avatar_mini":"https://cdn.v2ex.com/avatar/659a/db49/34471_mini.png?m=1659586288","avatar_normal":"https://cdn.v2ex.com/avatar/659a/db49/34471_normal.png?m=1659586288","avatar_large":"https://cdn.v2ex.com/avatar/659a/db49/34471_large.png?m=1659586288","avatar_xlarge":"https://cdn.v2ex.com/avatar/659a/db49/34471_xlarge.png?m=1659586288","avatar_xxlarge":"https://cdn.v2ex.com/avatar/659a/db49/34471_xlarge.png?m=1659586288","avatar_xxxlarge":"https://cdn.v2ex.com/avatar/659a/db49/34471_xlarge.png?m=1659586288","created":1361270294,"last_modified":1659586288},"last_reply_by":"juded","last_touched":1670645165,"title":"吸尘器，戴森 v8 or 博世 s8?","url":"https://www.v2ex.com/t/901485","created":1670638828,"deleted":0,"content":"","content_rendered":"","last_modified":1670638828,"replies":9,"id":901485},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/44f6/83a8/62_large.png?m=1644475743","name":"php","avatar_normal":"https://cdn.v2ex.com/navatar/44f6/83a8/62_normal.png?m=1644475743","title":"PHP","url":"https://www.v2ex.com/go/php","topics":4521,"footer":"","header":"PHP 是一门被广泛使用的编程语言，尤其是在各类互联网站项目中。PHP 代码可以被很容易地嵌入到 HTML 中。","title_alternative":"PHP","avatar_mini":"https://cdn.v2ex.com/navatar/44f6/83a8/62_mini.png?m=1644475743","stars":2691,"aliases":[],"root":false,"id":62,"parent_node_name":"programming"},"member":{"id":91462,"username":"SkyRing","url":"https://www.v2ex.com/u/SkyRing","website":"http://www.ffsky.net","twitter":"","psn":"","github":"","btc":"","location":"","tagline":"有事请上铃音的博客咩！www.ffsky.net","bio":"","avatar_mini":"https://cdn.v2ex.com/avatar/44dc/e9bd/91462_mini.png?m=1670634139","avatar_normal":"https://cdn.v2ex.com/avatar/44dc/e9bd/91462_normal.png?m=1670634139","avatar_large":"https://cdn.v2ex.com/avatar/44dc/e9bd/91462_large.png?m=1670634139","avatar_xlarge":"https://cdn.v2ex.com/avatar/44dc/e9bd/91462_xlarge.png?m=1670634139","avatar_xxlarge":"https://cdn.v2ex.com/avatar/44dc/e9bd/91462_xlarge.png?m=1670634139","created":1421081927,"last_modified":1670634139},"last_reply_by":"SkyRing","last_touched":1670647269,"title":"怎么把原来的 url 得到的某个地址，替换其中的域名呢？","url":"https://www.v2ex.com/t/901497","created":1670643232,"deleted":0,"content":"比如原来$url 得到 xxx.com/sadasd.jpg ，想要变成 aaa.com/sadasd.jpg ，这样子，怎么弄呢？","content_rendered":"<p>比如原来$url 得到 <a href=\"http://xxx.com/sadasd.jpg\" rel=\"nofollow\">xxx.com/sadasd.jpg</a> ，想要变成 <a href=\"http://aaa.com/sadasd.jpg\" rel=\"nofollow\">aaa.com/sadasd.jpg</a> ，这样子，怎么弄呢？</p>\n","last_modified":1670643232,"replies":8,"id":901497},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1670445459","name":"programmer","avatar_normal":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1670445459","title":"程序员","url":"https://www.v2ex.com/go/programmer","topics":52378,"footer":"","header":"While code monkeys are not eating bananas, they're coding.","title_alternative":"Programmer","avatar_mini":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1670445459","stars":8112,"aliases":[],"root":false,"id":300,"parent_node_name":"computer"},"member":{"id":454918,"username":"jdz","url":"https://www.v2ex.com/u/jdz","website":"","twitter":"","psn":"","github":"","btc":"","location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/gravatar/9c4465d38ccf3c91d8aec7faef152292?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/9c4465d38ccf3c91d8aec7faef152292?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/9c4465d38ccf3c91d8aec7faef152292?s=73&d=retro","created":1574461238,"last_modified":1662353453},"last_reply_by":"tutu2000","last_touched":1670653842,"title":"Redis cluster 每次请求都会请求两次 Redis 吧，感觉好浪费","url":"https://www.v2ex.com/t/901488","created":1670639234,"deleted":0,"content":"比如 10 台机器，那么一次命中，不用 Moved 的概率只有 10%","content_rendered":"<p>比如 10 台机器，那么一次命中，不用 Moved 的概率只有 10%</p>\n","last_modified":1670639234,"replies":8,"id":901488},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":194273,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340","stars":3649,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"id":44349,"username":"huoshanhui","url":"https://www.v2ex.com/u/huoshanhui","website":"","twitter":"","psn":"","github":"","btc":"","location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/gravatar/dc63cbfc616cc7a02ba7509cc5c84559?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/dc63cbfc616cc7a02ba7509cc5c84559?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/dc63cbfc616cc7a02ba7509cc5c84559?s=73&d=retro","created":1377345072,"last_modified":1541378893},"last_reply_by":"charlie21","last_touched":1670653948,"title":"chatGPT 这种 AI。理论上是否可以人为的污染投毒把「智商」搞没。","url":"https://www.v2ex.com/t/901521","created":1670652255,"deleted":0,"content":"类似区块链 51%算力攻击一样。或者开发一个投毒 AI ，把其他 AI 训练成稀巴烂。","content_rendered":"类似区块链 51%算力攻击一样。或者开发一个投毒 AI ，把其他 AI 训练成稀巴烂。","last_modified":1670652255,"replies":7,"id":901521},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":194273,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340","stars":3649,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"id":185749,"username":"j0hnj","url":"https://www.v2ex.com/u/j0hnj","website":"","twitter":"","psn":"","github":"","btc":"","location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/avatar/edd4/154f/185749_mini.png?m=1470487279","avatar_normal":"https://cdn.v2ex.com/avatar/edd4/154f/185749_normal.png?m=1470487279","avatar_large":"https://cdn.v2ex.com/avatar/edd4/154f/185749_large.png?m=1470487279","created":1470487119,"last_modified":1470487279},"last_reply_by":"chenyx9","last_touched":1670653203,"title":"京东这个首页越来越不忍直视了","url":"https://www.v2ex.com/t/901514","created":1670649748,"deleted":0,"content":"元素越来越多，比淘宝、拼多多还乱七八糟<br><br>![8CFD452D-C786-4A3B-A1FE-53932E167F03.png]( https://s2.loli.net/2022/12/10/TyhtM187Oe4qPGA.png)","content_rendered":"<p>元素越来越多，比淘宝、拼多多还乱七八糟<br/><br/><img alt=\"8CFD452D-C786-4A3B-A1FE-53932E167F03.png\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://s2.loli.net/2022/12/10/TyhtM187Oe4qPGA.png\"/></p>\n","last_modified":1670649748,"replies":7,"id":901514},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/70ef/df2e/17_large.png?m=1660301119","name":"create","avatar_normal":"https://cdn.v2ex.com/navatar/70ef/df2e/17_normal.png?m=1660301119","title":"分享创造","url":"https://www.v2ex.com/go/create","topics":18962,"footer":"","header":"欢迎你在这里发布自己的最新作品！","title_alternative":"Create","avatar_mini":"https://cdn.v2ex.com/navatar/70ef/df2e/17_mini.png?m=1660301119","stars":4647,"aliases":[],"root":false,"id":17,"parent_node_name":"geek"},"member":{"id":469110,"username":"Johnoo","url":"https://www.v2ex.com/u/Johnoo","website":"","twitter":"","psn":"","github":"","btc":"","location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/avatar/5184/d000/469110_mini.png?m=1659923589","avatar_normal":"https://cdn.v2ex.com/avatar/5184/d000/469110_normal.png?m=1659923589","avatar_large":"https://cdn.v2ex.com/avatar/5184/d000/469110_large.png?m=1659923589","created":1581587437,"last_modified":1659923589},"last_reply_by":"shinko","last_touched":1670659654,"title":"酷硬 R1 安装 ESXI 8：从写盘到虚拟机配置","url":"https://www.v2ex.com/t/901533","created":1670656366,"deleted":0,"content":"# 酷硬 R1 安装 ESXI 8\r\n\r\n![banner]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/banner.jpg)\r\n\r\n这个小主机很不错，入手之后就开始折腾，对于一颗 N6005 的 U 来说，不做虚拟化就太浪费了。到货后系统再带 PVE 和 ESir 的固件，用了用感觉也挺好，但是，不折腾一下怎么对得起这机器呢。\r\n\r\n经过一系列的折腾，ESXI 8 除了 TPM 以外基本兼容 R1 ，网卡、NVMe 等设备驱动完美支持，无需自己封装驱动，这点非常好。\r\n\r\n把相关操作记录一下，为需要的人做个参考。\r\n\r\n\r\n## 准备工作\r\n\r\n- esxi 8 安装程序\r\n- ventoy 写盘工具\r\n- Openwrt 固件\r\n- StarWind V2V Converter 程序\r\n- 键盘鼠标和 USB Hub\r\n- 8GB+容量 U 盘一个\r\n\r\n### ESXI 8 安装文件\r\n\r\n可以直接去官网下载，地址： https://customerconnect.vmware.com/evalcenter?p=vsphere-eval-8 ，注意，你需要注册一个 VMWare 的 customer connect 账号，注册登录完毕后，就可以下载 60 天试用版的 ESXI8.0 了，至于怎么激活可以问问 Google ，\r\n\r\n[![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/ESXI8Downlaod.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/ESXI8Downlaod.png)\r\n\r\n可直接下载 ISO 镜像即可，如果你需要封装驱动，那就下载 Offline Bundle 离线捆绑包，驱动封装不在本次讨论范围内。\r\n\r\n至于 vCenter Server ，实在太大，绝大多数功能都用不上，就不用管他了。\r\n\r\n### ventoy 写盘工具\r\n\r\n下载地址： https://github.com/ventoy/Ventoy/releases ，该工具目前为 1.0.84 版本，release 中下载 windows 平台即可\r\n\r\n### Openwrt 固件\r\n\r\n这个不用多说了。要么你自己编译，要么用别人编译好的都可以，只要 X86 就行，比如 ESir 的高大全版，或者我这个仓库的 X86 也可以，https://github.com/smallprogram/OpenWrtAction/ ，不过建议使用 efi 模式的 VMDK 固件。\r\n\r\n[![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/OPRelease.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/OPRelease.png)\r\n\r\n### StarWind V2V Converter 程序\r\n\r\n该程序用于将 OP 固件 VMDK 文件转换为 ESXI 8.0 的存储格式，如果直接用 VMDK ，ESXI 8.0 将无法挂载镜像。下载地址： https://www.starwindsoftware.com/starwind-v2v-converter ，下载需要填写邮箱，下载地址会发送到你的邮箱里。 [![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/starwind-v2v-converter.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/starwind-v2v-converter.png)\r\n\r\n后续硬件设备请你自己备齐。\r\n\r\n## 安装步骤\r\n\r\n将显示器，键盘鼠标在一个 USB Hub 上，接入 R1 ，R1 中你喜欢的某个网口与 PC 网卡连接。\r\n\r\n### ventoy 写盘\r\n\r\n1. U 盘插入 PC\r\n2. 电脑运行 Ventoy2Disk.exe\r\n3. Ventoy 配置选项中将分区类型改为 GPT,安全启动支持打勾\r\n\r\n[![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/ventoy.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/ventoy.png)\r\n\r\n1. 设备选择 U 盘设备\r\n2. 点击安装，等待安装完成，关闭 Ventoy 程序\r\n3. 将下载好的 ESXI 镜像文件拷贝至 U 盘，完成后拔出 U 盘\r\n\r\n### ESXI 挂载\r\n\r\n1. 将 U 盘插入 R1 剩余的 U 口\r\n2. 开机 F12 选在 U 盘启动\r\n3. 进入 Ventoy ，选择 ESXI 镜像引导\r\n\r\n### ESXI 安装(重点)\r\n\r\nESXI 开始引导后，屏幕出现跑码界面,注意，看到跑码界面，马上按键盘上的 Shift+o,欧键，在屏幕下方删除多余命令，手工录入命令`cdromBoot runweasel autoPartitionOSDataSize=4096`,注意区分大小写。录入完成后回车继续。\r\n\r\n这个命令的意思是安装 ESXI 时，系统占用空间为 4096MB,也就是 4GB ，如果不录入该命令，ESXI8.0 默认会让 VMFSL 系统分区占用 100 多个 G ，可用的 VMFS 就没多少了。当然如果你的 R1 硬盘足够大，不录入也可以\r\n\r\n[![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxiinsatll1.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxiinsatll1.png)\r\n\r\n[![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxiinsatll2.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxiinsatll2.png)\r\n\r\n后续安装，ESXI 会扫描磁盘，选择 R1 自带的硬盘，之后设置 root 账号的密码，确认安装信息，最后重启设备\r\n\r\n[![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxiinsatll3.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxiinsatll3.png) [![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxiinsatll4.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxiinsatll4.png)\r\n\r\n### ESXI 后台配置\r\n\r\n安装完成后，会进入一个后台配置界面。\r\n\r\n[![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxiinsatll5.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxiinsatll5.png)\r\n\r\n按 F2 进入后台配置界面，输入 root 账号密码，挑个网口作为管理口，与 PC 机连接\r\n\r\n[![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxiinsatll6.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxiinsatll6.png)\r\n\r\n通过 Configure Management Network 配置网络，选择 Network Adapters,配置管理口\r\n\r\n[![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxiinsatll7.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxiinsatll7.png)\r\n\r\n进入后会发现，其中一个网卡状态为 connected ，就是接入网线的网口，注意，此处只能选择一个网口作为管理口，不要选择多个，例如图中，选择 vmnic3 网口，空格为选择或取消，配置完成回车保存，esc 退回上级菜单，有可能会提示你是否保存，选择是即可\r\n\r\n[![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxiinsatll8.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxiinsatll8.png)\r\n\r\n返回上级菜单后，选择 IPv4 Configuration ，配置管理口的静态管理 IP ，用于未来访问 esxi 。\r\n\r\n[![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxiinsatll9.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxiinsatll9.png)\r\n\r\n选择静态 IP ，配置为你网络环境中的内网网段 IP 即可，一般配置为孤僻 IP ，例如 254 ，253 ，也可随意配置，只要你记得住就行，网关为你路由器的 IP ，如果将 Openwrt 做入 ESXI 中的话，就配置为 Openwrt 路由的 IP ，比如我的固件 Openwrt 的默认 IP 为 10.10.0.253 ，那么此处 Gateway 网关就填入 10.10.0.253.\r\n\r\n[![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxiinsatll10.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxiinsatll10.png)\r\n\r\n最后 esc 退出，会弹出确认提示，Y 即可。\r\n\r\n[![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxiinsatll11.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxiinsatll11.png)\r\n\r\n退回到主界面\r\n\r\n## ESXI 前台配置\r\n\r\n在 PC 端，输入之前后台配置的 IP 地址，访问 ESXI Web 管理端，我配置的是 10.10.0.254\r\n\r\n### 基础设置\r\n\r\n[![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup01.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup01.png)\r\n\r\nESXI 8.0 首页\r\n\r\n[![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup02.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup02.png)\r\n\r\n开启自动启动策略\r\n\r\n[![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup03.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup03.png)\r\n\r\nPCI 设备 设置中，可以切换硬件是否直通，这个后边会说到\r\n\r\n[![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup04.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup04.png)\r\n\r\n电源管理中，启用高性能\r\n\r\n[![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup05.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup05.png)\r\n\r\n许可中，激活 ESXI ，序列号我没有，你们自己找，嘿嘿嘿。。\r\n\r\n[![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup06.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup06.png)\r\n\r\n### 网络设置\r\n\r\n虚拟交换机，系统默认带了一个虚拟交换机，需要再继续添加其余三个\r\n\r\n[![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup07.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup07.png)\r\n\r\n例如 vSwitch0 虚拟交换绑定的上行链路为物理网卡 0 口\r\n\r\n[![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup08.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup08.png)\r\n\r\n同理，vSwitch1 虚拟交换绑定的上行链路为物理网卡 1 口，按照这个逻辑，将剩余的网口一次绑定到独立的虚拟交换机上\r\n\r\n[![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup09.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup09.png)\r\n\r\n每一个 vSwitch 虚拟交换中的安全选项中，都需要开启混杂模式、MAC 地址变更、伪传输。如果不开启会出现问题，造成网卡间不能通讯，网络故障等。\r\n\r\n[![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup10_1.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup10_1.png)\r\n\r\n虚拟交换机维护完毕后，回到端口组，对应添加四个虚拟网络。\r\n\r\n[![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup10.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup10.png)\r\n\r\n例如 VM Network 绑定交换机 vSwitch0,VM Network1 绑定交换机 vSwitch1 。\r\n\r\n[![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup11.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup11.png)\r\n\r\n[![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup12.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup12.png)\r\n\r\n最终的效果就是物理网卡 0 口，通过 vSwitch0 虚拟交换机绑定到 VM Network 虚拟网络上，最后虚拟机使用 VM Network 虚拟网络进行通信\r\n\r\n[![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup13.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup13.png)\r\n\r\n下面是整体网络拓补图，概括为物理网卡---->虚拟交换机----->虚拟网络----->虚拟机， 其中有个特数据的网络，Management Network,这个是 ESXI 的管理口网络，默认绑定到前面后台设置时的虚拟交换机上。这个口是无法做硬件直通的，如果这个口做了硬件直通，那你以后就再也无法访问 ESXI Web 管理界面了。\r\n\r\n这种非直通的方案好处在于，你可以用多个虚拟机共享同一网口的网络，性能也很好。\r\n\r\n[![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup14.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup14.png)\r\n\r\n下面这张图，是 2 、3 口做了网卡直通后的效果，2 、3 口绕过了之前的虚拟网络环节，直接与虚拟机进行通信，效率会高一些，但是缺点十分明显，2 、3 口直通后就只能被单一虚拟机使用了。并且 2 、3 口无法访问 ESXI 管理后台。\r\n\r\n我个人认为，为了提升那么一点点的网络性能，做直通是完全没有必要的，ESXI 8 对网络进行了大量优化，目前直通与非直通的效率几乎一致。\r\n\r\n[![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup15.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup15.png)\r\n\r\n### 配置 OPENWRT 虚拟机\r\n\r\n选择虚拟机选项卡，点击创建 /主次虚拟机\r\n\r\n[![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup16.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup16.png)\r\n\r\n[![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup17.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup17.png)\r\n\r\n名称按你喜欢的取，客户机系统选择 Linux ，版本选择 6.x 或更高\r\n\r\n[![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup18.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup18.png)\r\n\r\n[![image]( https://github.com/smallprogram/OpenWrtAction/raw/main/docs/pic/R1_ESXI8/esxisetup19.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup19.png)\r\n\r\n自定义设置中，将硬盘删掉，点后边的×，将 CD 驱动器也删掉，这个用不到\r\n\r\n[![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup20.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup20.png)\r\n\r\n点击添加网络设配器，将其余三个虚拟网络添加上，每个适配器类型选择 VMXNET 3 万兆类型\r\n\r\n[![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup21.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup21.png)\r\n\r\n虚拟机选项中，引导选项，UEFI 安全引导取消掉。由于我们用的是 EFI 固件，引导模式默认 EFI 就可以了\r\n\r\n[![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup22.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup22.png)\r\n\r\n完成后这个虚拟最终配置如下，没有硬盘。\r\n\r\n[![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup23.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup23.png)\r\n\r\n回到电脑桌面，运行 StarWind V2V Converter, 选择 Local File,选择本地文件\r\n\r\n[![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup24.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup24.png)\r\n\r\n找到 efi 的 vmdk 固件并选择\r\n\r\n[![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup25.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup25.png)\r\n\r\n[![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup26.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup26.png)\r\n\r\n转换目标地址选择 Remote VMware ESXi Server ov vCenter, 该选项会将转换后的 vmdk 直接发送到 ESXi 的虚拟机上\r\n\r\n[![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup27.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup27.png)\r\n\r\n填入 ESXi 的 IP ，root 用户名密码\r\n\r\n[![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup28.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup28.png)\r\n\r\n如果没错，会显示出 ESXi 远程平台上的虚拟机，选择刚才创建的 Openwrt ，Next\r\n\r\n[![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup29.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup29.png)\r\n\r\n选择转换后的 VMDK 类型，默认 growable image 就可以\r\n\r\n[![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup30.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup30.png)\r\n\r\n[![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup31.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup31.png)\r\n\r\n等待转换完毕\r\n\r\n[![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup32.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup32.png)\r\n\r\n[![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup33.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup33.png)\r\n\r\n转换并上传完毕后，通过 ESXI 后台存储浏览，可以看到 Openwrt 下已经有了转换后的 vmdk ，\r\n\r\n[![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup34.png)]( https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup34.png)\r\n\r\n回到虚拟 Openwrt 下，编辑，会看到转换后的 vmdk 硬件已经自动挂载到虚拟机上了。这时，你只需要点击打开电源，你的 Openwrt 虚拟机就算做好了。之后的 OP 设置就可以通过浏览器去设置了。\r\n\r\n![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup35.png)\r\n\r\n最后说一下，如果要虚拟机开启自动启动，按下图操作即可。\r\n\r\n![image]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup36.png)\r\n![R1Ad2]( https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/R1Ad2.png)","content_rendered":"<h1>酷硬 R1 安装 ESXI 8</h1>\n<p><img alt=\"banner\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/banner.jpg\"/></p>\n<p>这个小主机很不错，入手之后就开始折腾，对于一颗 N6005 的 U 来说，不做虚拟化就太浪费了。到货后系统再带 PVE 和 ESir 的固件，用了用感觉也挺好，但是，不折腾一下怎么对得起这机器呢。</p>\n<p>经过一系列的折腾，ESXI 8 除了 TPM 以外基本兼容 R1 ，网卡、NVMe 等设备驱动完美支持，无需自己封装驱动，这点非常好。</p>\n<p>把相关操作记录一下，为需要的人做个参考。</p>\n<h2>准备工作</h2>\n<ul>\n<li>esxi 8 安装程序</li>\n<li>ventoy 写盘工具</li>\n<li>Openwrt 固件</li>\n<li>StarWind V2V Converter 程序</li>\n<li>键盘鼠标和 USB Hub</li>\n<li>8GB+容量 U 盘一个</li>\n</ul>\n<h3>ESXI 8 安装文件</h3>\n<p>可以直接去官网下载，地址： <a href=\"https://customerconnect.vmware.com/evalcenter?p=vsphere-eval-8\" rel=\"nofollow\">https://customerconnect.vmware.com/evalcenter?p=vsphere-eval-8</a> ，注意，你需要注册一个 VMWare 的 customer connect 账号，注册登录完毕后，就可以下载 60 天试用版的 ESXI8.0 了，至于怎么激活可以问问 Google ，</p>\n<p><a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/ESXI8Downlaod.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/ESXI8Downlaod.png\"/></a></p>\n<p>可直接下载 ISO 镜像即可，如果你需要封装驱动，那就下载 Offline Bundle 离线捆绑包，驱动封装不在本次讨论范围内。</p>\n<p>至于 vCenter Server ，实在太大，绝大多数功能都用不上，就不用管他了。</p>\n<h3>ventoy 写盘工具</h3>\n<p>下载地址： <a href=\"https://github.com/ventoy/Ventoy/releases\" rel=\"nofollow\">https://github.com/ventoy/Ventoy/releases</a> ，该工具目前为 1.0.84 版本，release 中下载 windows 平台即可</p>\n<h3>Openwrt 固件</h3>\n<p>这个不用多说了。要么你自己编译，要么用别人编译好的都可以，只要 X86 就行，比如 ESir 的高大全版，或者我这个仓库的 X86 也可以，<a href=\"https://github.com/smallprogram/OpenWrtAction/\" rel=\"nofollow\">https://github.com/smallprogram/OpenWrtAction/</a> ，不过建议使用 efi 模式的 VMDK 固件。</p>\n<p><a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/OPRelease.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/OPRelease.png\"/></a></p>\n<h3>StarWind V2V Converter 程序</h3>\n<p>该程序用于将 OP 固件 VMDK 文件转换为 ESXI 8.0 的存储格式，如果直接用 VMDK ，ESXI 8.0 将无法挂载镜像。下载地址： <a href=\"https://www.starwindsoftware.com/starwind-v2v-converter\" rel=\"nofollow\">https://www.starwindsoftware.com/starwind-v2v-converter</a> ，下载需要填写邮箱，下载地址会发送到你的邮箱里。 <a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/starwind-v2v-converter.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/starwind-v2v-converter.png\"/></a></p>\n<p>后续硬件设备请你自己备齐。</p>\n<h2>安装步骤</h2>\n<p>将显示器，键盘鼠标在一个 USB Hub 上，接入 R1 ，R1 中你喜欢的某个网口与 PC 网卡连接。</p>\n<h3>ventoy 写盘</h3>\n<ol>\n<li>U 盘插入 PC</li>\n<li>电脑运行 Ventoy2Disk.exe</li>\n<li>Ventoy 配置选项中将分区类型改为 GPT,安全启动支持打勾</li>\n</ol>\n<p><a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/ventoy.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/ventoy.png\"/></a></p>\n<ol>\n<li>设备选择 U 盘设备</li>\n<li>点击安装，等待安装完成，关闭 Ventoy 程序</li>\n<li>将下载好的 ESXI 镜像文件拷贝至 U 盘，完成后拔出 U 盘</li>\n</ol>\n<h3>ESXI 挂载</h3>\n<ol>\n<li>将 U 盘插入 R1 剩余的 U 口</li>\n<li>开机 F12 选在 U 盘启动</li>\n<li>进入 Ventoy ，选择 ESXI 镜像引导</li>\n</ol>\n<h3>ESXI 安装(重点)</h3>\n<p>ESXI 开始引导后，屏幕出现跑码界面,注意，看到跑码界面，马上按键盘上的 Shift+o,欧键，在屏幕下方删除多余命令，手工录入命令<code>cdromBoot runweasel autoPartitionOSDataSize=4096</code>,注意区分大小写。录入完成后回车继续。</p>\n<p>这个命令的意思是安装 ESXI 时，系统占用空间为 4096MB,也就是 4GB ，如果不录入该命令，ESXI8.0 默认会让 VMFSL 系统分区占用 100 多个 G ，可用的 VMFS 就没多少了。当然如果你的 R1 硬盘足够大，不录入也可以</p>\n<p><a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxiinsatll1.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxiinsatll1.png\"/></a></p>\n<p><a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxiinsatll2.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxiinsatll2.png\"/></a></p>\n<p>后续安装，ESXI 会扫描磁盘，选择 R1 自带的硬盘，之后设置 root 账号的密码，确认安装信息，最后重启设备</p>\n<p><a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxiinsatll3.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxiinsatll3.png\"/></a> <a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxiinsatll4.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxiinsatll4.png\"/></a></p>\n<h3>ESXI 后台配置</h3>\n<p>安装完成后，会进入一个后台配置界面。</p>\n<p><a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxiinsatll5.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxiinsatll5.png\"/></a></p>\n<p>按 F2 进入后台配置界面，输入 root 账号密码，挑个网口作为管理口，与 PC 机连接</p>\n<p><a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxiinsatll6.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxiinsatll6.png\"/></a></p>\n<p>通过 Configure Management Network 配置网络，选择 Network Adapters,配置管理口</p>\n<p><a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxiinsatll7.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxiinsatll7.png\"/></a></p>\n<p>进入后会发现，其中一个网卡状态为 connected ，就是接入网线的网口，注意，此处只能选择一个网口作为管理口，不要选择多个，例如图中，选择 vmnic3 网口，空格为选择或取消，配置完成回车保存，esc 退回上级菜单，有可能会提示你是否保存，选择是即可</p>\n<p><a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxiinsatll8.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxiinsatll8.png\"/></a></p>\n<p>返回上级菜单后，选择 IPv4 Configuration ，配置管理口的静态管理 IP ，用于未来访问 esxi 。</p>\n<p><a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxiinsatll9.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxiinsatll9.png\"/></a></p>\n<p>选择静态 IP ，配置为你网络环境中的内网网段 IP 即可，一般配置为孤僻 IP ，例如 254 ，253 ，也可随意配置，只要你记得住就行，网关为你路由器的 IP ，如果将 Openwrt 做入 ESXI 中的话，就配置为 Openwrt 路由的 IP ，比如我的固件 Openwrt 的默认 IP 为 10.10.0.253 ，那么此处 Gateway 网关就填入 10.10.0.253.</p>\n<p><a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxiinsatll10.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxiinsatll10.png\"/></a></p>\n<p>最后 esc 退出，会弹出确认提示，Y 即可。</p>\n<p><a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxiinsatll11.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxiinsatll11.png\"/></a></p>\n<p>退回到主界面</p>\n<h2>ESXI 前台配置</h2>\n<p>在 PC 端，输入之前后台配置的 IP 地址，访问 ESXI Web 管理端，我配置的是 10.10.0.254</p>\n<h3>基础设置</h3>\n<p><a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup01.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup01.png\"/></a></p>\n<p>ESXI 8.0 首页</p>\n<p><a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup02.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup02.png\"/></a></p>\n<p>开启自动启动策略</p>\n<p><a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup03.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup03.png\"/></a></p>\n<p>PCI 设备 设置中，可以切换硬件是否直通，这个后边会说到</p>\n<p><a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup04.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup04.png\"/></a></p>\n<p>电源管理中，启用高性能</p>\n<p><a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup05.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup05.png\"/></a></p>\n<p>许可中，激活 ESXI ，序列号我没有，你们自己找，嘿嘿嘿。。</p>\n<p><a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup06.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup06.png\"/></a></p>\n<h3>网络设置</h3>\n<p>虚拟交换机，系统默认带了一个虚拟交换机，需要再继续添加其余三个</p>\n<p><a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup07.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup07.png\"/></a></p>\n<p>例如 vSwitch0 虚拟交换绑定的上行链路为物理网卡 0 口</p>\n<p><a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup08.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup08.png\"/></a></p>\n<p>同理，vSwitch1 虚拟交换绑定的上行链路为物理网卡 1 口，按照这个逻辑，将剩余的网口一次绑定到独立的虚拟交换机上</p>\n<p><a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup09.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup09.png\"/></a></p>\n<p>每一个 vSwitch 虚拟交换中的安全选项中，都需要开启混杂模式、MAC 地址变更、伪传输。如果不开启会出现问题，造成网卡间不能通讯，网络故障等。</p>\n<p><a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup10_1.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup10_1.png\"/></a></p>\n<p>虚拟交换机维护完毕后，回到端口组，对应添加四个虚拟网络。</p>\n<p><a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup10.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup10.png\"/></a></p>\n<p>例如 VM Network 绑定交换机 vSwitch0,VM Network1 绑定交换机 vSwitch1 。</p>\n<p><a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup11.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup11.png\"/></a></p>\n<p><a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup12.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup12.png\"/></a></p>\n<p>最终的效果就是物理网卡 0 口，通过 vSwitch0 虚拟交换机绑定到 VM Network 虚拟网络上，最后虚拟机使用 VM Network 虚拟网络进行通信</p>\n<p><a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup13.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup13.png\"/></a></p>\n<p>下面是整体网络拓补图，概括为物理网卡----&gt;虚拟交换机-----&gt;虚拟网络-----&gt;虚拟机， 其中有个特数据的网络，Management Network,这个是 ESXI 的管理口网络，默认绑定到前面后台设置时的虚拟交换机上。这个口是无法做硬件直通的，如果这个口做了硬件直通，那你以后就再也无法访问 ESXI Web 管理界面了。</p>\n<p>这种非直通的方案好处在于，你可以用多个虚拟机共享同一网口的网络，性能也很好。</p>\n<p><a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup14.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup14.png\"/></a></p>\n<p>下面这张图，是 2 、3 口做了网卡直通后的效果，2 、3 口绕过了之前的虚拟网络环节，直接与虚拟机进行通信，效率会高一些，但是缺点十分明显，2 、3 口直通后就只能被单一虚拟机使用了。并且 2 、3 口无法访问 ESXI 管理后台。</p>\n<p>我个人认为，为了提升那么一点点的网络性能，做直通是完全没有必要的，ESXI 8 对网络进行了大量优化，目前直通与非直通的效率几乎一致。</p>\n<p><a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup15.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup15.png\"/></a></p>\n<h3>配置 OPENWRT 虚拟机</h3>\n<p>选择虚拟机选项卡，点击创建 /主次虚拟机</p>\n<p><a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup16.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup16.png\"/></a></p>\n<p><a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup17.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup17.png\"/></a></p>\n<p>名称按你喜欢的取，客户机系统选择 Linux ，版本选择 6.x 或更高</p>\n<p><a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup18.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup18.png\"/></a></p>\n<p><a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup19.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://github.com/smallprogram/OpenWrtAction/raw/main/docs/pic/R1_ESXI8/esxisetup19.png\"/></a></p>\n<p>自定义设置中，将硬盘删掉，点后边的×，将 CD 驱动器也删掉，这个用不到</p>\n<p><a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup20.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup20.png\"/></a></p>\n<p>点击添加网络设配器，将其余三个虚拟网络添加上，每个适配器类型选择 VMXNET 3 万兆类型</p>\n<p><a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup21.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup21.png\"/></a></p>\n<p>虚拟机选项中，引导选项，UEFI 安全引导取消掉。由于我们用的是 EFI 固件，引导模式默认 EFI 就可以了</p>\n<p><a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup22.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup22.png\"/></a></p>\n<p>完成后这个虚拟最终配置如下，没有硬盘。</p>\n<p><a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup23.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup23.png\"/></a></p>\n<p>回到电脑桌面，运行 StarWind V2V Converter, 选择 Local File,选择本地文件</p>\n<p><a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup24.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup24.png\"/></a></p>\n<p>找到 efi 的 vmdk 固件并选择</p>\n<p><a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup25.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup25.png\"/></a></p>\n<p><a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup26.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup26.png\"/></a></p>\n<p>转换目标地址选择 Remote VMware ESXi Server ov vCenter, 该选项会将转换后的 vmdk 直接发送到 ESXi 的虚拟机上</p>\n<p><a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup27.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup27.png\"/></a></p>\n<p>填入 ESXi 的 IP ，root 用户名密码</p>\n<p><a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup28.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup28.png\"/></a></p>\n<p>如果没错，会显示出 ESXi 远程平台上的虚拟机，选择刚才创建的 Openwrt ，Next</p>\n<p><a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup29.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup29.png\"/></a></p>\n<p>选择转换后的 VMDK 类型，默认 growable image 就可以</p>\n<p><a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup30.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup30.png\"/></a></p>\n<p><a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup31.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup31.png\"/></a></p>\n<p>等待转换完毕</p>\n<p><a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup32.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup32.png\"/></a></p>\n<p><a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup33.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup33.png\"/></a></p>\n<p>转换并上传完毕后，通过 ESXI 后台存储浏览，可以看到 Openwrt 下已经有了转换后的 vmdk ，</p>\n<p><a href=\"https://github.com/smallprogram/OpenWrtAction/blob/main/docs/pic/R1_ESXI8/esxisetup34.png\" rel=\"nofollow\"><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup34.png\"/></a></p>\n<p>回到虚拟 Openwrt 下，编辑，会看到转换后的 vmdk 硬件已经自动挂载到虚拟机上了。这时，你只需要点击打开电源，你的 Openwrt 虚拟机就算做好了。之后的 OP 设置就可以通过浏览器去设置了。</p>\n<p><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup35.png\"/></p>\n<p>最后说一下，如果要虚拟机开启自动启动，按下图操作即可。</p>\n<p><img alt=\"image\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/esxisetup36.png\"/>\n<img alt=\"R1Ad2\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://koolcore.oss-cn-shenzhen.aliyuncs.com/wiki/R1Ad2.png\"/></p>\n","last_modified":1670656366,"replies":6,"id":901533}]