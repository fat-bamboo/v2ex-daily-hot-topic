[{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1656605007","name":"programmer","avatar_normal":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1656605007","title":"程序员","url":"https://www.v2ex.com/go/programmer","topics":49864,"footer":"","header":"While code monkeys are not eating bananas, they're coding.","title_alternative":"Programmer","avatar_mini":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1656605007","stars":7903,"aliases":[],"root":false,"id":300,"parent_node_name":"computer"},"member":{"id":398408,"username":"tenstone","url":"https://www.v2ex.com/u/tenstone","website":"","twitter":null,"psn":null,"github":null,"btc":null,"location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/avatar/2c6c/842e/398408_mini.png?m=1573088411","avatar_normal":"https://cdn.v2ex.com/avatar/2c6c/842e/398408_normal.png?m=1573088411","avatar_large":"https://cdn.v2ex.com/avatar/2c6c/842e/398408_large.png?m=1573088411","created":1554339571,"last_modified":1573088411},"last_reply_by":"godfunc","last_touched":1658223640,"title":"调研贴：你用什么笔记软件？","url":"https://www.v2ex.com/t/867254","created":1658208174,"deleted":0,"content":"曾经用 EverNote ，现在用 OneNote,\r\n\r\n不过最近发现了 Roam Research 这种双链笔记，感觉对学习有点帮助\r\n\r\n你用啥？","content_rendered":"<p>曾经用 EverNote ，现在用 OneNote,</p>\n<p>不过最近发现了 Roam Research 这种双链笔记，感觉对学习有点帮助</p>\n<p>你用啥？</p>\n","last_modified":1658208174,"replies":145,"id":867254},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":187561,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340","stars":3514,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"id":264819,"username":"Cat7373","url":"https://www.v2ex.com/u/Cat7373","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/gravatar/6900f7beeadab2cc214395eae4246efe?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/6900f7beeadab2cc214395eae4246efe?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/6900f7beeadab2cc214395eae4246efe?s=73&d=retro","created":1509752489,"last_modified":1655374430},"last_reply_by":"lvhuan2015","last_touched":1658222020,"title":"西天取经是十万八千里，孙悟空一个筋斗云也是十万八千里，为什么一个筋斗云就能直接到达目的地，却要耗费十四年一步一步的走过去？","url":"https://www.v2ex.com/t/867156","created":1658191358,"deleted":0,"content":"","content_rendered":"","last_modified":1658191358,"replies":109,"id":867156},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/6e27/13a6/557_large.png?m=1608969785","name":"life","avatar_normal":"https://cdn.v2ex.com/navatar/6e27/13a6/557_normal.png?m=1608969785","title":"生活","url":"https://www.v2ex.com/go/life","topics":3308,"footer":"","header":"生活中的技术讨论","title_alternative":"Life","avatar_mini":"https://cdn.v2ex.com/navatar/6e27/13a6/557_mini.png?m=1608969785","stars":868,"aliases":[],"root":false,"id":557,"parent_node_name":""},"member":{"id":389889,"username":"Salticey","url":"https://www.v2ex.com/u/Salticey","website":"","twitter":null,"psn":null,"github":null,"btc":null,"location":"","tagline":"cool","bio":"","avatar_mini":"https://cdn.v2ex.com/avatar/c608/4947/389889_mini.png?m=1648041212","avatar_normal":"https://cdn.v2ex.com/avatar/c608/4947/389889_normal.png?m=1648041212","avatar_large":"https://cdn.v2ex.com/avatar/c608/4947/389889_large.png?m=1648041212","created":1551858682,"last_modified":1648041212},"last_reply_by":"czkm1320","last_touched":1658223656,"title":"每天闹钟响起时，你脑子里第一个出现的想法是什么","url":"https://www.v2ex.com/t/867213","created":1658199687,"deleted":0,"content":"因为天天拖延熬夜，我每天都是对前一天晚睡的后悔和没睡够的不甘😭😭😭😭","content_rendered":"因为天天拖延熬夜，我每天都是对前一天晚睡的后悔和没睡够的不甘😭😭😭😭","last_modified":1658199687,"replies":82,"id":867213},{"node":{"avatar_large":"/static/img/node_default_large.png","name":"fit","avatar_normal":"/static/img/node_default_normal.png","title":"健康","url":"https://www.v2ex.com/go/fit","topics":844,"footer":"","header":"这个节点的设立，是为了让大家可以分享关于健身和健康生活方式的经验。如果你有什么正在困扰自己的身体症状，请立刻寻求正规医院的帮助。","title_alternative":"Fit","avatar_mini":"/static/img/node_default_mini.png","stars":273,"aliases":[],"root":false,"id":700,"parent_node_name":"life"},"member":{"id":298785,"username":"ingin","url":"https://www.v2ex.com/u/ingin","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/avatar/02a0/fbc7/298785_mini.png?m=1658196736","avatar_normal":"https://cdn.v2ex.com/avatar/02a0/fbc7/298785_normal.png?m=1658196736","avatar_large":"https://cdn.v2ex.com/avatar/02a0/fbc7/298785_large.png?m=1658196736","created":1520679009,"last_modified":1658196736},"last_reply_by":"Zerek","last_touched":1658222735,"title":"人在北京，查出了胆结石","url":"https://www.v2ex.com/t/867195","created":1658196745,"deleted":0,"content":"兄弟们有没有做过胆结石微创手术的呀，北京哪个医院比较靠谱，价格大概是多少呀？\r\n现在在中日友好医院排队，做手术要 17000 左右，也不知道做的好不好。\r\n有做过的老哥可以给出点建议吗？非常感谢","content_rendered":"兄弟们有没有做过胆结石微创手术的呀，北京哪个医院比较靠谱，价格大概是多少呀？<br />现在在中日友好医院排队，做手术要 17000 左右，也不知道做的好不好。<br />有做过的老哥可以给出点建议吗？非常感谢","last_modified":1658214861,"replies":74,"id":867195},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/735b/90b4/67_large.png?m=1591791625","name":"taste","avatar_normal":"https://cdn.v2ex.com/navatar/735b/90b4/67_normal.png?m=1591791625","title":"美酒与美食","url":"https://www.v2ex.com/go/taste","topics":609,"footer":"","header":"关于那些好喝和好吃的","title_alternative":"Taste","avatar_mini":"https://cdn.v2ex.com/navatar/735b/90b4/67_mini.png?m=1591791625","stars":656,"aliases":[],"root":false,"id":67,"parent_node_name":"life"},"member":{"id":522697,"username":"cxz2998","url":"https://www.v2ex.com/u/cxz2998","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/gravatar/a813cc77d499708b65cbfc2101c0ef96?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/a813cc77d499708b65cbfc2101c0ef96?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/a813cc77d499708b65cbfc2101c0ef96?s=73&d=retro","created":1607328021,"last_modified":1635295910},"last_reply_by":"mofeishiwoa","last_touched":1658223441,"title":"好吃的大米能有多好吃？","url":"https://www.v2ex.com/t/867227","created":1658201191,"deleted":0,"content":"看到别人在讨论大米，五常大米，贵州大米，稻花香大米，都在说有多香多香\r\n\r\n但是，人类无法想象出没有见过的色彩\r\n\r\n记忆里吃过最香的大米好像就是小时候家里大人带回来红色包装的大米了\r\n\r\n不知道各位大佬吃过的最香的大米是什么牌子的？有推荐嘛？","content_rendered":"<p>看到别人在讨论大米，五常大米，贵州大米，稻花香大米，都在说有多香多香</p>\n<p>但是，人类无法想象出没有见过的色彩</p>\n<p>记忆里吃过最香的大米好像就是小时候家里大人带回来红色包装的大米了</p>\n<p>不知道各位大佬吃过的最香的大米是什么牌子的？有推荐嘛？</p>\n","last_modified":1658223294,"replies":54,"id":867227},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/a3c6/5c29/108_large.png?m=1635654723","name":"bb","avatar_normal":"https://cdn.v2ex.com/navatar/a3c6/5c29/108_normal.png?m=1635654723","title":"宽带症候群","url":"https://www.v2ex.com/go/bb","topics":11101,"footer":"","header":"网速很重要。比快更快。","title_alternative":"Broadband Symptom Complex","avatar_mini":"https://cdn.v2ex.com/navatar/a3c6/5c29/108_mini.png?m=1635654723","stars":5688,"aliases":[],"root":false,"id":108,"parent_node_name":"geek"},"member":{"id":555634,"username":"itechnology","url":"https://www.v2ex.com/u/itechnology","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/avatar/ceca/7efb/555634_mini.png?m=1654499194","avatar_normal":"https://cdn.v2ex.com/avatar/ceca/7efb/555634_normal.png?m=1654499194","avatar_large":"https://cdn.v2ex.com/avatar/ceca/7efb/555634_large.png?m=1654499194","created":1631237690,"last_modified":1654499194},"last_reply_by":"persistencehoo","last_touched":1658223497,"title":"家里 WiFi 名称和密码被隔壁给改了，为了防止再次被改，电信光猫的超级用户密码可以修改吗？","url":"https://www.v2ex.com/t/867189","created":1658196368,"deleted":0,"content":"事情是这样的：我在一个公寓租了个单间住，房东允许我自己拉宽带，前两天出门碰到隔壁的哥们，他说他刚搬进来，问我办了宽带没有，然后跟我商量两个人共用一条宽带，他给钱给我，被我拒绝了，因为我觉得共用一个宽带容易扯皮，而且还麻烦，后来他退而求其次，问我要 WiFi 密码，说借来连几天，等办了宽带就不用了。\r\n昨天晚上手机连不上 WiFi ，我用电脑登录路由器一看，发现 WiFi 名称和密码都给改了。分析了下，他应该是用的超级用户 [ telecomadmin  /  nE7jA%5m ] 登录的，因为据我所知，普通用户的密码是随机的，只有超级用户密码是固定的。\r\n所以问题来了，超级用户的密码怎么修改呢？我用超级用户登录进去发现只能修改普通用户的密码。","content_rendered":"<p>事情是这样的：我在一个公寓租了个单间住，房东允许我自己拉宽带，前两天出门碰到隔壁的哥们，他说他刚搬进来，问我办了宽带没有，然后跟我商量两个人共用一条宽带，他给钱给我，被我拒绝了，因为我觉得共用一个宽带容易扯皮，而且还麻烦，后来他退而求其次，问我要 WiFi 密码，说借来连几天，等办了宽带就不用了。\n昨天晚上手机连不上 WiFi ，我用电脑登录路由器一看，发现 WiFi 名称和密码都给改了。分析了下，他应该是用的超级用户 [ telecomadmin  /  nE7jA%5m ] 登录的，因为据我所知，普通用户的密码是随机的，只有超级用户密码是固定的。\n所以问题来了，超级用户的密码怎么修改呢？我用超级用户登录进去发现只能修改普通用户的密码。</p>\n","last_modified":1658196368,"replies":52,"id":867189},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/5d61/6dd3/1017_large.png?m=1641688488","name":"blockchain","avatar_normal":"https://cdn.v2ex.com/navatar/5d61/6dd3/1017_normal.png?m=1641688488","title":"区块链","url":"https://www.v2ex.com/go/blockchain","topics":509,"footer":"","header":"关于区块链技术的开发和应用的讨论。","title_alternative":"Blockchain","avatar_mini":"https://cdn.v2ex.com/navatar/5d61/6dd3/1017_mini.png?m=1641688488","stars":588,"aliases":[],"root":false,"id":1017,"parent_node_name":"geek"},"member":{"id":77108,"username":"stnaw","url":"https://www.v2ex.com/u/stnaw","website":"","twitter":"","psn":"","github":"","btc":"","location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/avatar/4343/fb29/77108_mini.png?m=1658200642","avatar_normal":"https://cdn.v2ex.com/avatar/4343/fb29/77108_normal.png?m=1658200642","avatar_large":"https://cdn.v2ex.com/avatar/4343/fb29/77108_large.png?m=1658200642","created":1413268242,"last_modified":1658200642},"last_reply_by":"jiaoyidongxi","last_touched":1658204038,"title":"学习网站 B 站大会员免费送","url":"https://www.v2ex.com/t/867219","created":1658200736,"deleted":0,"content":"因为 CheersUP （ B 站的 NFT ），拿了一堆大会员月卡，也卖不了几个钱，拿来抽个奖吧~\r\n\r\nb?9a929570e12f15\r\ncf19f69?958feffe\r\n66?a346a28966fef\r\n4da?7916efc3ad89\r\neaebe6716c7f?365\r\n9?deffce0bb9654e\r\n4bbac8f50?004d84\r\n81c213ccbd79669?\r\n08f?1671dbf8d42c\r\n4bf?cd6d0f82c308\r\n\r\n没错,不搞那些花里胡哨的，就是这么简单暴力。\r\n\r\n为了增加点趣味性，以上每个兑换码分别隐去了一位数。（问号对应 0~9 中的某个数字）\r\n\r\n也请使用了的朋友留个言，避免其他朋友的重复劳动~\r\n\r\n一起( ゜- ゜)つロ 乾杯~~  🍻🍻","content_rendered":"因为 CheersUP （ B 站的 NFT ），拿了一堆大会员月卡，也卖不了几个钱，拿来抽个奖吧~<br /><br />b?9a929570e12f15<br />cf19f69?958feffe<br />66?a346a28966fef<br />4da?7916efc3ad89<br />eaebe6716c7f?365<br />9?deffce0bb9654e<br />4bbac8f50?004d84<br />81c213ccbd79669?<br />08f?1671dbf8d42c<br />4bf?cd6d0f82c308<br /><br />没错,不搞那些花里胡哨的，就是这么简单暴力。<br /><br />为了增加点趣味性，以上每个兑换码分别隐去了一位数。（问号对应 0~9 中的某个数字）<br /><br />也请使用了的朋友留个言，避免其他朋友的重复劳动~<br /><br />一起( ゜- ゜)つロ 乾杯~~  🍻🍻","last_modified":1658200840,"replies":28,"id":867219},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/6cdd/60ea/184_large.png?m=1630643913","name":"apple","avatar_normal":"https://cdn.v2ex.com/navatar/6cdd/60ea/184_normal.png?m=1630643913","title":"Apple","url":"https://www.v2ex.com/go/apple","topics":19052,"footer":"","header":"设计了 <a href=\"/go/watch\">Apple Watch</a>，<a href=\"/go/ipad\">iPad</a>，<a href=\"/go/iphone\">iPhone</a>，<a href=\"/go/imac\">iMac</a> 及 <a href=\"/go/mbp\">MacBook Pro</a> 等电子产品的美国公司。","title_alternative":"Apple","avatar_mini":"https://cdn.v2ex.com/navatar/6cdd/60ea/184_mini.png?m=1630643913","stars":2223,"aliases":[],"root":false,"id":184,"parent_node_name":"hardware"},"member":{"id":151087,"username":"ecloud","url":"https://www.v2ex.com/u/ecloud","website":"www.yecloud.net","twitter":"yecloud","psn":"","github":"yecloud","btc":"","location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/avatar/c430/bf33/151087_mini.png?m=1657677855","avatar_normal":"https://cdn.v2ex.com/avatar/c430/bf33/151087_normal.png?m=1657677855","avatar_large":"https://cdn.v2ex.com/avatar/c430/bf33/151087_large.png?m=1657677855","created":1449976367,"last_modified":1657677855},"last_reply_by":"fredli","last_touched":1658208430,"title":"想用个小屏的 mini 手机，又想用双 sim 卡，真烦","url":"https://www.v2ex.com/t/867216","created":1658200407,"deleted":0,"content":"大屏手机一个手操作不过来，非常不舒服\r\n\r\n手里一个辽宁移动 8 元卡绑定了 N 多东西，一个上海电信全家欢卡，平时流量都走电信卡也挺舒服的\r\n\r\n由于电信卡是宽带绑送的，估计不会用长久，并不想把所有的绑定都转到电信卡上\r\n\r\n国内的 mini 又不支持 esim ，烦...","content_rendered":"<p>大屏手机一个手操作不过来，非常不舒服</p>\n<p>手里一个辽宁移动 8 元卡绑定了 N 多东西，一个上海电信全家欢卡，平时流量都走电信卡也挺舒服的</p>\n<p>由于电信卡是宽带绑送的，估计不会用长久，并不想把所有的绑定都转到电信卡上</p>\n<p>国内的 mini 又不支持 esim ，烦...</p>\n","last_modified":1658200407,"replies":28,"id":867216},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1656605007","name":"programmer","avatar_normal":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1656605007","title":"程序员","url":"https://www.v2ex.com/go/programmer","topics":49853,"footer":"","header":"While code monkeys are not eating bananas, they're coding.","title_alternative":"Programmer","avatar_mini":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1656605007","stars":7903,"aliases":[],"root":false,"id":300,"parent_node_name":"computer"},"member":{"id":80641,"username":"kinboy","url":"https://www.v2ex.com/u/kinboy","website":"","twitter":"","psn":"","github":"","btc":"","location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/avatar/03d4/3fdf/80641_mini.png?m=1657591231","avatar_normal":"https://cdn.v2ex.com/avatar/03d4/3fdf/80641_normal.png?m=1657591231","avatar_large":"https://cdn.v2ex.com/avatar/03d4/3fdf/80641_large.png?m=1657591231","created":1415371420,"last_modified":1657591231},"last_reply_by":"dycc2010","last_touched":1658196643,"title":"［地铁异闻］神秘老大爷偷开免密热点？","url":"https://www.v2ex.com/t/867151","created":1658189941,"deleted":0,"content":"地铁上来个七八十岁的老大爷在我旁边坐下，没两分钟从身上挎包里掏出一部大约 15 年前的老款安卓手机，我注意到了是因为他屏幕上是满满的绿色代码，而且老头动作鬼鬼祟祟，手机半藏在包里，斜着眼睛往下看的，我就开始偷偷观察他在干什么。后来看到他退出一个 app 后重启了手机，然后重新打开这个 app ，屏幕上就开始滚动绿色的控制台输出，最后一行看出了端倪，类似 WiFi 热点的代码，我打开手机搜了下附近的热点，找到一个命名奇怪的开放热点，连了上去，我一连上，老头手机上的控制台就开始往下滚动，确定他是在发热点后我就赶紧断开了，过了一会儿老头从包里拿出手机检查有没有人连上，然后我就到站下车了。有人知道老头这是在做什么吗","content_rendered":"地铁上来个七八十岁的老大爷在我旁边坐下，没两分钟从身上挎包里掏出一部大约 15 年前的老款安卓手机，我注意到了是因为他屏幕上是满满的绿色代码，而且老头动作鬼鬼祟祟，手机半藏在包里，斜着眼睛往下看的，我就开始偷偷观察他在干什么。后来看到他退出一个 app 后重启了手机，然后重新打开这个 app ，屏幕上就开始滚动绿色的控制台输出，最后一行看出了端倪，类似 WiFi 热点的代码，我打开手机搜了下附近的热点，找到一个命名奇怪的开放热点，连了上去，我一连上，老头手机上的控制台就开始往下滚动，确定他是在发热点后我就赶紧断开了，过了一会儿老头从包里拿出手机检查有没有人连上，然后我就到站下车了。有人知道老头这是在做什么吗","last_modified":1658189941,"replies":28,"id":867151},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1656605007","name":"programmer","avatar_normal":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1656605007","title":"程序员","url":"https://www.v2ex.com/go/programmer","topics":49864,"footer":"","header":"While code monkeys are not eating bananas, they're coding.","title_alternative":"Programmer","avatar_mini":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1656605007","stars":7903,"aliases":[],"root":false,"id":300,"parent_node_name":"computer"},"member":{"id":162943,"username":"Kontinue","url":"https://www.v2ex.com/u/Kontinue","website":"","twitter":"","psn":"","github":"","btc":"","location":"杭州","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/avatar/0e62/8909/162943_mini.png?m=1644820468","avatar_normal":"https://cdn.v2ex.com/avatar/0e62/8909/162943_normal.png?m=1644820468","avatar_large":"https://cdn.v2ex.com/avatar/0e62/8909/162943_large.png?m=1644820468","created":1457701574,"last_modified":1644820468},"last_reply_by":"radio777","last_touched":1658222479,"title":"机械键盘求推荐","url":"https://www.v2ex.com/t/867290","created":1658216375,"deleted":0,"content":"之前用的 IKBC 104 茶轴，三年不到点，有个把按键不太灵想换一个。\r\n\r\n预算 500 左右的样子，茶轴，或者类似茶轴的手感也行。\r\n\r\n年会中了一个雷蛇的线性轴，试了下不喜欢，键程太短，基本上碰到就触发了，所以就卖掉了。。\r\n\r\n大家有推荐的嘛~~~","content_rendered":"<p>之前用的 IKBC 104 茶轴，三年不到点，有个把按键不太灵想换一个。</p>\n<p>预算 500 左右的样子，茶轴，或者类似茶轴的手感也行。</p>\n<p>年会中了一个雷蛇的线性轴，试了下不喜欢，键程太短，基本上碰到就触发了，所以就卖掉了。。</p>\n<p>大家有推荐的嘛~~~</p>\n","last_modified":1658216389,"replies":25,"id":867290},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/6e27/13a6/557_large.png?m=1608969785","name":"life","avatar_normal":"https://cdn.v2ex.com/navatar/6e27/13a6/557_normal.png?m=1608969785","title":"生活","url":"https://www.v2ex.com/go/life","topics":3308,"footer":"","header":"生活中的技术讨论","title_alternative":"Life","avatar_mini":"https://cdn.v2ex.com/navatar/6e27/13a6/557_mini.png?m=1608969785","stars":868,"aliases":[],"root":false,"id":557,"parent_node_name":""},"member":{"id":547697,"username":"DoubleKing","url":"https://www.v2ex.com/u/DoubleKing","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/gravatar/d484e7e44801c6215441c6453597f0c8?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/d484e7e44801c6215441c6453597f0c8?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/d484e7e44801c6215441c6453597f0c8?s=73&d=retro","created":1623114847,"last_modified":1658135558},"last_reply_by":"carrieflint","last_touched":1658223409,"title":"好兄弟的工地停工了；回老家农村待业了","url":"https://www.v2ex.com/t/867285","created":1658215193,"deleted":0,"content":"兄弟之前在云南和家里亲戚一起揽工地，至今拿不到钱；\r\n\r\n在之前也有个许久不联系的同学打电话给我吐槽说，失业了，回老家没事干；准备买个小货车收废品了；\r\n我公司也在裁员，也是泥菩萨过江；只能爱莫能助了\r\n\r\n我们老家是个鸟不拉屎的边陲小镇；这两年老家年轻人明显变多了；\r\n\r\n农村的未来在哪里","content_rendered":"<p>兄弟之前在云南和家里亲戚一起揽工地，至今拿不到钱；</p>\n<p>在之前也有个许久不联系的同学打电话给我吐槽说，失业了，回老家没事干；准备买个小货车收废品了；\n我公司也在裁员，也是泥菩萨过江；只能爱莫能助了</p>\n<p>我们老家是个鸟不拉屎的边陲小镇；这两年老家年轻人明显变多了；</p>\n<p>农村的未来在哪里</p>\n","last_modified":1658220571,"replies":25,"id":867285},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":187552,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340","stars":3514,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"id":88544,"username":"keepeye","url":"https://www.v2ex.com/u/keepeye","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/gravatar/1750a42f7b729b9b60753e07ae37b6fe?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/1750a42f7b729b9b60753e07ae37b6fe?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/1750a42f7b729b9b60753e07ae37b6fe?s=73&d=retro","created":1419563133,"last_modified":1625812973},"last_reply_by":"TWorldIsNButThis","last_touched":1658212009,"title":"感冒发烧到底能不能喝牛奶？","url":"https://www.v2ex.com/t/867226","created":1658201131,"deleted":0,"content":"感冒发烧要饮食清淡，那么牛奶是否属于清淡的食物？\r\n网络上正方观点认为感冒时人体比较虚弱，通过牛奶可以很好的补充营养，增强抵抗力，缩短病程等等。\r\n而反方观点认为，牛奶属于高蛋白高能量食物，使发烧更厉害，并且人在感冒时消化功能弱，喝牛奶不利于消化，还要考虑乳糖不耐受等等。\r\n还有中医就不谈了，认为牛奶是寒性的，平时也不建议喝\r\n\r\n所以感冒发烧的时候，是喝粥吃馒头好，还是牛奶更好？","content_rendered":"感冒发烧要饮食清淡，那么牛奶是否属于清淡的食物？<br />网络上正方观点认为感冒时人体比较虚弱，通过牛奶可以很好的补充营养，增强抵抗力，缩短病程等等。<br />而反方观点认为，牛奶属于高蛋白高能量食物，使发烧更厉害，并且人在感冒时消化功能弱，喝牛奶不利于消化，还要考虑乳糖不耐受等等。<br />还有中医就不谈了，认为牛奶是寒性的，平时也不建议喝<br /><br />所以感冒发烧的时候，是喝粥吃馒头好，还是牛奶更好？","last_modified":1658201143,"replies":24,"id":867226},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/a3c6/5c29/108_large.png?m=1635654723","name":"bb","avatar_normal":"https://cdn.v2ex.com/navatar/a3c6/5c29/108_normal.png?m=1635654723","title":"宽带症候群","url":"https://www.v2ex.com/go/bb","topics":11098,"footer":"","header":"网速很重要。比快更快。","title_alternative":"Broadband Symptom Complex","avatar_mini":"https://cdn.v2ex.com/navatar/a3c6/5c29/108_mini.png?m=1635654723","stars":5688,"aliases":[],"root":false,"id":108,"parent_node_name":"geek"},"member":{"id":530166,"username":"cwcc","url":"https://www.v2ex.com/u/cwcc","website":"","twitter":null,"psn":null,"github":null,"btc":null,"location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/avatar/47e1/761c/530166_mini.png?m=1653126529","avatar_normal":"https://cdn.v2ex.com/avatar/47e1/761c/530166_normal.png?m=1653126529","avatar_large":"https://cdn.v2ex.com/avatar/47e1/761c/530166_large.png?m=1653126529","created":1611457681,"last_modified":1653126529},"last_reply_by":"agagega","last_touched":1658211666,"title":"如何让两台设备在不同的局域网内互相寻找到对方","url":"https://www.v2ex.com/t/867224","created":1658201055,"deleted":0,"content":"场景，公司人比较多，但网络又是 DHCP 获取的 IP ，自己的笔记本、手机获取到的 IP 会随时变化，设置固定 IP 很容易和其他人设备冲突，但单位的网关又没有配设备名称映射，我每次手机和电脑互通的时候就必须先手动看下两者的 IP 地址。再加上家里虽然网络可以固定，但从家里的环境换到单位又不一样了。\r\n\r\n有啥子办法让它在这种变化的局域网网络环境下，两台设备可以自动或者快速获取到彼此的地址并联系呢？","content_rendered":"<p>场景，公司人比较多，但网络又是 DHCP 获取的 IP ，自己的笔记本、手机获取到的 IP 会随时变化，设置固定 IP 很容易和其他人设备冲突，但单位的网关又没有配设备名称映射，我每次手机和电脑互通的时候就必须先手动看下两者的 IP 地址。再加上家里虽然网络可以固定，但从家里的环境换到单位又不一样了。</p>\n<p>有啥子办法让它在这种变化的局域网网络环境下，两台设备可以自动或者快速获取到彼此的地址并联系呢？</p>\n","last_modified":1658201055,"replies":24,"id":867224},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":187552,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340","stars":3514,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"id":157978,"username":"zhangfeiwudi","url":"https://www.v2ex.com/u/zhangfeiwudi","website":"","twitter":"","psn":"","github":"","btc":"","location":"","tagline":"","bio":"https://www.liangtian.me/","avatar_mini":"https://cdn.v2ex.com/avatar/e24a/22a2/157978_mini.png?m=1644401838","avatar_normal":"https://cdn.v2ex.com/avatar/e24a/22a2/157978_normal.png?m=1644401838","avatar_large":"https://cdn.v2ex.com/avatar/e24a/22a2/157978_large.png?m=1644401838","created":1454483604,"last_modified":1644401838},"last_reply_by":"Yuchen","last_touched":1658213082,"title":"妈妈最近身体不好，天天在家里带着，怎么让老人家有事情做？","url":"https://www.v2ex.com/t/867235","created":1658202451,"deleted":0,"content":"老妈前几年查出乳腺癌，后来动了手术，之后就不上班了在家静养。这几年气色感觉好点了。但是也是没事情做。天天在家刷抖音 追剧 偶尔和小区朋友聊聊天。和老爸感情也不好 经常吵架\r\n\r\n问她她也没什么爱好，但是我感觉也不能天天闷在家里  友友们有什么好的主意吗 除了多陪她聊聊天 还有啥好办法吗\r\n\r\n忘记说我了 我在上海 不在老家 已婚未育 ，程序猿 996 一年只有几次回去的机会，已经在上海买房了 后面估计不会定居老家了，本来想偶尔接老妈过来住几天的 最近疫情也搞的很麻烦","content_rendered":"<p>老妈前几年查出乳腺癌，后来动了手术，之后就不上班了在家静养。这几年气色感觉好点了。但是也是没事情做。天天在家刷抖音 追剧 偶尔和小区朋友聊聊天。和老爸感情也不好 经常吵架</p>\n<p>问她她也没什么爱好，但是我感觉也不能天天闷在家里  友友们有什么好的主意吗 除了多陪她聊聊天 还有啥好办法吗</p>\n<p>忘记说我了 我在上海 不在老家 已婚未育 ，程序猿 996 一年只有几次回去的机会，已经在上海买房了 后面估计不会定居老家了，本来想偶尔接老妈过来住几天的 最近疫情也搞的很麻烦</p>\n","last_modified":1658202451,"replies":21,"id":867235},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/eaae/339c/653_large.png?m=1611762937","name":"vps","avatar_normal":"https://cdn.v2ex.com/navatar/eaae/339c/653_normal.png?m=1611762937","title":"VPS","url":"https://www.v2ex.com/go/vps","topics":6005,"footer":"友情提醒：如果你想好好做一个网站，那就不要购买那些过于低价甚至免费的 VPS。","header":"关于 VPS 购买和使用的讨论。","title_alternative":"VPS","avatar_mini":"https://cdn.v2ex.com/navatar/eaae/339c/653_mini.png?m=1611762937","stars":2640,"aliases":[],"root":false,"id":653,"parent_node_name":"cloud"},"member":{"id":33550,"username":"v23x","url":"https://www.v2ex.com/u/v23x","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/gravatar/2f357101556b0b35ebbbccf28a2b4d85?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/2f357101556b0b35ebbbccf28a2b4d85?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/2f357101556b0b35ebbbccf28a2b4d85?s=73&d=retro","created":1359873713,"last_modified":1359873713},"last_reply_by":"popzuk","last_touched":1658207635,"title":"大家买 vps 或者买机场都是怎么付款的","url":"https://www.v2ex.com/t/867208","created":1658199346,"deleted":0,"content":"看了隔壁的帖子 如果确有其事  让人心惊胆跳\r\n\r\n一个 mjj 声称 2 年前在某个服务商曾经购买过 vps \r\n\r\n然后今年因为有人利用这个服务商的 vps 做了*赌*>博\r\n\r\n导致警察把这个服务商一锅端了  端了之后根据这个服务商的后台付款记录\r\n\r\n把这个 mjj 喊到了派出所 吃了一天牢饭 估计肯定少不了盘查 审讯的\r\n\r\n买机场的估计就更加危险了 因为你用的 IP 很可能跟%诈*骗>犯用的 IP 是一样的","content_rendered":"<p>看了隔壁的帖子 如果确有其事  让人心惊胆跳</p>\n<p>一个 mjj 声称 2 年前在某个服务商曾经购买过 vps </p>\n<p>然后今年因为有人利用这个服务商的 vps 做了<em>赌</em>&gt;博</p>\n<p>导致警察把这个服务商一锅端了  端了之后根据这个服务商的后台付款记录</p>\n<p>把这个 mjj 喊到了派出所 吃了一天牢饭 估计肯定少不了盘查 审讯的</p>\n<p>买机场的估计就更加危险了 因为你用的 IP 很可能跟%诈*骗&gt;犯用的 IP 是一样的</p>\n","last_modified":1658199400,"replies":18,"id":867208},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/d67d/8ab4/39_large.png?m=1651385965","name":"android","avatar_normal":"https://cdn.v2ex.com/navatar/d67d/8ab4/39_normal.png?m=1651385965","title":"Android","url":"https://www.v2ex.com/go/android","topics":9588,"footer":"","header":"来自 <a href=\"/go/google\">Google</a> 的开放源代码智能手机平台。","title_alternative":"Android","avatar_mini":"https://cdn.v2ex.com/navatar/d67d/8ab4/39_mini.png?m=1651385965","stars":5111,"aliases":[],"root":false,"id":39,"parent_node_name":"hardware"},"member":{"id":580294,"username":"Liamhong","url":"https://www.v2ex.com/u/Liamhong","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/gravatar/cf8dc376b509f6009d9178e247987bb2?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/cf8dc376b509f6009d9178e247987bb2?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/cf8dc376b509f6009d9178e247987bb2?s=73&d=retro","created":1651914064,"last_modified":1651914064},"last_reply_by":"duxiansen","last_touched":1658222589,"title":"用上这个 Mock 神器，让你的开发爽上天！","url":"https://www.v2ex.com/t/867293","created":1658216984,"deleted":0,"content":"## 前端的痛苦\r\n\r\n作为前端，最痛苦的是什么时候？\r\n\r\n每个迭代，需求文档跟设计稿都出来了，静态页面唰唰两天就做完了。可是做前端又不是简单地把后端吐出来的数据放到页面上就完了，还有各种前端处理逻辑啊。\r\n\r\n后端接口还没出来，我就得边写代码边测前端效果，又没有真实数据。有人建议用 Mock 工具，可是每个接口都要自己写 Mock 规则，这得浪费多少时间呀。\r\n\r\n等到后端好不容易把接口写出来了，一对接联调，好多字段的数据又跟我 Mock 的数据对不上，又得重新改代码。\r\n\r\n![]( https://files.mdnice.com/user/24782/25a7be6a-bb12-4f69-96ef-10fabbd1267c.png)\r\n\r\n每个迭代都是一场折磨。\r\n\r\n就是那种，明明知道这个地方整个团队都可以更有效率，但偏偏就是做不到的**无力感**。\r\n\r\n## 黎明的希望\r\n\r\n直到有一天，我遇到这个神器。我的效率提升了 100%。\r\n\r\n我可以用最省力最优雅的方式得到我需要的 Mock 数据，甚至不需要任何配置。而且，联调时候曾经遇到的各种令人崩溃的前后端数据对接问题，统统不！见！了！\r\n\r\n就是这个⬇️\r\n\r\n![Apifox]( https://files.mdnice.com/user/24782/2e69c32b-3d92-4ad3-a69b-c5a16cecba89.png)\r\n\r\n我研究了整整一周，越研究越是心惊。这个工具太强大，完全超出我的预期，就如《倚天屠龙记》里张无忌修炼的乾坤大挪移，练完一层，上面还有一层，每一层都是一片全新的天地。\r\n\r\n我曾经以为，定接口什么的你们后端定就行了，跟我前端有什么关系。定好了吐数据给我就行了。\r\n\r\n我曾经以为，写接口文档什么的完全是浪费时间，边写代码边改接口不好嘛。\r\n\r\n直到我遇到这个神器，我才明白好的工作习惯能给我提升多少效率。\r\n\r\n现在的我已经不一样了。我认为这款神器能够把全中国前端程序员的工作效率都提升一倍。我也希望在读这篇文章的你，能够好好把这款工具用起来。\r\n\r\n\r\n好，接下来我要发功了。\r\n\r\n![]( https://files.mdnice.com/user/24782/41bd58b8-f73b-4b42-a989-cd6e6f0649d4.png)\r\n\r\n## 第一层：智能 Mock \r\n\r\nApifox 是个 API 协作工具，用它来做 Mock 数据的基础也是 API 文档。在 Apifox 里维护的 API 可以生成好看的在线接口文档，也可以像 Postman 那样一键调试，像 JMeter 那样做测试，还可以直接 Mock 数据。不过今天我们只聊 **Mock**。\r\n\r\n首先，你需要在 Apifox 里面创建一个接口，定义好`请求参数`和`返回数据结构`。\r\n\r\n好了，保存。完成！\r\n\r\n……………………\r\n\r\n等会儿？ Mock 呢？怎么就完成了？ Mock 规则在哪儿写？\r\n\r\n\r\n![]( https://files.mdnice.com/user/24782/5cc6a034-3627-4160-a730-318d4b720bc2.png)\r\n\r\n\r\n真的就完成了。\r\n\r\nApifox 会自动启动一个本地的 Mock 服务，我复制一下 Apifox 自动生成的 Mock 地址，用浏览器打开看下效果。\r\n\r\n![Apifox 本地 Mock 服务]( https://files.mdnice.com/user/24782/2e95ee0d-a133-4a23-ab0a-8a71501d65e0.png)\r\n\r\n就是这么简单！就是这么方便！\r\n\r\n什么！都不需要！配置！\r\n\r\n![]( https://files.mdnice.com/user/24782/f2c9a8f7-4cbe-49d7-973c-e38a13a3754c.png)\r\n\r\n其实我们遇到的大部分 API 返回数据都是通用的，用户名、手机号、地址、邮箱、时间戳，等等等等。但是你要去写 Mock 规则就很麻烦。**你要怎么生成一个看起来合理的中国人名？**\r\n\r\n在 Apifox 里面，这变成了最简单的事情，甚至是完全无感的。只要写 API 文档的时候把返回的**数据结构**定义好，这个事情就完成了。Apifox 会根据**字段名称**智能生成 Mock 数据，**不需要任何配置**。\r\n\r\n如接口返回的数据结构里某个字段名称叫`username`就会得到“程敏”“王宁”“~~安慕希~~”“~~李玛璧~~”。\r\n\r\n字段名称叫`phone`，就会得到`15237829132`、`18907284633`。\r\n\r\n字段名称叫`city`，就会得到`杭州市`、`高雄市`、`博尔塔拉蒙古自治州`。\r\n\r\n甚至如果你的字段名称叫`icon`，就会返回一个`图片 URL`，打开就真的是一张 png 图片！\r\n\r\n如果你们团队使用的是 Swagger 等其他工具管理 API 文档，也可以导入到 Apifox （ Apifox 支持 20 多种格式数据导入，还可以设置**定时自动导入**），一样可以使用这个智能 Mock ，一样是**零配置**自动生成所有 Mock 数据。\r\n\r\n完全不用操心任何 Mock 数据配置的问题，只要接口定好了，Mock 数据就有了，我什么前端代码都能写。\r\n\r\n![]( https://files.mdnice.com/user/24782/4a4c8486-8f16-45ba-96bc-7d395b6dedd8.png)\r\n\r\n## 第二层：自定义智能 Mock 规则\r\n\r\n有的同学问，你这个都是预设死的吧？我怎么知道写什么参数名称你会给我 Mock 出什么数据来？好，这就是 Apifox Mock 功能的第二层：自定义智能 Mock 规则。\r\n\r\n在 Apifox 里面内置了一整套 Mock 规则，当我们的返回字段名匹配上了其中的某条规则，就会根据对应规则生成随机值（ Mock.js 语法规则）。\r\n\r\n![Apifox 内置智能 Mock 规则]( https://files.mdnice.com/user/24782/3c30238a-8b44-4ed6-8803-46af45dbe4c7.png)\r\n\r\n字段名称的匹配方式支持通配符和正则表达式，比如字段只要以 “url” 结尾，就会得到一个正确的网址；以 “mail” 打头，就会得到一个邮箱地址。\r\n\r\n要是以 “time” 结尾，那还会自动根据字段的数据类型来 Mock 值：string 类型的话就返回一个 'yyyy-mm-dd hh:mm:ss' 格式时间； integer 类型的话就返回一个时间戳。是不是很智能？！\r\n\r\n有内置规则，当然就可以自定义新规则。\r\n\r\n比如我们公司的订单 id 是以 “DD” 打头的十位数字，我就可以新建一个 string 类型的规则，匹配规则写 “*orderid” ，mock 规则写一个正则表达式：@regexp(/DD\\d{10}/)。这样，只要我任何一个接口返回字段是以 “orderid” 结尾，都会得到一个 “DD1284918414” 这样的返回值。\r\n\r\n![]( https://files.mdnice.com/user/24782/70afba49-4ed0-4f5e-891e-2d82999e27e0.jpg)\r\n\r\n## 第三层：返回字段高级设置 \r\n \r\n有的同学说，你这个是比较通用的数据类型，可我还有很多没那么通用的类型，比如宠物店上架的宠物，有三种状态：可售、已售、待上架，要怎么 Mock 出来？ \r\n\r\n在 Apifox 里面，定义接口返回数据结构的时候每个字段都有一个“高级设置”的概念。比如我宠物的上架状态还可以定义为枚举，枚举可选值为（“available”，“sold”，“pending”）。如果接口这样定义了，那么 Mock 就会自动从这三个字符串里取值。\r\n\r\n![返回字段高级设置]( https://files.mdnice.com/user/24782/2745d702-e5fd-4d04-9a6e-6d95fb1650df.png)\r\n\r\n这个字段高级设置里不止有枚举，还可以设置长度范围、正则规则等。如果字段类型是数字，还可以设置最大值最小值等。 \r\n\r\n如果你对 JSON Schema 比较熟的话，也可以直接写 Schema ，那可定义空间就更大了。\r\n\r\n而且我们要注意：这个时候我们设的其实不是 Mock 规则，而是接口返回值的数据结构定义，这个是会对接口调试的**自动校验**功能生效的，如果后端接口返回的数据不符合这里的设置，Apifox 会返回一个“**数据结构校验失败**”，就告诉后端你接口返回数据结构不对。\r\n\r\n而我们的 Mock 数据也是根据这里的设置自动生成，不需要任何额外配置。 \r\n\r\n![怼后端专用图]( https://files.mdnice.com/user/24782/3d0d449d-2769-4c4f-8d07-886ca27ec5fe.png)\r\n\r\n爽不爽，可以直接甩一张截图去怼后端了。\r\n\r\n![]( https://files.mdnice.com/user/24782/ae215c78-3fa4-41bb-b01c-b4043d272779.png)\r\n\r\n## 第四层：接口级自定义 Mock \r\n有的同学说，那我还有一种场景，比如我这个用户名字段，数据定义里其实是允许他输入任意字符串的，可是我 Mock 是需要一个真实姓名的，不能靠字段定义啊。\r\n\r\n而且，你刚才演示的都是中国人名，我的客户都是欧美人怎么办。\r\n\r\n啊，终于要针对特定接口设置一点点规则了。\r\n\r\n![可选的 Mock 规则]( https://files.mdnice.com/user/24782/c365b795-b4bd-46ab-addd-c46a34af41dd.png)\r\n\r\n在 Apifox 里，给接口定义数据结构的时候是可以给每个字段设置 Mock 规则的，而且直接就可以选一系列的常用 Mock 规则，常见的各种数据类型其实都齐全了。比如我需要一个外文人名，我就可以在这里写 @name ，运行一下就会得到 “Larry Smith” “Susan Lee” 这样的英文名。\r\n\r\n如果前面说的智能 Mock 满足不了你，在这里设置规则就可以覆盖掉内置规则。这里支持 Mock.js 和正则表达式，只要你能想到的规则，全都 Mock 得出来。\r\n\r\n![Mock 规则参考]( https://files.mdnice.com/user/24782/aef145ef-f328-44a8-b3e9-57d15ee427f0.png)\r\n\r\n而且 Apifox 支持 **数据模型（ Schema ）** 定义，不同的接口可以复用相同的数据模型，模型里定义的规则在所有引用它的接口里都会生效，不需要任何额外的配置。\r\n\r\n一次 Mock ，终身享受。\r\n\r\n![]( https://files.mdnice.com/user/24782/f5a870aa-da8e-45ba-8067-7fc62e057cc0.png)\r\n\r\n## 第五层：高级 Mock \r\n\r\n还有那么一些同学，他们说，希望能让我自己定义：根据不同的参数值，返回不同的数据。\r\n\r\n比如我请求的参数`宠物 ID` 为 `1` 就返回一个在售的宠物数据，如果`宠物 ID` 为 `2` 就返回一个已售的宠物数据。我前端可以把几种状态的页面都做出来。\r\n\r\n好吧，Apifox mock 的第五层就是为你准备的。 \r\n\r\n在 Apifox 的“接口管理” 有一个 “高级 Mock” 标签页。在这里我们可以添加“期望”。\r\n\r\n![Apifox 高级 Mock]( https://files.mdnice.com/user/24782/c45b87ac-a6d4-4c32-8db5-be1e7e2c1426.png)\r\n\r\n一个期望就是指当你的请求包含某个参数值的时候，就返回特定的数据。\r\n\r\n比如我设定我的`1`号宠物是在售的，`2`号宠物是已售出的，`3`号宠物是记录不存在的，DDD 号宠物是“ ID 格式不正确”的。我把这些返回值都设好。\r\n\r\n之后，我发送的请求参数是`1`的时候，就返回一个在售的宠物信息；`2`返回一个已售的；`3`返回一个“404 not found”，`4`返回一个“Invalid Param”。\r\n\r\n啊，简直能模拟出来一个后端服务器了！\r\n\r\n![我就是那个 ID 格式不正确的宠物]( https://files.mdnice.com/user/24782/3d74437f-d793-44cf-a9a2-c50e2a6cbad6.png)\r\n\r\n## 第六层：高级 Mock 模板语法 \r\n\r\n你觉得这个 Mock 功能已经非常强大了是吧。我最开头提了张无忌，你知道张无忌的乾坤大挪移总共有几层吗？\r\n\r\n\r\n![]( https://files.mdnice.com/user/24782/a784410a-2df3-4dee-bdc9-03d1fb75ff1e.png)\r\n\r\n\r\n我们进入高级 Mock 写期望的时候，鼠标放在这个支持 “Mock.js 语法”上会浮出来一段示例。\r\n\r\n![高级 Mock 的语法示例]( https://files.mdnice.com/user/24782/5fdd2a27-9e80-4ec9-806a-1b82f961d47a.png)\r\n\r\n这个示例是讲什么的呢？我们可以在 Apifox 里面实际运行一下试试。\r\n\r\n![以上示例的返回结果]( https://files.mdnice.com/user/24782/a601a47e-00ee-46fd-b34a-16cc047ad6c4.png)\r\n\r\n它生成了一个 JSON 格式的数组！\r\n\r\n总共有 20 组 id 和名字，比如你在前端要生成一个填满数据的二维表格，一次就能 Mock 一整套！只需要短短几行代码！\r\n\r\n我们回来看这个语法示例，正常的 JSON 里面插入了大括号百分号包裹的两段 “for” 代码，它就是 JS 模板语法（ Nunjucks 语法），可以使用它来生成复杂的数据结构！\r\n\r\n不但支持 for 循环！还支持 if 分支！还支持正则表达式！还支持调用函数！\r\n\r\n你说！是不是有我（加上 Apifox ）就够了！还要后端做什么！\r\n\r\n![]( https://files.mdnice.com/user/24782/cae8f43d-9e8c-4b99-beae-24e2136b963e.png)\r\n\r\n## 第七层：高级 Mock 自定义脚本 \r\n\r\n还有？？？\r\n\r\n这是最新的 Apifox 2.1.7 才有的强大功能。\r\n\r\n新版本的高级 Mock 增加了一个“脚本”的 Tab ，这个高级 Mock 自定义脚本是做什么用的呢？\r\n\r\n![高级 Mock 自定义脚本]( https://files.mdnice.com/user/24782/4ba7f619-0beb-4208-8800-bb93f10df213.png)\r\n\r\n我们来考虑一个实际的案例。我有一个“查询宠物列表”的 GET 接口，它的请求参数是 page 和 pageSize ，取值是 6 和 10 ，含义就是我要查宠物列表的第 6 页，每页限定 10 条记录。这是个很常见的翻页场景。\r\n\r\n![我想要的]( https://files.mdnice.com/user/24782/19775497-3030-4f68-aba0-8a218dc7d0e4.png)\r\n\r\n\r\n返回数据首先是一个数组，每一条是我查出来的这一页的一个宠物。下面还有一个 page 和 total ，也就是当前页码和总计多少条记录。请求一下，返回的 Mock 数据就是一系列的宠物信息。\r\n\r\n到下面的 page 字段，出现问题了：我请求的明明请求的是第 6 页的数据，你给我返回 page 是第 10 页算什么意思。\r\n\r\n![我得到的]( https://files.mdnice.com/user/24782/66703146-338f-4b96-bfdb-9ae20625a352.png)\r\n\r\n再翻翻页，新的问题又出现了：刚才还是总共 25 页呢，我一翻页就变成总共 40 页了？？？而且第 10 页的下一页是 22 页？\r\n\r\n![翻到下一页]( https://files.mdnice.com/user/24782/26ac3d99-10fc-4cbf-be21-144484999b14.png)\r\n\r\n我希望 Mock 出来的数据是什么样的呢？应该是我请求的是第几页，返回来的数据就是第几页；然后总页数应该是固定的，不会因为我翻前翻后就变。 \r\n\r\n这时候我们就需要高级 Mock 的自定义脚本了。\r\n\r\n在自定义脚本界面的右侧有一段示例代码，我们仔细读一下。\r\n\r\n![]( https://files.mdnice.com/user/24782/e2a2adb8-e90b-4d41-8b5c-8bd5f6f49269.png)\r\n\r\n1. 通过 `fox.mockResponse.json()` 获取系统自动生成的 JSON 数据，赋值给变量 responseJson 。\r\n2. 通过 `fox.mockRequest.getParam('page')` 获取实际请求参数 page ，赋值给变量 responseJson 里的 page 字段。\r\n3. 把 responseJson 的 total 字段重写为 120 。\r\n4. 通过 `fox.mockResponse.setBody(responseJson)` 把修改后的变量 responseJson 设置到的 mockResponse 里面，这样就修改了系统返回的 JSON 数据。\r\n\r\n这样，我请求的是第几页，返回的就也是对应的第几页，然后总页数是保持 12 不变（ 120 除以每页 10 个）。\r\n\r\n![]( https://files.mdnice.com/user/24782/19775497-3030-4f68-aba0-8a218dc7d0e4.png)\r\n\r\n这个自定义脚本就可以做很多事情了，比如我需要根据用户的性别是男是女 Mock 出返回的不同头像；或者先 Mock 出出生日期，然后用出生日期拼装成对应的身份证号等等，可以让我们 Mock 出来的数据彼此吻合。\r\n\r\n自定义脚本可以操作的对象就是这个 `fox.mockRequest` 和 `fox.mockResponse`，可以获取请求参数、Header 、Cookie ，修改响应 Body 、HTTP 状态码等，甚至响应的延时都可以自定义。\r\n\r\n你就说牛不牛吧！\r\n\r\n![]( https://files.mdnice.com/user/24782/c3853342-94bc-4811-b09d-ae18aba20c46.png)\r\n\r\n## 赶紧去下载吧\r\n\r\nApifox Mock 功能的七层天梯，打完收功。\r\n\r\n如果你是个前端，并且读到了这里，我觉得你应该鼓一下掌。\r\n\r\nApifox 的 Mock 功能完全值得你去下载。官网地址：[www.apifox.cn]( https://www.apifox.cn/?utm_source=liam)\r\n\r\n其他的 API 和 Mock 工具你全都可以扔掉了。\r\n\r\n记得要下载`Apifox`桌面版使用，WEB 版目前还不支持 Mock 功能。\r\n\r\n最后提醒一下，Mock 只是 Apifox 的功能中的一小部分。**Apifox = Postman + Swagger + Mock + Jmeter**，它的功能远不止这篇文章里的这些。\r\n\r\n官网地址： [www.apifox.cn]( https://www.apifox.cn/?utm_source=liam)","content_rendered":"<h2>前端的痛苦</h2>\n<p>作为前端，最痛苦的是什么时候？</p>\n<p>每个迭代，需求文档跟设计稿都出来了，静态页面唰唰两天就做完了。可是做前端又不是简单地把后端吐出来的数据放到页面上就完了，还有各种前端处理逻辑啊。</p>\n<p>后端接口还没出来，我就得边写代码边测前端效果，又没有真实数据。有人建议用 Mock 工具，可是每个接口都要自己写 Mock 规则，这得浪费多少时间呀。</p>\n<p>等到后端好不容易把接口写出来了，一对接联调，好多字段的数据又跟我 Mock 的数据对不上，又得重新改代码。</p>\n<p><img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://files.mdnice.com/user/24782/25a7be6a-bb12-4f69-96ef-10fabbd1267c.png\"/></p>\n<p>每个迭代都是一场折磨。</p>\n<p>就是那种，明明知道这个地方整个团队都可以更有效率，但偏偏就是做不到的<strong>无力感</strong>。</p>\n<h2>黎明的希望</h2>\n<p>直到有一天，我遇到这个神器。我的效率提升了 100%。</p>\n<p>我可以用最省力最优雅的方式得到我需要的 Mock 数据，甚至不需要任何配置。而且，联调时候曾经遇到的各种令人崩溃的前后端数据对接问题，统统不！见！了！</p>\n<p>就是这个⬇️</p>\n<p><img alt=\"Apifox\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://files.mdnice.com/user/24782/2e69c32b-3d92-4ad3-a69b-c5a16cecba89.png\"/></p>\n<p>我研究了整整一周，越研究越是心惊。这个工具太强大，完全超出我的预期，就如《倚天屠龙记》里张无忌修炼的乾坤大挪移，练完一层，上面还有一层，每一层都是一片全新的天地。</p>\n<p>我曾经以为，定接口什么的你们后端定就行了，跟我前端有什么关系。定好了吐数据给我就行了。</p>\n<p>我曾经以为，写接口文档什么的完全是浪费时间，边写代码边改接口不好嘛。</p>\n<p>直到我遇到这个神器，我才明白好的工作习惯能给我提升多少效率。</p>\n<p>现在的我已经不一样了。我认为这款神器能够把全中国前端程序员的工作效率都提升一倍。我也希望在读这篇文章的你，能够好好把这款工具用起来。</p>\n<p>好，接下来我要发功了。</p>\n<p><img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://files.mdnice.com/user/24782/41bd58b8-f73b-4b42-a989-cd6e6f0649d4.png\"/></p>\n<h2>第一层：智能 Mock</h2>\n<p>Apifox 是个 API 协作工具，用它来做 Mock 数据的基础也是 API 文档。在 Apifox 里维护的 API 可以生成好看的在线接口文档，也可以像 Postman 那样一键调试，像 JMeter 那样做测试，还可以直接 Mock 数据。不过今天我们只聊 <strong>Mock</strong>。</p>\n<p>首先，你需要在 Apifox 里面创建一个接口，定义好<code>请求参数</code>和<code>返回数据结构</code>。</p>\n<p>好了，保存。完成！</p>\n<p>……………………</p>\n<p>等会儿？ Mock 呢？怎么就完成了？ Mock 规则在哪儿写？</p>\n<p><img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://files.mdnice.com/user/24782/5cc6a034-3627-4160-a730-318d4b720bc2.png\"/></p>\n<p>真的就完成了。</p>\n<p>Apifox 会自动启动一个本地的 Mock 服务，我复制一下 Apifox 自动生成的 Mock 地址，用浏览器打开看下效果。</p>\n<p><img alt=\"Apifox 本地 Mock 服务\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://files.mdnice.com/user/24782/2e95ee0d-a133-4a23-ab0a-8a71501d65e0.png\"/></p>\n<p>就是这么简单！就是这么方便！</p>\n<p>什么！都不需要！配置！</p>\n<p><img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://files.mdnice.com/user/24782/f2c9a8f7-4cbe-49d7-973c-e38a13a3754c.png\"/></p>\n<p>其实我们遇到的大部分 API 返回数据都是通用的，用户名、手机号、地址、邮箱、时间戳，等等等等。但是你要去写 Mock 规则就很麻烦。<strong>你要怎么生成一个看起来合理的中国人名？</strong></p>\n<p>在 Apifox 里面，这变成了最简单的事情，甚至是完全无感的。只要写 API 文档的时候把返回的<strong>数据结构</strong>定义好，这个事情就完成了。Apifox 会根据<strong>字段名称</strong>智能生成 Mock 数据，<strong>不需要任何配置</strong>。</p>\n<p>如接口返回的数据结构里某个字段名称叫<code>username</code>就会得到“程敏”“王宁”“<del>安慕希</del>”“<del>李玛璧</del>”。</p>\n<p>字段名称叫<code>phone</code>，就会得到<code>15237829132</code>、<code>18907284633</code>。</p>\n<p>字段名称叫<code>city</code>，就会得到<code>杭州市</code>、<code>高雄市</code>、<code>博尔塔拉蒙古自治州</code>。</p>\n<p>甚至如果你的字段名称叫<code>icon</code>，就会返回一个<code>图片 URL</code>，打开就真的是一张 png 图片！</p>\n<p>如果你们团队使用的是 Swagger 等其他工具管理 API 文档，也可以导入到 Apifox （ Apifox 支持 20 多种格式数据导入，还可以设置<strong>定时自动导入</strong>），一样可以使用这个智能 Mock ，一样是<strong>零配置</strong>自动生成所有 Mock 数据。</p>\n<p>完全不用操心任何 Mock 数据配置的问题，只要接口定好了，Mock 数据就有了，我什么前端代码都能写。</p>\n<p><img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://files.mdnice.com/user/24782/4a4c8486-8f16-45ba-96bc-7d395b6dedd8.png\"/></p>\n<h2>第二层：自定义智能 Mock 规则</h2>\n<p>有的同学问，你这个都是预设死的吧？我怎么知道写什么参数名称你会给我 Mock 出什么数据来？好，这就是 Apifox Mock 功能的第二层：自定义智能 Mock 规则。</p>\n<p>在 Apifox 里面内置了一整套 Mock 规则，当我们的返回字段名匹配上了其中的某条规则，就会根据对应规则生成随机值（ Mock.js 语法规则）。</p>\n<p><img alt=\"Apifox 内置智能 Mock 规则\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://files.mdnice.com/user/24782/3c30238a-8b44-4ed6-8803-46af45dbe4c7.png\"/></p>\n<p>字段名称的匹配方式支持通配符和正则表达式，比如字段只要以 “url” 结尾，就会得到一个正确的网址；以 “mail” 打头，就会得到一个邮箱地址。</p>\n<p>要是以 “time” 结尾，那还会自动根据字段的数据类型来 Mock 值：string 类型的话就返回一个 'yyyy-mm-dd hh:mm:ss' 格式时间； integer 类型的话就返回一个时间戳。是不是很智能？！</p>\n<p>有内置规则，当然就可以自定义新规则。</p>\n<p>比如我们公司的订单 id 是以 “DD” 打头的十位数字，我就可以新建一个 string 类型的规则，匹配规则写 “*orderid” ，mock 规则写一个正则表达式：@regexp(/DD\\d{10}/)。这样，只要我任何一个接口返回字段是以 “orderid” 结尾，都会得到一个 “DD1284918414” 这样的返回值。</p>\n<p><img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://files.mdnice.com/user/24782/70afba49-4ed0-4f5e-891e-2d82999e27e0.jpg\"/></p>\n<h2>第三层：返回字段高级设置</h2>\n<p>有的同学说，你这个是比较通用的数据类型，可我还有很多没那么通用的类型，比如宠物店上架的宠物，有三种状态：可售、已售、待上架，要怎么 Mock 出来？ </p>\n<p>在 Apifox 里面，定义接口返回数据结构的时候每个字段都有一个“高级设置”的概念。比如我宠物的上架状态还可以定义为枚举，枚举可选值为（“available”，“sold”，“pending”）。如果接口这样定义了，那么 Mock 就会自动从这三个字符串里取值。</p>\n<p><img alt=\"返回字段高级设置\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://files.mdnice.com/user/24782/2745d702-e5fd-4d04-9a6e-6d95fb1650df.png\"/></p>\n<p>这个字段高级设置里不止有枚举，还可以设置长度范围、正则规则等。如果字段类型是数字，还可以设置最大值最小值等。 </p>\n<p>如果你对 JSON Schema 比较熟的话，也可以直接写 Schema ，那可定义空间就更大了。</p>\n<p>而且我们要注意：这个时候我们设的其实不是 Mock 规则，而是接口返回值的数据结构定义，这个是会对接口调试的<strong>自动校验</strong>功能生效的，如果后端接口返回的数据不符合这里的设置，Apifox 会返回一个“<strong>数据结构校验失败</strong>”，就告诉后端你接口返回数据结构不对。</p>\n<p>而我们的 Mock 数据也是根据这里的设置自动生成，不需要任何额外配置。 </p>\n<p><img alt=\"怼后端专用图\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://files.mdnice.com/user/24782/3d0d449d-2769-4c4f-8d07-886ca27ec5fe.png\"/></p>\n<p>爽不爽，可以直接甩一张截图去怼后端了。</p>\n<p><img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://files.mdnice.com/user/24782/ae215c78-3fa4-41bb-b01c-b4043d272779.png\"/></p>\n<h2>第四层：接口级自定义 Mock</h2>\n<p>有的同学说，那我还有一种场景，比如我这个用户名字段，数据定义里其实是允许他输入任意字符串的，可是我 Mock 是需要一个真实姓名的，不能靠字段定义啊。</p>\n<p>而且，你刚才演示的都是中国人名，我的客户都是欧美人怎么办。</p>\n<p>啊，终于要针对特定接口设置一点点规则了。</p>\n<p><img alt=\"可选的 Mock 规则\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://files.mdnice.com/user/24782/c365b795-b4bd-46ab-addd-c46a34af41dd.png\"/></p>\n<p>在 Apifox 里，给接口定义数据结构的时候是可以给每个字段设置 Mock 规则的，而且直接就可以选一系列的常用 Mock 规则，常见的各种数据类型其实都齐全了。比如我需要一个外文人名，我就可以在这里写 @<a href=\"/member/name\">name</a> ，运行一下就会得到 “Larry Smith” “Susan Lee” 这样的英文名。</p>\n<p>如果前面说的智能 Mock 满足不了你，在这里设置规则就可以覆盖掉内置规则。这里支持 Mock.js 和正则表达式，只要你能想到的规则，全都 Mock 得出来。</p>\n<p><img alt=\"Mock 规则参考\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://files.mdnice.com/user/24782/aef145ef-f328-44a8-b3e9-57d15ee427f0.png\"/></p>\n<p>而且 Apifox 支持 <strong>数据模型（ Schema ）</strong> 定义，不同的接口可以复用相同的数据模型，模型里定义的规则在所有引用它的接口里都会生效，不需要任何额外的配置。</p>\n<p>一次 Mock ，终身享受。</p>\n<p><img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://files.mdnice.com/user/24782/f5a870aa-da8e-45ba-8067-7fc62e057cc0.png\"/></p>\n<h2>第五层：高级 Mock</h2>\n<p>还有那么一些同学，他们说，希望能让我自己定义：根据不同的参数值，返回不同的数据。</p>\n<p>比如我请求的参数<code>宠物 ID</code> 为 <code>1</code> 就返回一个在售的宠物数据，如果<code>宠物 ID</code> 为 <code>2</code> 就返回一个已售的宠物数据。我前端可以把几种状态的页面都做出来。</p>\n<p>好吧，Apifox mock 的第五层就是为你准备的。 </p>\n<p>在 Apifox 的“接口管理” 有一个 “高级 Mock” 标签页。在这里我们可以添加“期望”。</p>\n<p><img alt=\"Apifox 高级 Mock\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://files.mdnice.com/user/24782/c45b87ac-a6d4-4c32-8db5-be1e7e2c1426.png\"/></p>\n<p>一个期望就是指当你的请求包含某个参数值的时候，就返回特定的数据。</p>\n<p>比如我设定我的<code>1</code>号宠物是在售的，<code>2</code>号宠物是已售出的，<code>3</code>号宠物是记录不存在的，DDD 号宠物是“ ID 格式不正确”的。我把这些返回值都设好。</p>\n<p>之后，我发送的请求参数是<code>1</code>的时候，就返回一个在售的宠物信息；<code>2</code>返回一个已售的；<code>3</code>返回一个“404 not found”，<code>4</code>返回一个“Invalid Param”。</p>\n<p>啊，简直能模拟出来一个后端服务器了！</p>\n<p><img alt=\"我就是那个 ID 格式不正确的宠物\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://files.mdnice.com/user/24782/3d74437f-d793-44cf-a9a2-c50e2a6cbad6.png\"/></p>\n<h2>第六层：高级 Mock 模板语法</h2>\n<p>你觉得这个 Mock 功能已经非常强大了是吧。我最开头提了张无忌，你知道张无忌的乾坤大挪移总共有几层吗？</p>\n<p><img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://files.mdnice.com/user/24782/a784410a-2df3-4dee-bdc9-03d1fb75ff1e.png\"/></p>\n<p>我们进入高级 Mock 写期望的时候，鼠标放在这个支持 “Mock.js 语法”上会浮出来一段示例。</p>\n<p><img alt=\"高级 Mock 的语法示例\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://files.mdnice.com/user/24782/5fdd2a27-9e80-4ec9-806a-1b82f961d47a.png\"/></p>\n<p>这个示例是讲什么的呢？我们可以在 Apifox 里面实际运行一下试试。</p>\n<p><img alt=\"以上示例的返回结果\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://files.mdnice.com/user/24782/a601a47e-00ee-46fd-b34a-16cc047ad6c4.png\"/></p>\n<p>它生成了一个 JSON 格式的数组！</p>\n<p>总共有 20 组 id 和名字，比如你在前端要生成一个填满数据的二维表格，一次就能 Mock 一整套！只需要短短几行代码！</p>\n<p>我们回来看这个语法示例，正常的 JSON 里面插入了大括号百分号包裹的两段 “for” 代码，它就是 JS 模板语法（ Nunjucks 语法），可以使用它来生成复杂的数据结构！</p>\n<p>不但支持 for 循环！还支持 if 分支！还支持正则表达式！还支持调用函数！</p>\n<p>你说！是不是有我（加上 Apifox ）就够了！还要后端做什么！</p>\n<p><img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://files.mdnice.com/user/24782/cae8f43d-9e8c-4b99-beae-24e2136b963e.png\"/></p>\n<h2>第七层：高级 Mock 自定义脚本</h2>\n<p>还有？？？</p>\n<p>这是最新的 Apifox 2.1.7 才有的强大功能。</p>\n<p>新版本的高级 Mock 增加了一个“脚本”的 Tab ，这个高级 Mock 自定义脚本是做什么用的呢？</p>\n<p><img alt=\"高级 Mock 自定义脚本\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://files.mdnice.com/user/24782/4ba7f619-0beb-4208-8800-bb93f10df213.png\"/></p>\n<p>我们来考虑一个实际的案例。我有一个“查询宠物列表”的 GET 接口，它的请求参数是 page 和 pageSize ，取值是 6 和 10 ，含义就是我要查宠物列表的第 6 页，每页限定 10 条记录。这是个很常见的翻页场景。</p>\n<p><img alt=\"我想要的\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://files.mdnice.com/user/24782/19775497-3030-4f68-aba0-8a218dc7d0e4.png\"/></p>\n<p>返回数据首先是一个数组，每一条是我查出来的这一页的一个宠物。下面还有一个 page 和 total ，也就是当前页码和总计多少条记录。请求一下，返回的 Mock 数据就是一系列的宠物信息。</p>\n<p>到下面的 page 字段，出现问题了：我请求的明明请求的是第 6 页的数据，你给我返回 page 是第 10 页算什么意思。</p>\n<p><img alt=\"我得到的\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://files.mdnice.com/user/24782/66703146-338f-4b96-bfdb-9ae20625a352.png\"/></p>\n<p>再翻翻页，新的问题又出现了：刚才还是总共 25 页呢，我一翻页就变成总共 40 页了？？？而且第 10 页的下一页是 22 页？</p>\n<p><img alt=\"翻到下一页\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://files.mdnice.com/user/24782/26ac3d99-10fc-4cbf-be21-144484999b14.png\"/></p>\n<p>我希望 Mock 出来的数据是什么样的呢？应该是我请求的是第几页，返回来的数据就是第几页；然后总页数应该是固定的，不会因为我翻前翻后就变。 </p>\n<p>这时候我们就需要高级 Mock 的自定义脚本了。</p>\n<p>在自定义脚本界面的右侧有一段示例代码，我们仔细读一下。</p>\n<p><img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://files.mdnice.com/user/24782/e2a2adb8-e90b-4d41-8b5c-8bd5f6f49269.png\"/></p>\n<ol>\n<li>通过 <code>fox.mockResponse.json()</code> 获取系统自动生成的 JSON 数据，赋值给变量 responseJson 。</li>\n<li>通过 <code>fox.mockRequest.getParam('page')</code> 获取实际请求参数 page ，赋值给变量 responseJson 里的 page 字段。</li>\n<li>把 responseJson 的 total 字段重写为 120 。</li>\n<li>通过 <code>fox.mockResponse.setBody(responseJson)</code> 把修改后的变量 responseJson 设置到的 mockResponse 里面，这样就修改了系统返回的 JSON 数据。</li>\n</ol>\n<p>这样，我请求的是第几页，返回的就也是对应的第几页，然后总页数是保持 12 不变（ 120 除以每页 10 个）。</p>\n<p><img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://files.mdnice.com/user/24782/19775497-3030-4f68-aba0-8a218dc7d0e4.png\"/></p>\n<p>这个自定义脚本就可以做很多事情了，比如我需要根据用户的性别是男是女 Mock 出返回的不同头像；或者先 Mock 出出生日期，然后用出生日期拼装成对应的身份证号等等，可以让我们 Mock 出来的数据彼此吻合。</p>\n<p>自定义脚本可以操作的对象就是这个 <code>fox.mockRequest</code> 和 <code>fox.mockResponse</code>，可以获取请求参数、Header 、Cookie ，修改响应 Body 、HTTP 状态码等，甚至响应的延时都可以自定义。</p>\n<p>你就说牛不牛吧！</p>\n<p><img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://files.mdnice.com/user/24782/c3853342-94bc-4811-b09d-ae18aba20c46.png\"/></p>\n<h2>赶紧去下载吧</h2>\n<p>Apifox Mock 功能的七层天梯，打完收功。</p>\n<p>如果你是个前端，并且读到了这里，我觉得你应该鼓一下掌。</p>\n<p>Apifox 的 Mock 功能完全值得你去下载。官网地址：<a href=\"https://www.apifox.cn/?utm_source=liam\" rel=\"nofollow\">www.apifox.cn</a></p>\n<p>其他的 API 和 Mock 工具你全都可以扔掉了。</p>\n<p>记得要下载<code>Apifox</code>桌面版使用，WEB 版目前还不支持 Mock 功能。</p>\n<p>最后提醒一下，Mock 只是 Apifox 的功能中的一小部分。<strong>Apifox = Postman + Swagger + Mock + Jmeter</strong>，它的功能远不止这篇文章里的这些。</p>\n<p>官网地址： <a href=\"https://www.apifox.cn/?utm_source=liam\" rel=\"nofollow\">www.apifox.cn</a></p>\n","last_modified":1658216984,"replies":17,"id":867293},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1656605007","name":"programmer","avatar_normal":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1656605007","title":"程序员","url":"https://www.v2ex.com/go/programmer","topics":49863,"footer":"","header":"While code monkeys are not eating bananas, they're coding.","title_alternative":"Programmer","avatar_mini":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1656605007","stars":7903,"aliases":[],"root":false,"id":300,"parent_node_name":"computer"},"member":{"id":407496,"username":"partystart","url":"https://www.v2ex.com/u/partystart","website":"","twitter":null,"psn":null,"github":null,"btc":null,"location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/avatar/7fd0/9e39/407496_mini.png?m=1612247440","avatar_normal":"https://cdn.v2ex.com/avatar/7fd0/9e39/407496_normal.png?m=1612247440","avatar_large":"https://cdn.v2ex.com/avatar/7fd0/9e39/407496_large.png?m=1612247440","created":1556506911,"last_modified":1612247440},"last_reply_by":"partystart","last_touched":1658220452,"title":"坐标 Shopee SZ,请问公司裁的话会赔偿多少","url":"https://www.v2ex.com/t/867273","created":1658212160,"deleted":0,"content":"业务原因，研发团队解散\r\n\r\n大概率要被裁了， 想问下有没有懂的老哥了解\r\n\r\n会赔偿多少？想领个大礼包回去过暑假了","content_rendered":"<p>业务原因，研发团队解散</p>\n<p>大概率要被裁了， 想问下有没有懂的老哥了解</p>\n<p>会赔偿多少？想领个大礼包回去过暑假了</p>\n","last_modified":1658212160,"replies":17,"id":867273},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/6e27/13a6/557_large.png?m=1608969785","name":"life","avatar_normal":"https://cdn.v2ex.com/navatar/6e27/13a6/557_normal.png?m=1608969785","title":"生活","url":"https://www.v2ex.com/go/life","topics":3304,"footer":"","header":"生活中的技术讨论","title_alternative":"Life","avatar_mini":"https://cdn.v2ex.com/navatar/6e27/13a6/557_mini.png?m=1608969785","stars":868,"aliases":[],"root":false,"id":557,"parent_node_name":""},"member":{"id":486006,"username":"ligiggy","url":"https://www.v2ex.com/u/ligiggy","website":"","twitter":"","psn":"","github":"","btc":"","location":"苏州","tagline":"我不想搬砖了","bio":"不要干搬砖的工作，不要进搬砖的行业。","avatar_mini":"https://cdn.v2ex.com/avatar/d509/632f/486006_mini.png?m=1657529325","avatar_normal":"https://cdn.v2ex.com/avatar/d509/632f/486006_normal.png?m=1657529325","avatar_large":"https://cdn.v2ex.com/avatar/d509/632f/486006_large.png?m=1657529325","created":1587717340,"last_modified":1657529325},"last_reply_by":"citydog","last_touched":1658198011,"title":"国内运营商那种 29 元 100G 的流量卡靠谱吗","url":"https://www.v2ex.com/t/867186","created":1658196072,"deleted":0,"content":"感觉太过便宜了，会是个坑。有无踩过坑的大佬","content_rendered":"<p>感觉太过便宜了，会是个坑。有无踩过坑的大佬</p>\n","last_modified":1658196072,"replies":16,"id":867186},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1656605007","name":"programmer","avatar_normal":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1656605007","title":"程序员","url":"https://www.v2ex.com/go/programmer","topics":49864,"footer":"","header":"While code monkeys are not eating bananas, they're coding.","title_alternative":"Programmer","avatar_mini":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1656605007","stars":7903,"aliases":[],"root":false,"id":300,"parent_node_name":"computer"},"member":{"id":274940,"username":"Elietio","url":"https://www.v2ex.com/u/Elietio","website":null,"twitter":"","psn":"ElieTowa","github":"","btc":"","location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/gravatar/88099dcf2a2227bc126ec109802f32fa?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/88099dcf2a2227bc126ec109802f32fa?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/88099dcf2a2227bc126ec109802f32fa?s=73&d=retro","created":1513414623,"last_modified":1513414623},"last_reply_by":"fgwmlhdkkkw","last_touched":1658219748,"title":"接口文档里面参数表格怎样更好的表示多级嵌套的结构？","url":"https://www.v2ex.com/t/867291","created":1658216384,"deleted":0,"content":"之前内部前后端文档都是用 swagger 、yapi 之类的。现在要给一些对外的接口文档，但是是通过 PDF 的形式给出而不是提供一个 Web 平台，而且这个 PDF 内容的结构和格式都要求比较严格，所以都是先写一份 word ，再转成 PDF 。如果遇到参数是 object 的结构，参数表格里面要体现这种嵌套层级的关系感觉就比较麻烦了，缩进、合并单元格之类的领导都觉得不太美观，所以就比较犯难，不知道各位有没有比较好的例子和建议可供参考","content_rendered":"<p>之前内部前后端文档都是用 swagger 、yapi 之类的。现在要给一些对外的接口文档，但是是通过 PDF 的形式给出而不是提供一个 Web 平台，而且这个 PDF 内容的结构和格式都要求比较严格，所以都是先写一份 word ，再转成 PDF 。如果遇到参数是 object 的结构，参数表格里面要体现这种嵌套层级的关系感觉就比较麻烦了，缩进、合并单元格之类的领导都觉得不太美观，所以就比较犯难，不知道各位有没有比较好的例子和建议可供参考</p>\n","last_modified":1658216384,"replies":14,"id":867291},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1656605007","name":"programmer","avatar_normal":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1656605007","title":"程序员","url":"https://www.v2ex.com/go/programmer","topics":49864,"footer":"","header":"While code monkeys are not eating bananas, they're coding.","title_alternative":"Programmer","avatar_mini":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1656605007","stars":7903,"aliases":[],"root":false,"id":300,"parent_node_name":"computer"},"member":{"id":208358,"username":"superbai","url":"https://www.v2ex.com/u/superbai","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/gravatar/e983ef5625511f497c9017fc2437d8b8?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/e983ef5625511f497c9017fc2437d8b8?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/e983ef5625511f497c9017fc2437d8b8?s=73&d=retro","created":1483033253,"last_modified":1483033253},"last_reply_by":"ql562482472","last_touched":1658222478,"title":"m1 芯片 macbook pro，用一段时间后 intellij idea 巨卡，重启电脑后又恢复了，大家知道怎么解决吗？","url":"https://www.v2ex.com/t/867278","created":1658213862,"deleted":0,"content":"intellij idea 版本确认是没问题的。\r\n\r\nRuntime version: 11.0.15+10-b2043.56 aarch64\r\n\r\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.","content_rendered":"<p>intellij idea 版本确认是没问题的。</p>\n<p>Runtime version: 11.0.15+10-b2043.56 aarch64</p>\n<p>VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.</p>\n","last_modified":1658214399,"replies":14,"id":867278},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/38af/8613/176_large.png?m=1644885960","name":"car","avatar_normal":"https://cdn.v2ex.com/navatar/38af/8613/176_normal.png?m=1644885960","title":"汽车","url":"https://www.v2ex.com/go/car","topics":1333,"footer":"","header":"关于买车、开车及汽车文化的技术讨论","title_alternative":"Car","avatar_mini":"https://cdn.v2ex.com/navatar/38af/8613/176_mini.png?m=1644885960","stars":1312,"aliases":[],"root":false,"id":176,"parent_node_name":"life"},"member":{"id":565314,"username":"2liuqi","url":"https://www.v2ex.com/u/2liuqi","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/gravatar/8834119669279ec90a90a8ee0422a9d0?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/8834119669279ec90a90a8ee0422a9d0?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/8834119669279ec90a90a8ee0422a9d0?s=73&d=retro","created":1639406182,"last_modified":1639406182},"last_reply_by":"FFFFourwood","last_touched":1658214922,"title":"混动补贴最后一年，有必要上车吗！ 上车的话选择哪个？？","url":"https://www.v2ex.com/t/867258","created":1658208947,"deleted":0,"content":"1. 比亚迪\r\n2. 日系混动\r\n3. 美系\r\n\r\n希望在 15w-25w","content_rendered":"<ol>\n<li>比亚迪</li>\n<li>日系混动</li>\n<li>美系</li>\n</ol>\n<p>希望在 15w-25w</p>\n","last_modified":1658210176,"replies":14,"id":867258},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c74d/97b0/16_large.png?m=1650127281","name":"share","avatar_normal":"https://cdn.v2ex.com/navatar/c74d/97b0/16_normal.png?m=1650127281","title":"分享发现","url":"https://www.v2ex.com/go/share","topics":35823,"footer":"","header":"分享你看到的好玩的，有信息量的，欢迎从这里获取灵感。","title_alternative":"Share","avatar_mini":"https://cdn.v2ex.com/navatar/c74d/97b0/16_mini.png?m=1650127281","stars":4889,"aliases":[],"root":false,"id":16,"parent_node_name":"v2ex"},"member":{"id":418579,"username":"wealliam","url":"https://www.v2ex.com/u/wealliam","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/gravatar/007c0f0c358df4499b8d8eaa52a5965c?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/007c0f0c358df4499b8d8eaa52a5965c?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/007c0f0c358df4499b8d8eaa52a5965c?s=73&d=retro","created":1559620538,"last_modified":1636341355},"last_reply_by":"lifeintools","last_touched":1658197980,"title":"京东售后遇到的糟心事，群晖 NAS 毁了我 3 块硬盘😭","url":"https://www.v2ex.com/t/867178","created":1658194960,"deleted":0,"content":"618 买了台群晖，7 月 4 日第 1 次启动的时候，装了一块硬盘 a ，插上电可以启动，并安装系统。\r\n\r\n当我把第二块硬盘 b （全新，电脑可正常读取）装进 NAS 的时候，无法开机，电源按钮按下去没有任何响应，试了好几次，依然无法启动。\r\n\r\n然后我找了第三块硬盘 c ，再次尝试，也无法开机。\r\n\r\n后来我取下硬盘后，电源按钮按下去会闪蓝灯，但是把硬盘装上去就无法开机了。\r\n\r\n7 月 5 日我把硬盘装电脑上，无法读取，再尝试进 PE 系统读取硬盘，发现三块硬盘报废已经全部无法读取。\r\n\r\n这三块硬盘，两块是一直在使用的硬盘 a 和硬盘 c ，一块是全新购买的硬盘 b 。\r\n\r\n我的理解是这台群晖 NAS 把我的三块硬盘全部弄坏了，总不会我的三块硬盘自己坏掉了。","content_rendered":"618 买了台群晖，7 月 4 日第 1 次启动的时候，装了一块硬盘 a ，插上电可以启动，并安装系统。<br /><br />当我把第二块硬盘 b （全新，电脑可正常读取）装进 NAS 的时候，无法开机，电源按钮按下去没有任何响应，试了好几次，依然无法启动。<br /><br />然后我找了第三块硬盘 c ，再次尝试，也无法开机。<br /><br />后来我取下硬盘后，电源按钮按下去会闪蓝灯，但是把硬盘装上去就无法开机了。<br /><br />7 月 5 日我把硬盘装电脑上，无法读取，再尝试进 PE 系统读取硬盘，发现三块硬盘报废已经全部无法读取。<br /><br />这三块硬盘，两块是一直在使用的硬盘 a 和硬盘 c ，一块是全新购买的硬盘 b 。<br /><br />我的理解是这台群晖 NAS 把我的三块硬盘全部弄坏了，总不会我的三块硬盘自己坏掉了。","last_modified":1658195295,"replies":14,"id":867178},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/e7b2/4b11/360_large.png?m=1641783557","name":"windows","avatar_normal":"https://cdn.v2ex.com/navatar/e7b2/4b11/360_normal.png?m=1641783557","title":"Windows","url":"https://www.v2ex.com/go/windows","topics":2788,"footer":"","header":"Windows, not walls.","title_alternative":"Windows","avatar_mini":"https://cdn.v2ex.com/navatar/e7b2/4b11/360_mini.png?m=1641783557","stars":905,"aliases":[],"root":false,"id":360,"parent_node_name":"os"},"member":{"id":299226,"username":"Joseph0717","url":"https://www.v2ex.com/u/Joseph0717","website":"","twitter":"","psn":"","github":"","btc":"","location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/avatar/2450/64c2/299226_mini.png?m=1655190011","avatar_normal":"https://cdn.v2ex.com/avatar/2450/64c2/299226_normal.png?m=1655190011","avatar_large":"https://cdn.v2ex.com/avatar/2450/64c2/299226_large.png?m=1655190011","avatar_xlarge":"https://cdn.v2ex.com/avatar/2450/64c2/299226_xlarge.png?m=1655190011","avatar_xxlarge":"https://cdn.v2ex.com/avatar/2450/64c2/299226_xlarge.png?m=1655190011","avatar_xxxlarge":"https://cdn.v2ex.com/avatar/2450/64c2/299226_xlarge.png?m=1655190011","created":1520829682,"last_modified":1655190011},"last_reply_by":"rophie123","last_touched":1658197243,"title":"win11 bug","url":"https://www.v2ex.com/t/867160","created":1658192319,"deleted":0,"content":"[![jT9kFA.png]( https://s1.ax1x.com/2022/07/19/jT9kFA.png)]( https://imgtu.com/i/jT9kFA)","content_rendered":"<p><a href=\"https://imgtu.com/i/jT9kFA\" rel=\"nofollow\"><img alt=\"jT9kFA.png\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://s1.ax1x.com/2022/07/19/jT9kFA.png\"/></a></p>\n","last_modified":1658192319,"replies":14,"id":867160}]