[{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/6cdd/60ea/184_large.png?m=1630643913","name":"apple","avatar_normal":"https://cdn.v2ex.com/navatar/6cdd/60ea/184_normal.png?m=1630643913","title":"Apple","url":"https://www.v2ex.com/go/apple","topics":17784,"footer":"","header":"设计了 <a href=\"/go/watch\">Apple Watch</a>，<a href=\"/go/ipad\">iPad</a>，<a href=\"/go/iphone\">iPhone</a>，<a href=\"/go/imac\">iMac</a> 及 <a href=\"/go/mbp\">MacBook Pro</a> 等电子产品的美国公司。","title_alternative":"Apple","avatar_mini":"https://cdn.v2ex.com/navatar/6cdd/60ea/184_mini.png?m=1630643913","stars":2087,"aliases":[],"root":false,"id":184,"parent_node_name":"hardware"},"member":{"id":556900,"username":"V9NN","url":"https://www.v2ex.com/u/V9NN","website":"","twitter":null,"psn":null,"github":null,"btc":null,"location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/gravatar/ab5a7987d56e681a68ed920468ec7186?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/ab5a7987d56e681a68ed920468ec7186?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/ab5a7987d56e681a68ed920468ec7186?s=73&d=retro","created":1632620580,"last_modified":1646439710},"last_reply_by":"StevenRCE0","last_touched":1646815264,"title":"今天凌晨的苹果发布会有没有你心动的地方？","url":"https://www.v2ex.com/t/839002","created":1646784878,"deleted":0,"content":"对 iPhone SE3 一直有期待，这次终于发布了；\r\n新的 MacBook Air 没有出现；\r\n新的 iPad Air 搭载 M1 芯片；\r\n\r\n戴口罩的当下，指纹手机应该是不错的选择，可惜没有 plus 版本。\r\n\r\n大佬们有什么新品挺心动的？","content_rendered":"对 iPhone SE3 一直有期待，这次终于发布了；<br />新的 MacBook Air 没有出现；<br />新的 iPad Air 搭载 M1 芯片；<br /><br />戴口罩的当下，指纹手机应该是不错的选择，可惜没有 plus 版本。<br /><br />大佬们有什么新品挺心动的？","last_modified":1646784878,"replies":147,"id":839002},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1646074667","name":"programmer","avatar_normal":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1646074667","title":"程序员","url":"https://www.v2ex.com/go/programmer","topics":47708,"footer":"","header":"While code monkeys are not eating bananas, they're coding.","title_alternative":"Programmer","avatar_mini":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1646074667","stars":7728,"aliases":[],"root":false,"id":300,"parent_node_name":"computer"},"member":{"id":550308,"username":"dwlovelife","url":"https://www.v2ex.com/u/dwlovelife","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/avatar/6ce6/efba/550308_mini.png?m=1639637523","avatar_normal":"https://cdn.v2ex.com/avatar/6ce6/efba/550308_normal.png?m=1639637523","avatar_large":"https://cdn.v2ex.com/avatar/6ce6/efba/550308_large.png?m=1639637523","created":1625647757,"last_modified":1639637523},"last_reply_by":"fedfrank","last_touched":1646815400,"title":"最近一年大家基金、股票盈利情况","url":"https://www.v2ex.com/t/839064","created":1646794677,"deleted":0,"content":"买基金买了 4 万，亏了 6000 ，麻了","content_rendered":"<p>买基金买了 4 万，亏了 6000 ，麻了</p>\n","last_modified":1646794677,"replies":136,"id":839064},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1629391393","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1629391393","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":182289,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1629391393","stars":3432,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"id":477915,"username":"dtgxx","url":"https://www.v2ex.com/u/dtgxx","website":"","twitter":null,"psn":null,"github":null,"btc":null,"location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/gravatar/0d477d0a6d67ec2d7eeb09a3fe544a5a?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/0d477d0a6d67ec2d7eeb09a3fe544a5a?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/0d477d0a6d67ec2d7eeb09a3fe544a5a?s=73&d=retro","created":1584723179,"last_modified":1641019944},"last_reply_by":"learnshare","last_touched":1646813739,"title":"电动车充电器被偷了，有监控，报警有用没","url":"https://www.v2ex.com/t/839012","created":1646788820,"deleted":0,"content":"还没去查监控，监控肯定是有的，充电器大约就五十块钱，如果发现谁偷的，报警有用没？\r\n主要不是为了钱，只是想教训那人一顿。","content_rendered":"还没去查监控，监控肯定是有的，充电器大约就五十块钱，如果发现谁偷的，报警有用没？<br />主要不是为了钱，只是想教训那人一顿。","last_modified":1646788820,"replies":109,"id":839012},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1629391393","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1629391393","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":182289,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1629391393","stars":3432,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"id":289579,"username":"yyingx","url":"https://www.v2ex.com/u/yyingx","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/gravatar/0b4ff6ff2ad0aca98d2fd0d7ecc64270?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/0b4ff6ff2ad0aca98d2fd0d7ecc64270?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/0b4ff6ff2ad0aca98d2fd0d7ecc64270?s=73&d=retro","created":1517782388,"last_modified":1517782388},"last_reply_by":"cat9life","last_touched":1646814679,"title":"请问一下比“谢谢你”轻量级是感谢是什么？","url":"https://www.v2ex.com/t/839118","created":1646802280,"deleted":0,"content":"场景：某小区不认外来的电动车进去<br>我询问了一下原因，保安耐心解释今天在做核酸，出来人比较多<br>我听到后如何表示谢意<br><br><br>","content_rendered":"<p>场景：某小区不认外来的电动车进去<br/>我询问了一下原因，保安耐心解释今天在做核酸，出来人比较多<br/>我听到后如何表示谢意<br/><br/><br/></p>\n","last_modified":1646802280,"replies":65,"id":839118},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/6e27/13a6/557_large.png?m=1608969785","name":"life","avatar_normal":"https://cdn.v2ex.com/navatar/6e27/13a6/557_normal.png?m=1608969785","title":"生活","url":"https://www.v2ex.com/go/life","topics":2991,"footer":"","header":"生活中的技术讨论","title_alternative":"Life","avatar_mini":"https://cdn.v2ex.com/navatar/6e27/13a6/557_mini.png?m=1608969785","stars":797,"aliases":[],"root":false,"id":557,"parent_node_name":""},"member":{"id":102242,"username":"EIlenZe","url":"https://www.v2ex.com/u/EIlenZe","website":"","twitter":"","psn":"","github":"","btc":"","location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/avatar/e4db/12fe/102242_mini.png?m=1636896374","avatar_normal":"https://cdn.v2ex.com/avatar/e4db/12fe/102242_normal.png?m=1636896374","avatar_large":"https://cdn.v2ex.com/avatar/e4db/12fe/102242_large.png?m=1636896374","created":1425403224,"last_modified":1636896374},"last_reply_by":"juded","last_touched":1646815410,"title":"求助！上个月用了 437 度电 现在怎么办？","url":"https://www.v2ex.com/t/839095","created":1646798120,"deleted":0,"content":"地区是四川成都 \r\n\r\n2022 年 1 月 26 日～ 2 月 26 日，两口之家用了 437 度电（去年同期使用 273 度电），这非常的不正常。 \r\n\r\n\r\n\r\n现在已经打了 95598 了，95598 作为客服平台，只能反馈给所在片区。  \r\n\r\n\r\n\r\n所在片区的负责人说是我们冬天开取暖器造成的，翻看记录日用 20 度左右。 \r\n但是取暖器功率最高也就 1000 瓦，每天要开 10 个小时，30 天才够 300 度。（每天开 10 小时，取暖炉都得开坏了吧，更何况这个东西也不是每天开。） \r\n\r\n\r\n\r\n现在片区负责人说：如果我怀疑表有问题，可以去把表拿到第三方检测，但需要自己出检验费，当然，如果表真的有问题，那么电力部门补齐、赔偿这部分费用。 \r\n\r\n\r\n\r\n但是问题又来了，在上周，电力部门说旧表达到使用年限，为整个小区全部更换了电表，旧电表已经被收回了。现在把旧表翻出来，还能是当时的表吗。\r\n\r\n\r\n对了，顺便说一句，电器关完，电表没走了，已经排除偷电的可能性。  \r\n\r\n\r\n现在就想请教 V 友们  \r\n1 、这种表出问题的可能性大吗？\r\n\r\n2 、现在如果真的让电力部门从仓库把旧表找出来，让我拿去检验，胜算的几率大吗？ \r\n\r\n3 、如果不是电表的问题，还有什么可能性，会使用那么多的电？ \r\n\r\n4 、现在应该怎么办呢？","content_rendered":"<p>地区是四川成都 </p>\n<p>2022 年 1 月 26 日～ 2 月 26 日，两口之家用了 437 度电（去年同期使用 273 度电），这非常的不正常。 </p>\n<p>现在已经打了 95598 了，95598 作为客服平台，只能反馈给所在片区。  </p>\n<p>所在片区的负责人说是我们冬天开取暖器造成的，翻看记录日用 20 度左右。\n但是取暖器功率最高也就 1000 瓦，每天要开 10 个小时，30 天才够 300 度。（每天开 10 小时，取暖炉都得开坏了吧，更何况这个东西也不是每天开。） </p>\n<p>现在片区负责人说：如果我怀疑表有问题，可以去把表拿到第三方检测，但需要自己出检验费，当然，如果表真的有问题，那么电力部门补齐、赔偿这部分费用。 </p>\n<p>但是问题又来了，在上周，电力部门说旧表达到使用年限，为整个小区全部更换了电表，旧电表已经被收回了。现在把旧表翻出来，还能是当时的表吗。</p>\n<p>对了，顺便说一句，电器关完，电表没走了，已经排除偷电的可能性。  </p>\n<p>现在就想请教 V 友们<br/>\n1 、这种表出问题的可能性大吗？</p>\n<p>2 、现在如果真的让电力部门从仓库把旧表找出来，让我拿去检验，胜算的几率大吗？ </p>\n<p>3 、如果不是电表的问题，还有什么可能性，会使用那么多的电？ </p>\n<p>4 、现在应该怎么办呢？</p>\n","last_modified":1646798120,"replies":64,"id":839095},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1629391393","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1629391393","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":182289,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1629391393","stars":3432,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"id":464372,"username":"yurong333333","url":"https://www.v2ex.com/u/yurong333333","website":"","twitter":null,"psn":null,"github":null,"btc":null,"location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/gravatar/4012fcb62c1afa3132691c50cdf68980?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/4012fcb62c1afa3132691c50cdf68980?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/4012fcb62c1afa3132691c50cdf68980?s=73&d=retro","created":1578665496,"last_modified":1578665496},"last_reply_by":"yurong333333","last_touched":1646815427,"title":"B 站登录原理","url":"https://www.v2ex.com/t/839140","created":1646808175,"deleted":0,"content":"没登录之前，打开两个 b 站的网页 A 和 B ，在 A 网页登录，然后刷新一下 B 网页，发现 B 网页也显示登录了，这是什么原理呢？","content_rendered":"<p>没登录之前，打开两个 b 站的网页 A 和 B ，在 A 网页登录，然后刷新一下 B 网页，发现 B 网页也显示登录了，这是什么原理呢？</p>\n","last_modified":1646808175,"replies":59,"id":839140},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1629391393","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1629391393","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":182283,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1629391393","stars":3432,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"id":513536,"username":"shanghai1943","url":"https://www.v2ex.com/u/shanghai1943","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/gravatar/9a762f28db68d2a4984152ab647901ea?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/9a762f28db68d2a4984152ab647901ea?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/9a762f28db68d2a4984152ab647901ea?s=73&d=retro","created":1603161941,"last_modified":1646384163},"last_reply_by":"queuey","last_touched":1646807923,"title":"求推荐电饭锅","url":"https://www.v2ex.com/t/839023","created":1646791020,"deleted":0,"content":"家里电饭锅用了两年多了，锅底有很多划痕，现在煮饭锅底老是会粘住，所以想换一个，预算大概在四五百。\r\n\r\n这几天看了一下某乎，说是铁釜的锅会比铝合金的好，电磁加热的比锅底加热的好，就是比较贵，低端的电磁加热似乎不推荐。目前看了几款美的和苏泊尔的，价格三百多的，似乎也不错。\r\n\r\n想问下各位老哥有什么推荐的么。。谢谢。","content_rendered":"<p>家里电饭锅用了两年多了，锅底有很多划痕，现在煮饭锅底老是会粘住，所以想换一个，预算大概在四五百。</p>\n<p>这几天看了一下某乎，说是铁釜的锅会比铝合金的好，电磁加热的比锅底加热的好，就是比较贵，低端的电磁加热似乎不推荐。目前看了几款美的和苏泊尔的，价格三百多的，似乎也不错。</p>\n<p>想问下各位老哥有什么推荐的么。。谢谢。</p>\n","last_modified":1646791020,"replies":49,"id":839023},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c9e1/074f/104_large.png?m=1635654709","name":"cloud","avatar_normal":"https://cdn.v2ex.com/navatar/c9e1/074f/104_normal.png?m=1635654709","title":"云计算","url":"https://www.v2ex.com/go/cloud","topics":4628,"footer":"","header":"关于云计算技术和平台的综合讨论区。","title_alternative":"Cloud Computing","avatar_mini":"https://cdn.v2ex.com/navatar/c9e1/074f/104_mini.png?m=1635654709","stars":2787,"aliases":[],"root":false,"id":104,"parent_node_name":"webmaster"},"member":{"id":14375,"username":"idblife","url":"https://www.v2ex.com/u/idblife","website":"","twitter":"","psn":"","github":"","btc":"","location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/avatar/a95c/4050/14375_mini.png?m=1646796005","avatar_normal":"https://cdn.v2ex.com/avatar/a95c/4050/14375_normal.png?m=1646796005","avatar_large":"https://cdn.v2ex.com/avatar/a95c/4050/14375_large.png?m=1646796005","created":1323348088,"last_modified":1646796005},"last_reply_by":"idblife","last_touched":1646803896,"title":"oracle 永久免费云可以跑生产服务不？","url":"https://www.v2ex.com/t/839077","created":1646796076,"deleted":0,"content":"今天早上忽发奇想注册了一把竟然成功了，\r\n可以把生产服务部署过来不？\r\n或者说现在有啥更稳定更快速的协议，\r\n已经有 ss 和 v2ray 和 trojan 。","content_rendered":"今天早上忽发奇想注册了一把竟然成功了，<br />可以把生产服务部署过来不？<br />或者说现在有啥更稳定更快速的协议，<br />已经有 ss 和 v2ray 和 trojan 。","last_modified":1646796102,"replies":30,"id":839077},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1629391393","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1629391393","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":182259,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1629391393","stars":3432,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"id":259023,"username":"didididididi","url":"https://www.v2ex.com/u/didididididi","website":"","twitter":"","psn":"","github":"","btc":"","location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/avatar/ef6a/2ec7/259023_mini.png?m=1646646348","avatar_normal":"https://cdn.v2ex.com/avatar/ef6a/2ec7/259023_normal.png?m=1646646348","avatar_large":"https://cdn.v2ex.com/avatar/ef6a/2ec7/259023_large.png?m=1646646348","created":1507739328,"last_modified":1646646348},"last_reply_by":"lamour0922","last_touched":1646792304,"title":"用了四年的 iPhone X 要不要换 se3？","url":"https://www.v2ex.com/t/839004","created":1646786500,"deleted":0,"content":"平时不打游戏\r\n手机也仅仅用来刷 B 站、微信、接听电话\r\n瞅了眼电池，貌似不太够用\r\n纠结","content_rendered":"<p>平时不打游戏\n手机也仅仅用来刷 B 站、微信、接听电话\n瞅了眼电池，貌似不太够用\n纠结</p>\n","last_modified":1646786500,"replies":24,"id":839004},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/03af/dbd6/63_large.png?m=1644490200","name":"java","avatar_normal":"https://cdn.v2ex.com/navatar/03af/dbd6/63_normal.png?m=1644490200","title":"Java","url":"https://www.v2ex.com/go/java","topics":4829,"footer":"","header":"Sun 公司发明，被广泛使用的一门编程语言。","title_alternative":"Java","avatar_mini":"https://cdn.v2ex.com/navatar/03af/dbd6/63_mini.png?m=1644490200","stars":4824,"aliases":[],"root":false,"id":63,"parent_node_name":"programming"},"member":{"id":566515,"username":"frank1256","url":"https://www.v2ex.com/u/frank1256","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/avatar/66bc/2161/566515_mini.png?m=1641453104","avatar_normal":"https://cdn.v2ex.com/avatar/66bc/2161/566515_normal.png?m=1641453104","avatar_large":"https://cdn.v2ex.com/avatar/66bc/2161/566515_large.png?m=1641453104","avatar_xlarge":"https://cdn.v2ex.com/avatar/66bc/2161/566515_xlarge.png?m=1641453104","avatar_xxlarge":"https://cdn.v2ex.com/avatar/66bc/2161/566515_xlarge.png?m=1641453104","avatar_xxxlarge":"https://cdn.v2ex.com/avatar/66bc/2161/566515_xlarge.png?m=1641453104","created":1640222925,"last_modified":1641453104},"last_reply_by":"reeco","last_touched":1646796680,"title":"高并发下订单状态更新","url":"https://www.v2ex.com/t/839046","created":1646793423,"deleted":0,"content":"# 场景\r\n订单存在 flag 字段，0 未支付，1 支付中，2 支付完成。\r\n发起支付场景中，会先查询订单状态是否为 0 ，然后更新为 1 ，并且调用第三方支付系统获取 h5 的支付地址(耗时操作)。用户在 h5 上完成支付后，第三方支付系统会异步通知到后台服务。进行订单更新动作，并保存流水号。\r\n# 具体代码\r\n## 支付发起\r\n支付发起之前，会查库，判断 flag 是否为 0 ，可以的才会继续\r\n## 异步通知\r\n接收到第三方系统的异步通知后，会查库，判断 flag 是否为 1 ，可以的话才会更新订单。\r\n\r\n# 问题\r\n高并发下，第一个线程查库，查到 flag 是 0 ，在数据库没更新完成的情况下，第二个线程也来查库，查到是 flag 也是 0.同时发起了支付。如何防止这种场景呢？假设在单节点情况下，直接加 synchronized ，可以避免。但是这样的话，是对所有的线程都进行了阻塞，实际情况下，我们只是要对相同订单进行阻塞。不同订单不进行阻塞的。\r\n\r\n在异步回调的情况也是一样，也是要先查订单状态 flag 为 1 的话，才会进行下一步动作，如果并发情况下出现了 2 个线程都查到是 flag 为 1 怎么处理？\r\n\r\n# 目前思路\r\n加锁，但是锁了所有的线程，订单 1 多个线程同时发起支付的话，需要加锁阻塞，只能有一个发起成功，但是不能影响订单 2 的发起支付。实际上只是为了锁同一笔订单。\r\n\r\n用乐观锁，然后数据库 update 的时候，where  flag=某个条件。一定会有一个线程更新失败，更新成功的才会进行后续操作。这样的话，会对数据库有影响吗？\r\n\r\n想请问大佬们，这种先查库得到条件，再根据条件做后续动作的场景，在高并发下应该如何处理呢？","content_rendered":"<h1>场景</h1>\n<p>订单存在 flag 字段，0 未支付，1 支付中，2 支付完成。\n发起支付场景中，会先查询订单状态是否为 0 ，然后更新为 1 ，并且调用第三方支付系统获取 h5 的支付地址(耗时操作)。用户在 h5 上完成支付后，第三方支付系统会异步通知到后台服务。进行订单更新动作，并保存流水号。</p>\n<h1>具体代码</h1>\n<h2>支付发起</h2>\n<p>支付发起之前，会查库，判断 flag 是否为 0 ，可以的才会继续</p>\n<h2>异步通知</h2>\n<p>接收到第三方系统的异步通知后，会查库，判断 flag 是否为 1 ，可以的话才会更新订单。</p>\n<h1>问题</h1>\n<p>高并发下，第一个线程查库，查到 flag 是 0 ，在数据库没更新完成的情况下，第二个线程也来查库，查到是 flag 也是 0.同时发起了支付。如何防止这种场景呢？假设在单节点情况下，直接加 synchronized ，可以避免。但是这样的话，是对所有的线程都进行了阻塞，实际情况下，我们只是要对相同订单进行阻塞。不同订单不进行阻塞的。</p>\n<p>在异步回调的情况也是一样，也是要先查订单状态 flag 为 1 的话，才会进行下一步动作，如果并发情况下出现了 2 个线程都查到是 flag 为 1 怎么处理？</p>\n<h1>目前思路</h1>\n<p>加锁，但是锁了所有的线程，订单 1 多个线程同时发起支付的话，需要加锁阻塞，只能有一个发起成功，但是不能影响订单 2 的发起支付。实际上只是为了锁同一笔订单。</p>\n<p>用乐观锁，然后数据库 update 的时候，where  flag=某个条件。一定会有一个线程更新失败，更新成功的才会进行后续操作。这样的话，会对数据库有影响吗？</p>\n<p>想请问大佬们，这种先查库得到条件，再根据条件做后续动作的场景，在高并发下应该如何处理呢？</p>\n","last_modified":1646793795,"replies":23,"id":839046},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/6353/8fe6/519_large.png?m=1595507885","name":"ideas","avatar_normal":"https://cdn.v2ex.com/navatar/6353/8fe6/519_normal.png?m=1595507885","title":"奇思妙想","url":"https://www.v2ex.com/go/ideas","topics":4863,"footer":"","header":"让你的创意在这里自由流动吧。","title_alternative":"Ideas","avatar_mini":"https://cdn.v2ex.com/navatar/6353/8fe6/519_mini.png?m=1595507885","stars":2551,"aliases":[],"root":false,"id":519,"parent_node_name":"v2ex"},"member":{"id":123399,"username":"yuhuan66666","url":"https://www.v2ex.com/u/yuhuan66666","website":"","twitter":"","psn":"","github":"","btc":"","location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/gravatar/6840671dff0dd2c7676f1d1e4b2cb046?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/6840671dff0dd2c7676f1d1e4b2cb046?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/6840671dff0dd2c7676f1d1e4b2cb046?s=73&d=retro","created":1434904292,"last_modified":1434904292},"last_reply_by":"dxgfalcongbit","last_touched":1646808343,"title":"各位都是咋省钱的，今天算了下账，每个月根本省不下来","url":"https://www.v2ex.com/t/839103","created":1646799639,"deleted":0,"content":"开源：提高省钱水平是一回事\r\n\r\n节流：是另一回事\r\n\r\n好奇各位的省钱方案","content_rendered":"<p>开源：提高省钱水平是一回事</p>\n<p>节流：是另一回事</p>\n<p>好奇各位的省钱方案</p>\n","last_modified":1646799639,"replies":21,"id":839103},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1646074667","name":"programmer","avatar_normal":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1646074667","title":"程序员","url":"https://www.v2ex.com/go/programmer","topics":47707,"footer":"","header":"While code monkeys are not eating bananas, they're coding.","title_alternative":"Programmer","avatar_mini":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1646074667","stars":7728,"aliases":[],"root":false,"id":300,"parent_node_name":"computer"},"member":{"id":465921,"username":"kiritoxf","url":"https://www.v2ex.com/u/kiritoxf","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/avatar/46ae/ff32/465921_mini.png?m=1579588875","avatar_normal":"https://cdn.v2ex.com/avatar/46ae/ff32/465921_normal.png?m=1579588875","avatar_large":"https://cdn.v2ex.com/avatar/46ae/ff32/465921_large.png?m=1579588875","created":1579438350,"last_modified":1579588875},"last_reply_by":"66beta","last_touched":1646804491,"title":"在前端面试八股中，问到 Promise 时面试官是想听到什么样的答案？","url":"https://www.v2ex.com/t/839079","created":1646796361,"deleted":0,"content":"我一般会这样回答：\r\n\r\n异步请求返回的就是个 Promise ，可以用 then 获取的具体的数据。.catch 可以拿到错误。\r\nPromise.all 可以传个数组，都返回了才会返回。\r\n此外还有一些其它的方法。\r\n\r\n---\r\n\r\n但是每次这么说完感觉气氛都不是很对……","content_rendered":"<p>我一般会这样回答：</p>\n<p>异步请求返回的就是个 Promise ，可以用 then 获取的具体的数据。.catch 可以拿到错误。\nPromise.all 可以传个数组，都返回了才会返回。\n此外还有一些其它的方法。</p>\n<hr/>\n<p>但是每次这么说完感觉气氛都不是很对……</p>\n","last_modified":1646796361,"replies":21,"id":839079},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/4ea0/6fbc/770_large.png?m=1646757548","name":"career","avatar_normal":"https://cdn.v2ex.com/navatar/4ea0/6fbc/770_normal.png?m=1646757548","title":"职场话题","url":"https://www.v2ex.com/go/career","topics":12799,"footer":"","header":"这里，我们聊聊那些工作中遇到的开心和不开心的事。","title_alternative":"Career","avatar_mini":"https://cdn.v2ex.com/navatar/4ea0/6fbc/770_mini.png?m=1646757548","stars":2286,"aliases":[],"root":false,"id":770,"parent_node_name":"work"},"member":{"id":357423,"username":"Serino","url":"https://www.v2ex.com/u/Serino","website":"","twitter":"","psn":"","github":"","btc":"","location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/avatar/047b/b8f6/357423_mini.png?m=1592199036","avatar_normal":"https://cdn.v2ex.com/avatar/047b/b8f6/357423_normal.png?m=1592199036","avatar_large":"https://cdn.v2ex.com/avatar/047b/b8f6/357423_large.png?m=1592199036","created":1540049474,"last_modified":1592199036},"last_reply_by":"ElmerZhang","last_touched":1646797118,"title":"国企工作 20 年，还剩不到 3 年退休，这种情况是不是只能闷声吃个 N 的补偿了？","url":"https://www.v2ex.com/t/839042","created":1646793152,"deleted":0,"content":"某亲戚在大型国企工作 20 年，还有不到 3 年满 60 退休。\r\n\r\n前些日子公司 HR 拉他谈话，说公司总部下发文件，要搞\"人员岗位优化\"，\r\n准备强制内退一批，还是国资委下发的文件。\r\n\r\n\r\n如果接受协商解除劳动合同，经济补偿按过去一年还是三年平均工资给 N 的补偿，\r\n\r\n如果不接受协商，几个月后也要强制内退，内退后每月薪酬按市最低工资标准支付。\r\n\r\n\r\n(以上相关内容有和人力沟通的电话录音)\r\n\r\n我听录音估计是上头对人员的平均年龄有 KPI 。\r\n\r\n之前还协商过一次，说如果不接受内退，需要调离本省，\r\n去其他省的项目工作（亲戚的劳动合同写了省份+公司其他项目所在地之类的话语，要调离本省也不违反劳动合同）。\r\n前些日子的这次谈话，调离本省的选项也没了。\r\n\r\n因为还没解除劳动合同，公司是没有违法行为的，估计争取不到 2N ，只能要 N 的补偿？","content_rendered":"<p>某亲戚在大型国企工作 20 年，还有不到 3 年满 60 退休。</p>\n<p>前些日子公司 HR 拉他谈话，说公司总部下发文件，要搞\"人员岗位优化\"，\n准备强制内退一批，还是国资委下发的文件。</p>\n<p>如果接受协商解除劳动合同，经济补偿按过去一年还是三年平均工资给 N 的补偿，</p>\n<p>如果不接受协商，几个月后也要强制内退，内退后每月薪酬按市最低工资标准支付。</p>\n<p>(以上相关内容有和人力沟通的电话录音)</p>\n<p>我听录音估计是上头对人员的平均年龄有 KPI 。</p>\n<p>之前还协商过一次，说如果不接受内退，需要调离本省，\n去其他省的项目工作（亲戚的劳动合同写了省份+公司其他项目所在地之类的话语，要调离本省也不违反劳动合同）。\n前些日子的这次谈话，调离本省的选项也没了。</p>\n<p>因为还没解除劳动合同，公司是没有违法行为的，估计争取不到 2N ，只能要 N 的补偿？</p>\n","last_modified":1646793356,"replies":21,"id":839042},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/6cdd/60ea/184_large.png?m=1630643913","name":"apple","avatar_normal":"https://cdn.v2ex.com/navatar/6cdd/60ea/184_normal.png?m=1630643913","title":"Apple","url":"https://www.v2ex.com/go/apple","topics":17784,"footer":"","header":"设计了 <a href=\"/go/watch\">Apple Watch</a>，<a href=\"/go/ipad\">iPad</a>，<a href=\"/go/iphone\">iPhone</a>，<a href=\"/go/imac\">iMac</a> 及 <a href=\"/go/mbp\">MacBook Pro</a> 等电子产品的美国公司。","title_alternative":"Apple","avatar_mini":"https://cdn.v2ex.com/navatar/6cdd/60ea/184_mini.png?m=1630643913","stars":2087,"aliases":[],"root":false,"id":184,"parent_node_name":"hardware"},"member":{"id":282920,"username":"closedevice","url":"https://www.v2ex.com/u/closedevice","website":"","twitter":"","psn":"","github":"","btc":"","location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/gravatar/23360d2b68fce2191f0f12a741dcf366?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/23360d2b68fce2191f0f12a741dcf366?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/23360d2b68fce2191f0f12a741dcf366?s=73&d=retro","created":1515997854,"last_modified":1515997854},"last_reply_by":"txx","last_touched":1646813834,"title":"看完了苹果 2022 的发布会，想入手 mac studio，先问哪里价格有优惠？","url":"https://www.v2ex.com/t/839143","created":1646808590,"deleted":0,"content":"现在用的是自己组的黑苹果，心水新款的 mac studio ，性能不错，体积还小，不占面积，目前准备入手配置：\r\n1. Apple M1 Ultra：20 核中央处理器 48 核图形处理器 32 核神经网络引擎\r\n2. 128G 统一内存\r\n3. 1T 固态\r\n大概 36000 左右，有老哥知道有啥渠道可以便宜点么？另外也在纠结要不要换成 Apple M1 Ultra (20 核中央处理器、64 核图形处理器和 32 核神经网络引擎)","content_rendered":"<p>现在用的是自己组的黑苹果，心水新款的 mac studio ，性能不错，体积还小，不占面积，目前准备入手配置：</p>\n<ol>\n<li>Apple M1 Ultra：20 核中央处理器 48 核图形处理器 32 核神经网络引擎</li>\n<li>128G 统一内存</li>\n<li>1T 固态\n大概 36000 左右，有老哥知道有啥渠道可以便宜点么？另外也在纠结要不要换成 Apple M1 Ultra (20 核中央处理器、64 核图形处理器和 32 核神经网络引擎)</li>\n</ol>\n","last_modified":1646808590,"replies":20,"id":839143},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1629391393","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1629391393","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":182289,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1629391393","stars":3432,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"id":228679,"username":"taoshihan","url":"https://www.v2ex.com/u/taoshihan","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/gravatar/d01d859f76952ed246cb81e602b6de0c?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/d01d859f76952ed246cb81e602b6de0c?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/d01d859f76952ed246cb81e602b6de0c?s=73&d=retro","created":1493741156,"last_modified":1646142271},"last_reply_by":"eason1874","last_touched":1646815304,"title":"开发了一个客服系统，如果被不法分子使用，会有法律责任吗？","url":"https://www.v2ex.com/t/839132","created":1646806223,"deleted":0,"content":"如题，我自己开发了一个在线客服系统，这个系统是完整售卖给别人的。今天网友说这个如果被黄赌毒使用，会有法律责任。请问这个怎么划定责任，以及如何规避。","content_rendered":"<p>如题，我自己开发了一个在线客服系统，这个系统是完整售卖给别人的。今天网友说这个如果被黄赌毒使用，会有法律责任。请问这个怎么划定责任，以及如何规避。</p>\n","last_modified":1646806223,"replies":20,"id":839132},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/6cdd/60ea/184_large.png?m=1630643913","name":"apple","avatar_normal":"https://cdn.v2ex.com/navatar/6cdd/60ea/184_normal.png?m=1630643913","title":"Apple","url":"https://www.v2ex.com/go/apple","topics":17772,"footer":"","header":"设计了 <a href=\"/go/watch\">Apple Watch</a>，<a href=\"/go/ipad\">iPad</a>，<a href=\"/go/iphone\">iPhone</a>，<a href=\"/go/imac\">iMac</a> 及 <a href=\"/go/mbp\">MacBook Pro</a> 等电子产品的美国公司。","title_alternative":"Apple","avatar_mini":"https://cdn.v2ex.com/navatar/6cdd/60ea/184_mini.png?m=1630643913","stars":2085,"aliases":[],"root":false,"id":184,"parent_node_name":"hardware"},"member":{"id":553464,"username":"xhcarlin","url":"https://www.v2ex.com/u/xhcarlin","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/gravatar/b907441b2026e352eb6120a6b8465a87?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/b907441b2026e352eb6120a6b8465a87?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/b907441b2026e352eb6120a6b8465a87?s=73&d=retro","created":1629079361,"last_modified":1640410230},"last_reply_by":"Tyuans","last_touched":1646795757,"title":"是不是买了 AppleCare+ 后，就算电脑砸烂了也是花 2000 多就能修好或换新？","url":"https://www.v2ex.com/t/839034","created":1646791723,"deleted":0,"content":"官方描述：适用于 Mac 的 AppleCare+ 服务计划可提供长达 3 年的专家技术支持，以及来自 Apple 的额外硬件保修服务，包括每 12 个月最多两次意外损坏保修服务，每次收取相应的服务费：对于屏幕损坏或机身外壳损坏，收取 RMB 799 的服务费；对于其他意外损坏，收取 RMB 2299 的服务费。服务期自购买 AppleCare+ 服务计划之日开始 1 。\r\n\r\n\r\n最近想买 MacBook Air ，正考虑要不要买 AppleCare+。按照官方的描述，假如我电脑不小心摔得稀巴烂了，是不是也是花 2000 多就能修好 or 换新？","content_rendered":"<p>官方描述：适用于 Mac 的 AppleCare+ 服务计划可提供长达 3 年的专家技术支持，以及来自 Apple 的额外硬件保修服务，包括每 12 个月最多两次意外损坏保修服务，每次收取相应的服务费：对于屏幕损坏或机身外壳损坏，收取 RMB 799 的服务费；对于其他意外损坏，收取 RMB 2299 的服务费。服务期自购买 AppleCare+ 服务计划之日开始 1 。</p>\n<p>最近想买 MacBook Air ，正考虑要不要买 AppleCare+。按照官方的描述，假如我电脑不小心摔得稀巴烂了，是不是也是花 2000 多就能修好 or 换新？</p>\n","last_modified":1646791723,"replies":20,"id":839034},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/7504/adad/881_large.png?m=1644497196","name":"vue","avatar_normal":"https://cdn.v2ex.com/navatar/7504/adad/881_normal.png?m=1644497196","title":"Vue.js","url":"https://www.v2ex.com/go/vue","topics":785,"footer":"","header":"The Progressive JavaScript Framework","title_alternative":"Vue.js","avatar_mini":"https://cdn.v2ex.com/navatar/7504/adad/881_mini.png?m=1644497196","stars":1095,"aliases":[],"root":false,"id":881,"parent_node_name":"fe"},"member":{"id":23785,"username":"snoopyhai","url":"https://www.v2ex.com/u/snoopyhai","website":"https://github.com/nmtuan","twitter":"","psn":"","github":"","btc":"","location":"","tagline":"前端组装工人","bio":"","avatar_mini":"https://cdn.v2ex.com/avatar/6953/aa78/23785_mini.png?m=1626654345","avatar_normal":"https://cdn.v2ex.com/avatar/6953/aa78/23785_normal.png?m=1626654345","avatar_large":"https://cdn.v2ex.com/avatar/6953/aa78/23785_large.png?m=1626654345","created":1342877681,"last_modified":1626654345},"last_reply_by":"KouShuiYu","last_touched":1646811049,"title":"能用 vue 写个独立的 js 文件供第三方用么？","url":"https://www.v2ex.com/t/839147","created":1646808835,"deleted":0,"content":"今儿拿到个需求，写个 js 库，供第三方使用。\r\n\r\n习惯 vue 了，突然就把我整不会了。。\r\n\r\n\r\n大致是这样，写个 js 库，里面封装好一个小界面和交互。比如一个华丽的 mp3 播放器。\r\n用户直接引入 js ，然后实例化配置，就会在指定的 dom 中插入这个播放器，并使用。\r\n\r\n但是已经习惯了 vue 了，是否能用 vue 写这么个东西。最后脱离 vue 成为一个单文件库。\r\n\r\n脑子空白一片，没思路。","content_rendered":"<p>今儿拿到个需求，写个 js 库，供第三方使用。</p>\n<p>习惯 vue 了，突然就把我整不会了。。</p>\n<p>大致是这样，写个 js 库，里面封装好一个小界面和交互。比如一个华丽的 mp3 播放器。\n用户直接引入 js ，然后实例化配置，就会在指定的 dom 中插入这个播放器，并使用。</p>\n<p>但是已经习惯了 vue 了，是否能用 vue 写这么个东西。最后脱离 vue 成为一个单文件库。</p>\n<p>脑子空白一片，没思路。</p>\n","last_modified":1646808835,"replies":19,"id":839147},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1629391393","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1629391393","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":182269,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1629391393","stars":3432,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"id":547237,"username":"hikarufighter32","url":"https://www.v2ex.com/u/hikarufighter32","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/gravatar/007d438169aa9c5ee4b5ae488e41da64?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/007d438169aa9c5ee4b5ae488e41da64?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/007d438169aa9c5ee4b5ae488e41da64?s=73&d=retro","created":1622717147,"last_modified":1622717147},"last_reply_by":"sue0917","last_touched":1646796659,"title":"现在护照办理完全不通过么？","url":"https://www.v2ex.com/t/839038","created":1646792097,"deleted":0,"content":"已经有雇主的合同了，雇主也协同办理签证，就是卡在了护照那里，各种材料要啥有啥，就是不给办理。一个城市已经去过两个出入境管理局了，都不行，最近又 V2er 们不通过中介成功办过护照的么？","content_rendered":"<p>已经有雇主的合同了，雇主也协同办理签证，就是卡在了护照那里，各种材料要啥有啥，就是不给办理。一个城市已经去过两个出入境管理局了，都不行，最近又 V2er 们不通过中介成功办过护照的么？</p>\n","last_modified":1646792097,"replies":18,"id":839038},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/6cdd/60ea/184_large.png?m=1630643913","name":"apple","avatar_normal":"https://cdn.v2ex.com/navatar/6cdd/60ea/184_normal.png?m=1630643913","title":"Apple","url":"https://www.v2ex.com/go/apple","topics":17779,"footer":"","header":"设计了 <a href=\"/go/watch\">Apple Watch</a>，<a href=\"/go/ipad\">iPad</a>，<a href=\"/go/iphone\">iPhone</a>，<a href=\"/go/imac\">iMac</a> 及 <a href=\"/go/mbp\">MacBook Pro</a> 等电子产品的美国公司。","title_alternative":"Apple","avatar_mini":"https://cdn.v2ex.com/navatar/6cdd/60ea/184_mini.png?m=1630643913","stars":2087,"aliases":[],"root":false,"id":184,"parent_node_name":"hardware"},"member":{"id":327966,"username":"cymcloud","url":"https://www.v2ex.com/u/cymcloud","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/gravatar/60be613dbfd42b8d21a2b0e91ce1ae25?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/60be613dbfd42b8d21a2b0e91ce1ae25?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/60be613dbfd42b8d21a2b0e91ce1ae25?s=73&d=retro","created":1531122336,"last_modified":1531122336},"last_reply_by":"Building","last_touched":1646804385,"title":"在 iPad 用 M1 的意义在哪里？","url":"https://www.v2ex.com/t/839088","created":1646797202,"deleted":0,"content":"新发布的 ipad air 也用了 M1 ，但是 ipad OS 也没和 Mac OS 打通。\r\n所以在 ipad 用 M1 的意义在哪里，为了卖多余的 M1?","content_rendered":"<p>新发布的 ipad air 也用了 M1 ，但是 ipad OS 也没和 Mac OS 打通。\n所以在 ipad 用 M1 的意义在哪里，为了卖多余的 M1?</p>\n","last_modified":1646797233,"replies":15,"id":839088},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c9f0/f895/8_large.png?m=1630643991","name":"iphone","avatar_normal":"https://cdn.v2ex.com/navatar/c9f0/f895/8_normal.png?m=1630643991","title":"iPhone","url":"https://www.v2ex.com/go/iphone","topics":9236,"footer":"这里绝不讨论如何获得 iPhone 盗版软件、iTunes 黑卡之类。","header":"Say hello to the future.","title_alternative":"iPhone","avatar_mini":"https://cdn.v2ex.com/navatar/c9f0/f895/8_mini.png?m=1630643991","stars":2825,"aliases":[],"root":false,"id":8,"parent_node_name":"apple"},"member":{"id":319549,"username":"chengsitom","url":"https://www.v2ex.com/u/chengsitom","website":"","twitter":"","psn":"","github":"","btc":"","location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/gravatar/6e7b1e4341ce9e1a3617924041576ab5?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/6e7b1e4341ce9e1a3617924041576ab5?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/6e7b1e4341ce9e1a3617924041576ab5?s=73&d=retro","created":1527660501,"last_modified":1527660501},"last_reply_by":"vocaloid","last_touched":1646796878,"title":"想体验 promotion，又不想花那么高的价钱，了解一下 iPhone 的黑解","url":"https://www.v2ex.com/t/839039","created":1646792661,"deleted":0,"content":"看到朋友圈的报价单黑解 13Promax 256 只要 7xxx ，属实有点想买。但是没有了解过黑解机器，有几个疑问想了解一下\r\n1. 黑解不抹机是永久有效的吗？\r\n2. 黑解了大版本 ota 升级还能保留吗，比如 iOS14 升 iOS15 这种\r\n3. 黑解如果串号未过保，能去官方售后吗？","content_rendered":"<p>看到朋友圈的报价单黑解 13Promax 256 只要 7xxx ，属实有点想买。但是没有了解过黑解机器，有几个疑问想了解一下</p>\n<ol>\n<li>黑解不抹机是永久有效的吗？</li>\n<li>黑解了大版本 ota 升级还能保留吗，比如 iOS14 升 iOS15 这种</li>\n<li>黑解如果串号未过保，能去官方售后吗？</li>\n</ol>\n","last_modified":1646792661,"replies":15,"id":839039},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/6cdd/60ea/184_large.png?m=1630643913","name":"apple","avatar_normal":"https://cdn.v2ex.com/navatar/6cdd/60ea/184_normal.png?m=1630643913","title":"Apple","url":"https://www.v2ex.com/go/apple","topics":17772,"footer":"","header":"设计了 <a href=\"/go/watch\">Apple Watch</a>，<a href=\"/go/ipad\">iPad</a>，<a href=\"/go/iphone\">iPhone</a>，<a href=\"/go/imac\">iMac</a> 及 <a href=\"/go/mbp\">MacBook Pro</a> 等电子产品的美国公司。","title_alternative":"Apple","avatar_mini":"https://cdn.v2ex.com/navatar/6cdd/60ea/184_mini.png?m=1630643913","stars":2085,"aliases":[],"root":false,"id":184,"parent_node_name":"hardware"},"member":{"id":541267,"username":"xwayway","url":"https://www.v2ex.com/u/xwayway","website":"","twitter":null,"psn":null,"github":null,"btc":null,"location":"","tagline":"","bio":"","avatar_mini":"https://cdn.v2ex.com/gravatar/eebbfba0aa7ed95ea7e6cabac96872ab?s=24&d=retro","avatar_normal":"https://cdn.v2ex.com/gravatar/eebbfba0aa7ed95ea7e6cabac96872ab?s=48&d=retro","avatar_large":"https://cdn.v2ex.com/gravatar/eebbfba0aa7ed95ea7e6cabac96872ab?s=73&d=retro","created":1617687725,"last_modified":1617687725},"last_reply_by":"qq1204076437","last_touched":1646795548,"title":"13 还是 13mini","url":"https://www.v2ex.com/t/839026","created":1646791512,"deleted":0,"content":"迫于 8 电池拉跨，换了以后过了几个月也拉跨，准备换 13 系列了，但是有些纠结。\r\n倾向于 13mini ，主要是喜欢小手机，但是怕续航拉跨，又有点想买 13 ，有没有过来人现身说法！","content_rendered":"<p>迫于 8 电池拉跨，换了以后过了几个月也拉跨，准备换 13 系列了，但是有些纠结。\n倾向于 13mini ，主要是喜欢小手机，但是怕续航拉跨，又有点想买 13 ，有没有过来人现身说法！</p>\n","last_modified":1646791512,"replies":15,"id":839026},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1629391393","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1629391393","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":182283,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1629391393","stars":3432,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"id":202434,"username":"superdotcom","url":"https://www.v2ex.com/u/superdotcom","website":null,"twitter":null,"psn":null,"github":null,"btc":null,"location":null,"tagline":null,"bio":null,"avatar_mini":"https://cdn.v2ex.com/avatar/9445/049c/202434_mini.png?m=1564398414","avatar_normal":"https://cdn.v2ex.com/avatar/9445/049c/202434_normal.png?m=1564398414","avatar_large":"https://cdn.v2ex.com/avatar/9445/049c/202434_large.png?m=1564398414","created":1479801375,"last_modified":1564398414},"last_reply_by":"hyshuang2006","last_touched":1646808773,"title":"google voice 怎么才能在国内打电话","url":"https://www.v2ex.com/t/839104","created":1646799666,"deleted":0,"content":"我自建的 SS ，使用 google voice 一拨通号码就自动挂断了，网上都说要 UDP 支持，但我的已经支持了 UDP 啊，求解","content_rendered":"<p>我自建的 SS ，使用 google voice 一拨通号码就自动挂断了，网上都说要 UDP 支持，但我的已经支持了 UDP 啊，求解</p>\n","last_modified":1646799666,"replies":14,"id":839104},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1629391393","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1629391393","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":182277,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1629391393","stars":3432,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"id":434713,"username":"zzlatan","url":"https://www.v2ex.com/u/zzlatan","website":"","twitter":null,"psn":null,"github":null,"btc":null,"location":"","tagline":"","bio":"天高任鸟飞","avatar_mini":"https://cdn.v2ex.com/avatar/f026/1b3f/434713_mini.png?m=1613704540","avatar_normal":"https://cdn.v2ex.com/avatar/f026/1b3f/434713_normal.png?m=1613704540","avatar_large":"https://cdn.v2ex.com/avatar/f026/1b3f/434713_large.png?m=1613704540","created":1565317191,"last_modified":1613704540},"last_reply_by":"songyp","last_touched":1646800277,"title":"预测下这波 A 股行情？","url":"https://www.v2ex.com/t/839065","created":1646794849,"deleted":0,"content":"跌跌不休，下面怎么走？","content_rendered":"<p>跌跌不休，下面怎么走？</p>\n","last_modified":1646794849,"replies":13,"id":839065}]