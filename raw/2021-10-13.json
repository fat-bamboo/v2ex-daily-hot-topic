[{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/4ea0/6fbc/770_large.png?m=1633887068","name":"career","avatar_normal":"https://cdn.v2ex.com/navatar/4ea0/6fbc/770_normal.png?m=1633887068","title":"职场话题","url":"https://www.v2ex.com/go/career","topics":12203,"footer":"","header":"这里，我们聊聊那些工作中遇到的开心和不开心的事。","title_alternative":"Career","avatar_mini":"https://cdn.v2ex.com/navatar/4ea0/6fbc/770_mini.png?m=1633887068","stars":2175,"aliases":[],"root":false,"id":770,"parent_node_name":"work"},"member":{"username":"excitedXXX","website":"","github":"","psn":"","avatar_normal":"https://cdn.v2ex.com/avatar/3dd8/cef7/456146_mini.png?m=1608203671","bio":"","url":"https://www.v2ex.com/u/excitedXXX","tagline":"","twitter":"","created":1574943267,"avatar_large":"https://cdn.v2ex.com/avatar/3dd8/cef7/456146_mini.png?m=1608203671","avatar_mini":"https://cdn.v2ex.com/avatar/3dd8/cef7/456146_mini.png?m=1608203671","location":"","btc":"","id":456146},"last_reply_by":"wat4me","last_touched":1634096831,"title":"为什么明知道违法， HR 还能泰然自若正义凛然地站在公司的一边？","url":"https://www.v2ex.com/t/807450","created":1634087950,"content":"* 前东家最近水深火热，国庆前被举报涉嫌传销导致账户冻结了 3.6 个亿。十一当天给部分员工打电话通知停薪留职（变相裁员）。\r\n*  假期结束后的 10 号工资没发，社保没交，七八十个员工去仲裁，回来后却发现工作账号被注销，电脑被断网，请假不批，钉钉群全部被禁言，微信里聊天摸鱼的群全部解散。\r\n*   与 HR 交涉工资发放时间，HR：给不了时间哦。问社保能不能先交上，HR：想交社保的话自己先交一下哦。你们这样停薪留职不就是辞退员工嘛？ HR：当然不是辞退哈~\r\n*  我就很纳闷，HR 不也是个普通的员工吗，停薪留职也有可能发生在他们自己身上。为什么在明知道违法的情况下，还能这么死皮赖脸站在公司的立场说这些话呢，他们应该比一线员工更懂法吧。\r\n* 这样的 Hr 还很常见，","content_rendered":"<ul>\n<li>前东家最近水深火热，国庆前被举报涉嫌传销导致账户冻结了 3.6 个亿。十一当天给部分员工打电话通知停薪留职（变相裁员）。</li>\n<li>假期结束后的 10 号工资没发，社保没交，七八十个员工去仲裁，回来后却发现工作账号被注销，电脑被断网，请假不批，钉钉群全部被禁言，微信里聊天摸鱼的群全部解散。</li>\n<li>与 HR 交涉工资发放时间，HR：给不了时间哦。问社保能不能先交上，HR：想交社保的话自己先交一下哦。你们这样停薪留职不就是辞退员工嘛？ HR：当然不是辞退哈~</li>\n<li>我就很纳闷，HR 不也是个普通的员工吗，停薪留职也有可能发生在他们自己身上。为什么在明知道违法的情况下，还能这么死皮赖脸站在公司的立场说这些话呢，他们应该比一线员工更懂法吧。</li>\n<li>这样的 Hr 还很常见，</li>\n</ul>\n","last_modified":1634093279,"replies":70,"id":807450},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/4e73/2ced/26_large.png?m=1584288945","name":"hangzhou","avatar_normal":"https://cdn.v2ex.com/navatar/4e73/2ced/26_normal.png?m=1584288945","title":"杭州","url":"https://www.v2ex.com/go/hangzhou","topics":1629,"footer":"","header":"","title_alternative":"Hangzhou","avatar_mini":"https://cdn.v2ex.com/navatar/4e73/2ced/26_mini.png?m=1584288945","stars":1380,"aliases":[],"root":false,"id":26,"parent_node_name":"cn"},"member":{"username":"liukuan222","website":null,"github":null,"psn":null,"avatar_normal":"https://cdn.v2ex.com/avatar/253c/6c2a/542153_mini.png?m=1618211182","bio":null,"url":"https://www.v2ex.com/u/liukuan222","tagline":null,"twitter":null,"created":1618196424,"avatar_large":"https://cdn.v2ex.com/avatar/253c/6c2a/542153_mini.png?m=1618211182","avatar_mini":"https://cdn.v2ex.com/avatar/253c/6c2a/542153_mini.png?m=1618211182","location":null,"btc":null,"id":542153},"last_reply_by":"ponng","last_touched":1634096370,"title":"一个人，想养一只狗，都需要做哪些准备，日常开销大吗","url":"https://www.v2ex.com/t/807465","created":1634089909,"content":"男生，一直一个人住，以前在出租屋里没有养的条件，现在搬到了自己的房子里，空间也大了，所以就想养只狗陪伴自己，最想养的是金毛。\r\n现在还完房贷还能剩五六千的样子，自己下完班到家七点半，不知道养了之后每个月的开销会不会很大，平时照顾起来是不是很麻烦，所以有没有家有宠物的 v 友来给点建议\r\n顺便想问下有没有推荐靠谱的买宠物的渠道，坐标杭州","content_rendered":"<p>男生，一直一个人住，以前在出租屋里没有养的条件，现在搬到了自己的房子里，空间也大了，所以就想养只狗陪伴自己，最想养的是金毛。\n现在还完房贷还能剩五六千的样子，自己下完班到家七点半，不知道养了之后每个月的开销会不会很大，平时照顾起来是不是很麻烦，所以有没有家有宠物的 v 友来给点建议\n顺便想问下有没有推荐靠谱的买宠物的渠道，坐标杭州</p>\n","last_modified":1634089909,"replies":57,"id":807465},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1629391393","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1629391393","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":177334,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1629391393","stars":3332,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"username":"RealJacob","website":null,"github":null,"psn":null,"avatar_normal":"https://cdn.v2ex.com/gravatar/efedc9a31350718e0b564c6bcbcf7560?s=24&d=retro","bio":null,"url":"https://www.v2ex.com/u/RealJacob","tagline":null,"twitter":null,"created":1604330585,"avatar_large":"https://cdn.v2ex.com/gravatar/efedc9a31350718e0b564c6bcbcf7560?s=24&d=retro","avatar_mini":"https://cdn.v2ex.com/gravatar/efedc9a31350718e0b564c6bcbcf7560?s=24&d=retro","location":null,"btc":null,"id":515690},"last_reply_by":"salor","last_touched":1634096690,"title":"有没有懂信用卡的朋友，刚毕业入职半年，额度主要和什么有关？招行还是交行更合适？","url":"https://www.v2ex.com/t/807473","created":1634091421,"content":"这个额度的主要依据是什么？会不会因为入职时间短，影响额度？\r\n每月税后大概 2w 左右，公积金每个月有 6000 出头。\r\n工资卡是招行的，直接招行办信用卡会不会更好一点？期望能有至少 2w 的额度\r\n另外到时候如果额度不够 2w 的话，能不能直接退卡 or 不激活？","content_rendered":"这个额度的主要依据是什么？会不会因为入职时间短，影响额度？<br />每月税后大概 2w 左右，公积金每个月有 6000 出头。<br />工资卡是招行的，直接招行办信用卡会不会更好一点？期望能有至少 2w 的额度<br />另外到时候如果额度不够 2w 的话，能不能直接退卡 or 不激活？","last_modified":1634091421,"replies":37,"id":807473},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/a4f2/3670/260_large.png?m=1633245702","name":"security","avatar_normal":"https://cdn.v2ex.com/navatar/a4f2/3670/260_normal.png?m=1633245702","title":"信息安全","url":"https://www.v2ex.com/go/security","topics":1238,"footer":"","header":"我们都希望自己管理的计算机系统在运转过程中不要遇到任何安全事件。只是，这个不完美的世界的现实告诉我们：学无止境。","title_alternative":"Security","avatar_mini":"https://cdn.v2ex.com/navatar/a4f2/3670/260_mini.png?m=1633245702","stars":1366,"aliases":[],"root":false,"id":260,"parent_node_name":"geek"},"member":{"username":"balabalaguguji","website":"https://tools.fun","github":"","psn":"","avatar_normal":"https://cdn.v2ex.com/avatar/1383/cc45/341424_mini.png?m=1565918639","bio":"创业者，工具箱：https://tools.fun，SVN托管：https://svnbucket.com，API文档、测试：https://easydoc.net","url":"https://www.v2ex.com/u/balabalaguguji","tagline":"","twitter":"","created":1534320435,"avatar_large":"https://cdn.v2ex.com/avatar/1383/cc45/341424_mini.png?m=1565918639","avatar_mini":"https://cdn.v2ex.com/avatar/1383/cc45/341424_mini.png?m=1565918639","location":"","btc":"","id":341424},"last_reply_by":"ersic","last_touched":1634095950,"title":"私有部署如何避免代码泄露？如何限制服务有效期？","url":"https://www.v2ex.com/t/807464","created":1634089904,"content":"需要给客户部署 web 服务到他们服务器，想给他一个注册码，填入后就可以获得一年有效期，到期后无法使用，就类似 jetbrains 的付费方式。\r\n\r\n但是服务端代码如果是 js/python 这类脚本语言，代码都是明文的，不好做有效期的逻辑，别人直接改掉就没了，有什么办法做到呢？","content_rendered":"<p>需要给客户部署 web 服务到他们服务器，想给他一个注册码，填入后就可以获得一年有效期，到期后无法使用，就类似 jetbrains 的付费方式。</p>\n<p>但是服务端代码如果是 js/python 这类脚本语言，代码都是明文的，不好做有效期的逻辑，别人直接改掉就没了，有什么办法做到呢？</p>\n","last_modified":1634093312,"replies":30,"id":807464},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1630512279","name":"programmer","avatar_normal":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1630512279","title":"程序员","url":"https://www.v2ex.com/go/programmer","topics":45904,"footer":"","header":"While code monkeys are not eating bananas, they're coding.","title_alternative":"Programmer","avatar_mini":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1630512279","stars":7542,"aliases":[],"root":false,"id":300,"parent_node_name":"computer"},"member":{"username":"liuser666","website":null,"github":null,"psn":null,"avatar_normal":"https://cdn.v2ex.com/gravatar/b8ec02fe3e41d8ed3919083ea9a93972?s=24&d=retro","bio":null,"url":"https://www.v2ex.com/u/liuser666","tagline":null,"twitter":null,"created":1564130364,"avatar_large":"https://cdn.v2ex.com/gravatar/b8ec02fe3e41d8ed3919083ea9a93972?s=24&d=retro","avatar_mini":"https://cdn.v2ex.com/gravatar/b8ec02fe3e41d8ed3919083ea9a93972?s=24&d=retro","location":null,"btc":null,"id":432231},"last_reply_by":"liuser666","last_touched":1634092499,"title":"对象存储 OSS 的一些疑问","url":"https://www.v2ex.com/t/807454","created":1634088485,"content":"首先，我是业余选手。\r\n\r\n我看了阿里云的 oss，感觉贵得一批啊。\r\n\r\n100GB 单存储空间 99 元 /年，还不算流量？\r\n\r\n但外流流量包 100GB 怎么就 441 元了？也就是说我单单上传上去再下载回来就要花 540 块了？？？\r\n\r\n这我哪敢用啊，现在单单用图床，8 个图片，每月流量 2GB 了都，这还了得。","content_rendered":"<p>首先，我是业余选手。</p>\n<p>我看了阿里云的 oss，感觉贵得一批啊。</p>\n<p>100GB 单存储空间 99 元 /年，还不算流量？</p>\n<p>但外流流量包 100GB 怎么就 441 元了？也就是说我单单上传上去再下载回来就要花 540 块了？？？</p>\n<p>这我哪敢用啊，现在单单用图床，8 个图片，每月流量 2GB 了都，这还了得。</p>\n","last_modified":1634088485,"replies":25,"id":807454},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/6e27/13a6/557_large.png?m=1608969785","name":"life","avatar_normal":"https://cdn.v2ex.com/navatar/6e27/13a6/557_normal.png?m=1608969785","title":"生活","url":"https://www.v2ex.com/go/life","topics":2615,"footer":"","header":"生活中的技术讨论","title_alternative":"Life","avatar_mini":"https://cdn.v2ex.com/navatar/6e27/13a6/557_mini.png?m=1608969785","stars":662,"aliases":[],"root":false,"id":557,"parent_node_name":""},"member":{"username":"wr516516","website":null,"github":null,"psn":null,"avatar_normal":"https://cdn.v2ex.com/avatar/ba8f/f821/513792_mini.png?m=1625105643","bio":null,"url":"https://www.v2ex.com/u/wr516516","tagline":null,"twitter":null,"created":1603250580,"avatar_large":"https://cdn.v2ex.com/avatar/ba8f/f821/513792_mini.png?m=1625105643","avatar_mini":"https://cdn.v2ex.com/avatar/ba8f/f821/513792_mini.png?m=1625105643","location":null,"btc":null,"id":513792},"last_reply_by":"ro2020","last_touched":1634092803,"title":"早上手机摔了,修手机发现老板中了双色球特等奖","url":"https://www.v2ex.com/t/807466","created":1634090049,"content":"早上起床手机摔了,屏幕不能用了,就找了以前经常去的修手机店的老板修,发现老板彩票中了特等奖,也不知道还干不干了...\r\n\r\n生活好巧.\r\nhttps://ae05.alicdn.com/kf/Hd8149adb223b41ed9de8c24042c6526dD.png\r\nhttps://ae02.alicdn.com/kf/Hcd501c898bca404aad4de78425fff8727.png\r\nhttps://ae05.alicdn.com/kf/Hd8149adb223b41ed9de8c24042c6526dD.png\r\n也不知道是不是工作号都不要了,也不回我了...","content_rendered":"<p>早上起床手机摔了,屏幕不能用了,就找了以前经常去的修手机店的老板修,发现老板彩票中了特等奖,也不知道还干不干了...</p>\n<p>生活好巧.\n<a href=\"https://ae05.alicdn.com/kf/Hd8149adb223b41ed9de8c24042c6526dD.png\" rel=\"nofollow\">https://ae05.alicdn.com/kf/Hd8149adb223b41ed9de8c24042c6526dD.png</a>\n<a href=\"https://ae02.alicdn.com/kf/Hcd501c898bca404aad4de78425fff8727.png\" rel=\"nofollow\">https://ae02.alicdn.com/kf/Hcd501c898bca404aad4de78425fff8727.png</a>\n<a href=\"https://ae05.alicdn.com/kf/Hd8149adb223b41ed9de8c24042c6526dD.png\" rel=\"nofollow\">https://ae05.alicdn.com/kf/Hd8149adb223b41ed9de8c24042c6526dD.png</a>\n也不知道是不是工作号都不要了,也不回我了...</p>\n","last_modified":1634090078,"replies":25,"id":807466},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c74d/97b0/16_large.png?m=1628872984","name":"share","avatar_normal":"https://cdn.v2ex.com/navatar/c74d/97b0/16_normal.png?m=1628872984","title":"分享发现","url":"https://www.v2ex.com/go/share","topics":34438,"footer":"","header":"分享你看到的好玩的，有信息量的，欢迎从这里获取灵感。","title_alternative":"Share","avatar_mini":"https://cdn.v2ex.com/navatar/c74d/97b0/16_mini.png?m=1628872984","stars":4610,"aliases":[],"root":false,"id":16,"parent_node_name":"v2ex"},"member":{"username":"shuxhan","website":"https://shuxhan.com","github":"Nov8nana","psn":"","avatar_normal":"https://cdn.v2ex.com/avatar/d737/3168/527303_mini.png?m=1632640920","bio":"","url":"https://www.v2ex.com/u/shuxhan","tagline":"路漫漫其修远兮，吾将上下而求索！","twitter":"","created":1610001785,"avatar_large":"https://cdn.v2ex.com/avatar/d737/3168/527303_mini.png?m=1632640920","avatar_mini":"https://cdn.v2ex.com/avatar/d737/3168/527303_mini.png?m=1632640920","location":"杭州","btc":"","id":527303},"last_reply_by":"akaayy","last_touched":1634096876,"title":"发现一个很有意思的网站，是怎么实现的呢？","url":"https://www.v2ex.com/t/807467","created":1634090122,"content":"类似于这样的格式 https://note.ms/xxx\r\n\r\n可以把 /xxx 任意更改\r\n发现几个不错的链接\r\n\r\nhttps://note.ms/666\r\nhttps://note.ms/996\r\nhttps://note.ms/admin\r\n...","content_rendered":"类似于这样的格式 <a target=\"_blank\" href=\"https://note.ms/xxx\" rel=\"nofollow noopener\">https://note.ms/xxx</a><br /><br />可以把 /xxx 任意更改<br />发现几个不错的链接<br /><br /><a target=\"_blank\" href=\"https://note.ms/666\" rel=\"nofollow noopener\">https://note.ms/666</a><br /><a target=\"_blank\" href=\"https://note.ms/996\" rel=\"nofollow noopener\">https://note.ms/996</a><br /><a target=\"_blank\" href=\"https://note.ms/admin\" rel=\"nofollow noopener\">https://note.ms/admin</a><br />...","last_modified":1634090122,"replies":23,"id":807467},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/a666/587a/326_large.png?m=1607656923","name":"mba","avatar_normal":"https://cdn.v2ex.com/navatar/a666/587a/326_normal.png?m=1607656923","title":"MacBook Air","url":"https://www.v2ex.com/go/mba","topics":470,"footer":"未来一代 MacBook 现已诞生","header":"Apple 设计的最轻巧的笔记本电脑","title_alternative":"MacBook Air","avatar_mini":"https://cdn.v2ex.com/navatar/a666/587a/326_mini.png?m=1607656923","stars":366,"aliases":[],"root":false,"id":326,"parent_node_name":"apple"},"member":{"username":"CrazyUniverse","website":null,"github":null,"psn":null,"avatar_normal":"https://cdn.v2ex.com/avatar/194f/eb42/556991_mini.png?m=1632706789","bio":null,"url":"https://www.v2ex.com/u/CrazyUniverse","tagline":null,"twitter":null,"created":1632706643,"avatar_large":"https://cdn.v2ex.com/avatar/194f/eb42/556991_mini.png?m=1632706789","avatar_mini":"https://cdn.v2ex.com/avatar/194f/eb42/556991_mini.png?m=1632706789","location":null,"btc":null,"id":556991},"last_reply_by":"Bluecoda","last_touched":1634095184,"title":"新买的 MacBook Air 的味道很重，有没有办法去除异味？","url":"https://www.v2ex.com/t/807455","created":1634088707,"content":"这味道和我原来的 surface 很像，但 surface 也只是刚买回来的几天味道大，后来就淡到可以忽略了。这个 macbook 用了大半个月，每次开盖都是一股扑面而来“体香”，熏的我一阵阵犯恶心，太酸爽了。所以想问下有没有办法快速消解掉这个味道","content_rendered":"<p>这味道和我原来的 surface 很像，但 surface 也只是刚买回来的几天味道大，后来就淡到可以忽略了。这个 macbook 用了大半个月，每次开盖都是一股扑面而来“体香”，熏的我一阵阵犯恶心，太酸爽了。所以想问下有没有办法快速消解掉这个味道</p>\n","last_modified":1634088707,"replies":21,"id":807455},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1629391393","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1629391393","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":177334,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1629391393","stars":3332,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"username":"iblessyou","website":null,"github":null,"psn":null,"avatar_normal":"https://cdn.v2ex.com/avatar/e02b/ae05/274403_mini.png?m=1568872887","bio":null,"url":"https://www.v2ex.com/u/iblessyou","tagline":null,"twitter":null,"created":1513216364,"avatar_large":"https://cdn.v2ex.com/avatar/e02b/ae05/274403_mini.png?m=1568872887","avatar_mini":"https://cdn.v2ex.com/avatar/e02b/ae05/274403_mini.png?m=1568872887","location":null,"btc":null,"id":274403},"last_reply_by":"ebingtel","last_touched":1634096974,"title":"为什么国内做不出开发工具？","url":"https://www.v2ex.com/t/807502","created":1634095089,"content":"比如 idea,eclipse,navicat,包括文本编辑器等等。\r\n或者说是有些领域是有比较好的工具，我孤陋寡闻了？\r\n\r\n抛开如\"容易被破解不赚钱\"这种说法，那些软件一直被破解但还是在做不是么。","content_rendered":"比如 idea,eclipse,navicat,包括文本编辑器等等。<br />或者说是有些领域是有比较好的工具，我孤陋寡闻了？<br /><br />抛开如\"容易被破解不赚钱\"这种说法，那些软件一直被破解但还是在做不是么。","last_modified":1634095089,"replies":14,"id":807502},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/7f39/f831/61_large.png?m=1608052014","name":"mysql","avatar_normal":"https://cdn.v2ex.com/navatar/7f39/f831/61_normal.png?m=1608052014","title":"MySQL","url":"https://www.v2ex.com/go/mysql","topics":1634,"footer":"","header":"地球上最流行的关系数据库。被大量的互联网企业运用在网站项目中。具有非常丰富的生态系统。","title_alternative":"MySQL","avatar_mini":"https://cdn.v2ex.com/navatar/7f39/f831/61_mini.png?m=1608052014","stars":1966,"aliases":[],"root":false,"id":61,"parent_node_name":"db"},"member":{"username":"MozzieW","website":null,"github":null,"psn":null,"avatar_normal":"https://cdn.v2ex.com/gravatar/c60192e7a8a50df1645e272afd5e95d4?s=24&d=retro","bio":null,"url":"https://www.v2ex.com/u/MozzieW","tagline":null,"twitter":null,"created":1518509901,"avatar_large":"https://cdn.v2ex.com/gravatar/c60192e7a8a50df1645e272afd5e95d4?s=24&d=retro","avatar_mini":"https://cdn.v2ex.com/gravatar/c60192e7a8a50df1645e272afd5e95d4?s=24&d=retro","location":null,"btc":null,"id":291930},"last_reply_by":"MozzieW","last_touched":1634095615,"title":"请教 MySql 多表 join 怎么优化好","url":"https://www.v2ex.com/t/807482","created":1634092725,"content":"接到一个不确定+复杂的需求(对我而言），背景是：\r\n现在后台有一个用户表 user （ id,orderId)，会员订单表 order(id,type,expireTime)，用户每日登录日志表 log(id,uid,createdAt)；表的行数基本在 100 万（订单表 10 万）。\r\n现在需要可能是：\r\n1. 找到最近 10 天登录的用户\r\n2. 或者，最近 10 天登录的会员用户（根据有没有订单 id ）\r\n3. 或者，最近 10 天登录的过期会员用户\r\n...others\r\n根据条件拿到用户 id 去做其他任务，就是条件可能不一样。  \r\n根据我仅有的 MySql 知识和这两天的 Google，我试了一下实现是，   \r\n```\r\nselect user.*, order.*, max(log.createdAt) from user\r\njoin order on user.orderId = order.id -- 如果要过期用户，这里加一个 expireTime 判断\r\njoin log on log.uid = user.id and log.createdAt > '2021-10-01 00:00:00'\r\ngroup by user.id -- 这是配合 join log on 获取最新登录一次的时间\r\n```\r\n\r\n现在我的问题是：  \r\n1. 各位大佬遇到这种需求是不是这样的，如果需求增加或变了再调整 sql 的拼接（好像无法实现一个大的逻辑去嵌套小的条件适应需求变化？）\r\n2. 这里一共需要三个表 join，我造了 100 万行的数据测试，发现执行一次大概要 15 秒左右。查了资料，看到说不要用 join，或者根据让小表驱动大表，建索引等操作，这些都在试（学）；不过还是问一下大佬有没有建议？","content_rendered":"<p>接到一个不确定+复杂的需求(对我而言），背景是：\n现在后台有一个用户表 user （ id,orderId)，会员订单表 order(id,type,expireTime)，用户每日登录日志表 log(id,uid,createdAt)；表的行数基本在 100 万（订单表 10 万）。\n现在需要可能是：</p>\n<ol>\n<li>找到最近 10 天登录的用户</li>\n<li>或者，最近 10 天登录的会员用户（根据有没有订单 id ）</li>\n<li>或者，最近 10 天登录的过期会员用户\n...others\n根据条件拿到用户 id 去做其他任务，就是条件可能不一样。<br/>\n根据我仅有的 MySql 知识和这两天的 Google，我试了一下实现是，   </li>\n</ol>\n<pre><code>select user.*, order.*, max(log.createdAt) from user\njoin order on user.orderId = order.id -- 如果要过期用户，这里加一个 expireTime 判断\njoin log on log.uid = user.id and log.createdAt &gt; '2021-10-01 00:00:00'\ngroup by user.id -- 这是配合 join log on 获取最新登录一次的时间\n</code></pre>\n<p>现在我的问题是：  </p>\n<ol>\n<li>各位大佬遇到这种需求是不是这样的，如果需求增加或变了再调整 sql 的拼接（好像无法实现一个大的逻辑去嵌套小的条件适应需求变化？）</li>\n<li>这里一共需要三个表 join，我造了 100 万行的数据测试，发现执行一次大概要 15 秒左右。查了资料，看到说不要用 join，或者根据让小表驱动大表，建索引等操作，这些都在试（学）；不过还是问一下大佬有没有建议？</li>\n</ol>\n","last_modified":1634092725,"replies":11,"id":807482},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/3b5d/ca50/819_large.png?m=1633251402","name":"watch","avatar_normal":"https://cdn.v2ex.com/navatar/3b5d/ca50/819_normal.png?m=1633251402","title":" WATCH","url":"https://www.v2ex.com/go/watch","topics":658,"footer":"","header":"<a href=\"/go/apple\">Apple</a> 公司设计的智能手表产品","title_alternative":" WATCH","avatar_mini":"https://cdn.v2ex.com/navatar/3b5d/ca50/819_mini.png?m=1633251402","stars":318,"aliases":[],"root":false,"id":819,"parent_node_name":"apple"},"member":{"username":"WanzizZ","website":"","github":"","psn":"","avatar_normal":"https://cdn.v2ex.com/avatar/1007/4743/361251_mini.png?m=1541496376","bio":"","url":"https://www.v2ex.com/u/WanzizZ","tagline":"","twitter":"","created":1541496214,"avatar_large":"https://cdn.v2ex.com/avatar/1007/4743/361251_mini.png?m=1541496376","avatar_mini":"https://cdn.v2ex.com/avatar/1007/4743/361251_mini.png?m=1541496376","location":"","btc":"","id":361251},"last_reply_by":"WanzizZ","last_touched":1634093590,"title":"奇怪了，昨晚怎么没有 Apple Watch 7 的媒体评测出来？","url":"https://www.v2ex.com/t/807460","created":1634089445,"content":"正常不都是周五发售，周二晚上九点会有媒体评测么？","content_rendered":"<p>正常不都是周五发售，周二晚上九点会有媒体评测么？</p>\n","last_modified":1634093295,"replies":11,"id":807460},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1629391393","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1629391393","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":177334,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1629391393","stars":3332,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"username":"SWALLOWW","website":"","github":null,"psn":null,"avatar_normal":"https://cdn.v2ex.com/avatar/95ec/01ce/496681_mini.png?m=1607933739","bio":"","url":"https://www.v2ex.com/u/SWALLOWW","tagline":"","twitter":null,"created":1593336936,"avatar_large":"https://cdn.v2ex.com/avatar/95ec/01ce/496681_mini.png?m=1607933739","avatar_mini":"https://cdn.v2ex.com/avatar/95ec/01ce/496681_mini.png?m=1607933739","location":"","btc":null,"id":496681},"last_reply_by":"liuhmchn","last_touched":1634096733,"title":"招商银行的客服小姐姐也太赞了","url":"https://www.v2ex.com/t/807500","created":1634094854,"content":"绑定的身份证过期了，又没带，想咨询一下能不能不带身份证去柜台办理，\r\n\r\n打客服电话，找到了办理挂失的客服小姐姐咨询了一下，\r\n\r\n她说我不是办理这个的，可以给我转接，然后按 3，5，9 还是什么忘了，之后给我转接了\r\n\r\n后来转接之后还需要输入身份证什么的我就挂了\r\n\r\n重点来了，\r\n\r\n几分钟后这个小姐姐又打电话来了，问我是否咨询成功，我说还得输入证件号码，她表示不用，最后按星可以不用输入，是否还需要再帮我转接，我说不用了，我改天带身份证去办理吧，她说那您这里离线下银行远吗？卧槽，这一手直接突破我的心理预期了，\r\n\r\n甚至想直接为这个服务付费了！！\r\n\r\n还有，小姐姐声音轻轻柔柔的，真好听。","content_rendered":"<p>绑定的身份证过期了，又没带，想咨询一下能不能不带身份证去柜台办理，</p>\n<p>打客服电话，找到了办理挂失的客服小姐姐咨询了一下，</p>\n<p>她说我不是办理这个的，可以给我转接，然后按 3，5，9 还是什么忘了，之后给我转接了</p>\n<p>后来转接之后还需要输入身份证什么的我就挂了</p>\n<p>重点来了，</p>\n<p>几分钟后这个小姐姐又打电话来了，问我是否咨询成功，我说还得输入证件号码，她表示不用，最后按星可以不用输入，是否还需要再帮我转接，我说不用了，我改天带身份证去办理吧，她说那您这里离线下银行远吗？卧槽，这一手直接突破我的心理预期了，</p>\n<p>甚至想直接为这个服务付费了！！</p>\n<p>还有，小姐姐声音轻轻柔柔的，真好听。</p>\n","last_modified":1634094854,"replies":10,"id":807500},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/e7b2/4b11/360_large.png?m=1633408415","name":"windows","avatar_normal":"https://cdn.v2ex.com/navatar/e7b2/4b11/360_normal.png?m=1633408415","title":"Windows","url":"https://www.v2ex.com/go/windows","topics":2307,"footer":"","header":"Windows, not walls.","title_alternative":"Windows","avatar_mini":"https://cdn.v2ex.com/navatar/e7b2/4b11/360_mini.png?m=1633408415","stars":757,"aliases":[],"root":false,"id":360,"parent_node_name":"os"},"member":{"username":"ice2016","website":"https://unixso.com","github":"","psn":"","avatar_normal":"https://cdn.v2ex.com/avatar/e625/533c/163445_mini.png?m=1542938723","bio":"","url":"https://www.v2ex.com/u/ice2016","tagline":"","twitter":"","created":1458038611,"avatar_large":"https://cdn.v2ex.com/avatar/e625/533c/163445_mini.png?m=1542938723","avatar_mini":"https://cdn.v2ex.com/avatar/e625/533c/163445_mini.png?m=1542938723","location":"","btc":"","id":163445},"last_reply_by":"um1ng","last_touched":1634095906,"title":"Windows Server 2022 更流畅","url":"https://www.v2ex.com/t/807479","created":1634092051,"content":"用了几天 win11 现在正式版出来了感觉还行，但是没有 win server 2022 流畅，一点不卡顿\r\n[![5udIgJ.md.png]( https://z3.ax1x.com/2021/10/13/5udIgJ.md.png)]( https://imgtu.com/i/5udIgJ)","content_rendered":"<p>用了几天 win11 现在正式版出来了感觉还行，但是没有 win server 2022 流畅，一点不卡顿\n<a href=\"https://imgtu.com/i/5udIgJ\" rel=\"nofollow\"><img alt=\"5udIgJ.md.png\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://z3.ax1x.com/2021/10/13/5udIgJ.md.png\"/></a></p>\n","last_modified":1634092051,"replies":9,"id":807479},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/e7b2/4b11/360_large.png?m=1633408415","name":"windows","avatar_normal":"https://cdn.v2ex.com/navatar/e7b2/4b11/360_normal.png?m=1633408415","title":"Windows","url":"https://www.v2ex.com/go/windows","topics":2307,"footer":"","header":"Windows, not walls.","title_alternative":"Windows","avatar_mini":"https://cdn.v2ex.com/navatar/e7b2/4b11/360_mini.png?m=1633408415","stars":757,"aliases":[],"root":false,"id":360,"parent_node_name":"os"},"member":{"username":"NGUTHONG","website":"","github":"","psn":"","avatar_normal":"https://cdn.v2ex.com/avatar/5aed/d113/410551_mini.png?m=1617599012","bio":"","url":"https://www.v2ex.com/u/NGUTHONG","tagline":"","twitter":"","created":1557369417,"avatar_large":"https://cdn.v2ex.com/avatar/5aed/d113/410551_mini.png?m=1617599012","avatar_mini":"https://cdn.v2ex.com/avatar/5aed/d113/410551_mini.png?m=1617599012","location":"Amoy, Fokien","btc":"","id":410551},"last_reply_by":"JonyOang","last_touched":1634096856,"title":"用了几天 Windows 11，依旧很不适应，除了界面让人新鲜了点，并没有原本 win10 实用","url":"https://www.v2ex.com/t/807474","created":1634091435,"content":"1.首先界面任务栏改的很像 mac，各个方面而言，居中图标、打开动画、消息小红点、还有应用图标下面后台指示的小点、甚至连打开动画的掉帧都跟 Mac 保持一致，真的绝了\r\n\r\n    2.任务栏标签不能展开了，可能很多人 win10 就没有展开用，但我是展开在用的，他不能展开我就很不习惯，而且任务栏也不能改变位置了\r\n\r\n   3.右下角网络和音量整合成一个按钮变成类似 Mac 的控制中心，日期和通知也合成一个键变成通知中心，结果就是用鼠标控制音量的时候，以前点一下右下角音量就能用滚轮控制，现在要点开控制面板鼠标移到音量条位置才能控制，而日期点开也没有日程的显示了，也不能在日期地方直接添加日程，日程被移到了负一屏一样的地方，以小组件的形式显示。。简直了\r\n\r\n   4.右键设计了新的菜单，旧菜单虽然还在但是被隐藏在了新菜单的更多里，像我这种原来安装了一些右键插件的人就很麻烦，得点两次打开旧菜单，包括解压软件的菜单选项也旧菜单里，希望后期微软可以两个菜单整合在一起，把第三方的选项放到新菜单里\r\n\r\n    5.新文件管理界面还行吧，就是文件夹没有缩略图了，找文件的时候变得麻烦了。。文件夹一多就要看着文件名一个个看，以前文件夹有缩略图一眼就可以看到要打开那个文件夹比现在要方便太多\r\n\r\n    6.最后是开始菜单没有磁贴了，变成了常用 app 和推荐项目两栏。。很无语，这个开始菜单几乎就是被砍断手脚的样子，以前磁贴可以很方便的打开项目，包括文件夹也可以放在里面，所有应用放在左边要找也很方便，包括要找不常用的 app，也可以很方便的直接点到首字母筛选，现在 11 的开始菜单一点开只有小小的一个界面，一半是常用 app，一半是没有什么用处的推荐项目。。常用 app 一页还只能放 18 个，放多了你点开开始还要划下一页。。简直，开始菜单哪怕就按照原本的操作逻辑分成两列，左边一样全部 app 一排，右边去掉磁贴，换成常用应用，都比现在好用太多。。","content_rendered":"1.首先界面任务栏改的很像 mac，各个方面而言，居中图标、打开动画、消息小红点、还有应用图标下面后台指示的小点、甚至连打开动画的掉帧都跟 Mac 保持一致，真的绝了<br /><br />    2.任务栏标签不能展开了，可能很多人 win10 就没有展开用，但我是展开在用的，他不能展开我就很不习惯，而且任务栏也不能改变位置了<br /><br />   3.右下角网络和音量整合成一个按钮变成类似 Mac 的控制中心，日期和通知也合成一个键变成通知中心，结果就是用鼠标控制音量的时候，以前点一下右下角音量就能用滚轮控制，现在要点开控制面板鼠标移到音量条位置才能控制，而日期点开也没有日程的显示了，也不能在日期地方直接添加日程，日程被移到了负一屏一样的地方，以小组件的形式显示。。简直了<br /><br />   4.右键设计了新的菜单，旧菜单虽然还在但是被隐藏在了新菜单的更多里，像我这种原来安装了一些右键插件的人就很麻烦，得点两次打开旧菜单，包括解压软件的菜单选项也旧菜单里，希望后期微软可以两个菜单整合在一起，把第三方的选项放到新菜单里<br /><br />    5.新文件管理界面还行吧，就是文件夹没有缩略图了，找文件的时候变得麻烦了。。文件夹一多就要看着文件名一个个看，以前文件夹有缩略图一眼就可以看到要打开那个文件夹比现在要方便太多<br /><br />    6.最后是开始菜单没有磁贴了，变成了常用 app 和推荐项目两栏。。很无语，这个开始菜单几乎就是被砍断手脚的样子，以前磁贴可以很方便的打开项目，包括文件夹也可以放在里面，所有应用放在左边要找也很方便，包括要找不常用的 app，也可以很方便的直接点到首字母筛选，现在 11 的开始菜单一点开只有小小的一个界面，一半是常用 app，一半是没有什么用处的推荐项目。。常用 app 一页还只能放 18 个，放多了你点开开始还要划下一页。。简直，开始菜单哪怕就按照原本的操作逻辑分成两列，左边一样全部 app 一排，右边去掉磁贴，换成常用应用，都比现在好用太多。。","last_modified":1634091504,"replies":9,"id":807474},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/6cdd/60ea/184_large.png?m=1630643913","name":"apple","avatar_normal":"https://cdn.v2ex.com/navatar/6cdd/60ea/184_normal.png?m=1630643913","title":"Apple","url":"https://www.v2ex.com/go/apple","topics":16136,"footer":"","header":"设计了 <a href=\"/go/watch\">Apple Watch</a>，<a href=\"/go/ipad\">iPad</a>，<a href=\"/go/iphone\">iPhone</a>，<a href=\"/go/imac\">iMac</a> 及 <a href=\"/go/mbp\">MacBook Pro</a> 等电子产品的美国公司。","title_alternative":"Apple","avatar_mini":"https://cdn.v2ex.com/navatar/6cdd/60ea/184_mini.png?m=1630643913","stars":1950,"aliases":[],"root":false,"id":184,"parent_node_name":"hardware"},"member":{"username":"hahaFck","website":null,"github":null,"psn":null,"avatar_normal":"https://cdn.v2ex.com/gravatar/3f76d95c8badee4798edbe90ca41c87a?s=24&d=retro","bio":null,"url":"https://www.v2ex.com/u/hahaFck","tagline":null,"twitter":null,"created":1515574076,"avatar_large":"https://cdn.v2ex.com/gravatar/3f76d95c8badee4798edbe90ca41c87a?s=24&d=retro","avatar_mini":"https://cdn.v2ex.com/gravatar/3f76d95c8badee4798edbe90ca41c87a?s=24&d=retro","location":null,"btc":null,"id":281438},"last_reply_by":"iovekkk","last_touched":1634033272,"title":"新 MacBook pro 会有高刷 pro motion 么？","url":"https://www.v2ex.com/t/807451","created":1634087954,"content":"期待 mini-led 以及 pro motion，刚换了 13pro，用了几天在看旧机器真的差很多！\r\n不知道上了高刷的 mac os 窗口最大化时还会“卡成 PPT”么😂","content_rendered":"期待 mini-led 以及 pro motion，刚换了 13pro，用了几天在看旧机器真的差很多！<br />不知道上了高刷的 mac os 窗口最大化时还会“卡成 PPT”么😂","last_modified":1634088080,"replies":9,"id":807451},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/6cdd/60ea/184_large.png?m=1630643913","name":"apple","avatar_normal":"https://cdn.v2ex.com/navatar/6cdd/60ea/184_normal.png?m=1630643913","title":"Apple","url":"https://www.v2ex.com/go/apple","topics":16138,"footer":"","header":"设计了 <a href=\"/go/watch\">Apple Watch</a>，<a href=\"/go/ipad\">iPad</a>，<a href=\"/go/iphone\">iPhone</a>，<a href=\"/go/imac\">iMac</a> 及 <a href=\"/go/mbp\">MacBook Pro</a> 等电子产品的美国公司。","title_alternative":"Apple","avatar_mini":"https://cdn.v2ex.com/navatar/6cdd/60ea/184_mini.png?m=1630643913","stars":1950,"aliases":[],"root":false,"id":184,"parent_node_name":"hardware"},"member":{"username":"devinww","website":"","github":"","psn":"","avatar_normal":"https://cdn.v2ex.com/avatar/4e48/e111/132340_mini.png?m=1614234138","bio":"","url":"https://www.v2ex.com/u/devinww","tagline":"","twitter":"","created":1439293833,"avatar_large":"https://cdn.v2ex.com/avatar/4e48/e111/132340_mini.png?m=1614234138","avatar_mini":"https://cdn.v2ex.com/avatar/4e48/e111/132340_mini.png?m=1614234138","location":"","btc":"","id":132340},"last_reply_by":"wclebb","last_touched":1634094613,"title":"闲的无聊，大家有没有测过 m1 接口给 iPhone 充电的功率","url":"https://www.v2ex.com/t/807485","created":1634093144,"content":"如题，上班也不急着用，一直插的五福一安，不知道电脑的接口会不会超过这个功率。","content_rendered":"<p>如题，上班也不急着用，一直插的五福一安，不知道电脑的接口会不会超过这个功率。</p>\n","last_modified":1634093144,"replies":8,"id":807485},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/df7f/28ac/791_large.png?m=1563424621","name":"fe","avatar_normal":"https://cdn.v2ex.com/navatar/df7f/28ac/791_normal.png?m=1563424621","title":"前端开发","url":"https://www.v2ex.com/go/fe","topics":2309,"footer":"","header":"","title_alternative":"Frontend","avatar_mini":"https://cdn.v2ex.com/navatar/df7f/28ac/791_mini.png?m=1563424621","stars":1100,"aliases":[],"root":false,"id":791,"parent_node_name":"programmer"},"member":{"username":"Livid","website":"https://livid.v2ex.com/","github":"","psn":"","avatar_normal":"https://cdn.v2ex.com/avatar/c4ca/4238/1_mini.png?m=1633999463","bio":"Remember the bigger green","url":"https://www.v2ex.com/u/Livid","tagline":"Gravitated and spellbound","twitter":"","created":1272203146,"avatar_large":"https://cdn.v2ex.com/avatar/c4ca/4238/1_mini.png?m=1633999463","avatar_mini":"https://cdn.v2ex.com/avatar/c4ca/4238/1_mini.png?m=1633999463","location":"","btc":"","id":1},"last_reply_by":"learnshare","last_touched":1634096569,"title":"关于 img 的 vertical-align: bottom","url":"https://www.v2ex.com/t/807493","created":1634094201,"content":"一个困扰我多时但是一直没有找到确切答案的问题。\r\n\r\nV2EX 在某次更换了 DTD 之后：\r\n\r\n```html\r\n<!DOCTYPE html>\r\n```\r\n\r\n然后页面上的 `img` 标签底部就会出现一条新的空白，之前的 DTD 不会。然后当时搜了一下之后，找到一个解决方案是加 `vertical-align: bottom` 可以把那条空白去掉。但是当时也没有细究原因。\r\n\r\n有人也遇到和研究过这个问题的可以分享一下心得么？","content_rendered":"<p>一个困扰我多时但是一直没有找到确切答案的问题。</p>\n<p>V2EX 在某次更换了 DTD 之后：</p>\n<pre><code class=\"language-html\">&lt;!DOCTYPE html&gt;\n</code></pre>\n<p>然后页面上的 <code>img</code> 标签底部就会出现一条新的空白，之前的 DTD 不会。然后当时搜了一下之后，找到一个解决方案是加 <code>vertical-align: bottom</code> 可以把那条空白去掉。但是当时也没有细究原因。</p>\n<p>有人也遇到和研究过这个问题的可以分享一下心得么？</p>\n","last_modified":1634094241,"replies":7,"id":807493},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/4ea0/6fbc/770_large.png?m=1633887068","name":"career","avatar_normal":"https://cdn.v2ex.com/navatar/4ea0/6fbc/770_normal.png?m=1633887068","title":"职场话题","url":"https://www.v2ex.com/go/career","topics":12203,"footer":"","header":"这里，我们聊聊那些工作中遇到的开心和不开心的事。","title_alternative":"Career","avatar_mini":"https://cdn.v2ex.com/navatar/4ea0/6fbc/770_mini.png?m=1633887068","stars":2175,"aliases":[],"root":false,"id":770,"parent_node_name":"work"},"member":{"username":"szwhszw","website":"","github":"","psn":"","avatar_normal":"https://cdn.v2ex.com/avatar/5df7/4c87/365601_mini.png?m=1543289030","bio":"","url":"https://www.v2ex.com/u/szwhszw","tagline":"","twitter":"","created":1543136502,"avatar_large":"https://cdn.v2ex.com/avatar/5df7/4c87/365601_mini.png?m=1543289030","avatar_mini":"https://cdn.v2ex.com/avatar/5df7/4c87/365601_mini.png?m=1543289030","location":"","btc":"","id":365601},"last_reply_by":"szwhszw","last_touched":1634095689,"title":"如何通过面试的时候快速了解公司的一些信息来判断是否适合跳槽","url":"https://www.v2ex.com/t/807483","created":1634092927,"content":"面试的时候想尽快了解一些公司的信息，比如说\r\n1 、直接分管领导年龄，他在这家公司做了多久，他什么时候来公司的；因为之前碰到过一个领导，竟然是刚入职不久，而且自己之前没做过领导，40 来岁，以为做了很久领导了\r\n2.团队同事是什么水平，工资多少，因为想尽量同团队的同事工资高点，不然周围都是刚毕业不久的学生，那技术都 很菜了\r\n\r\n\r\n还有一些信息包括上个人离职原因是什么，部门组建多久,同事工资多少，年龄，学历结构等比较有参考的有用信息\r\n\r\n3.目前脉脉和看准网信息都不是很好用了，而且面试的时候表面上让你自由提问，实际上很多问题不是很方便问，所以想请教下，怎样面试的时候就尽可能的获取入职的优势信息来做判断","content_rendered":"面试的时候想尽快了解一些公司的信息，比如说<br />1 、直接分管领导年龄，他在这家公司做了多久，他什么时候来公司的；因为之前碰到过一个领导，竟然是刚入职不久，而且自己之前没做过领导，40 来岁，以为做了很久领导了<br />2.团队同事是什么水平，工资多少，因为想尽量同团队的同事工资高点，不然周围都是刚毕业不久的学生，那技术都 很菜了<br /><br /><br />还有一些信息包括上个人离职原因是什么，部门组建多久,同事工资多少，年龄，学历结构等比较有参考的有用信息<br /><br />3.目前脉脉和看准网信息都不是很好用了，而且面试的时候表面上让你自由提问，实际上很多问题不是很方便问，所以想请教下，怎样面试的时候就尽可能的获取入职的优势信息来做判断","last_modified":1634094546,"replies":7,"id":807483},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1629391393","name":"qna","avatar_normal":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1629391393","title":"问与答","url":"https://www.v2ex.com/go/qna","topics":177334,"footer":"","header":"一个更好的世界需要你持续地提出好问题。","title_alternative":"Questions and Answers","avatar_mini":"https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1629391393","stars":3332,"aliases":[],"root":false,"id":12,"parent_node_name":"v2ex"},"member":{"username":"yiiouo","website":"","github":"","psn":"","avatar_normal":"https://cdn.v2ex.com/avatar/a343/bf09/278190_mini.png?m=1591066925","bio":"","url":"https://www.v2ex.com/u/yiiouo","tagline":"","twitter":"","created":1514790248,"avatar_large":"https://cdn.v2ex.com/avatar/a343/bf09/278190_mini.png?m=1591066925","avatar_mini":"https://cdn.v2ex.com/avatar/a343/bf09/278190_mini.png?m=1591066925","location":"佛山","btc":"","id":278190},"last_reply_by":"catVSdog","last_touched":1634096891,"title":"爬取自身账号登录的网站内容，有没有法律风险？","url":"https://www.v2ex.com/t/807476","created":1634091715,"content":"最近有个朋友给了个外包活，想让我爬取一些电商的订单信息，他的账号是商家的，有大量订单信息，所以想用爬虫获取自身账号的所有订单信息。\r\n\r\n目前只做了个 DEMO，没有对接后端接口上报数据。我负责用 chrome 插件，一页页解析订单页的 DOM 内容，配合另外一个人用 python 解决滑块验证（我也不知道为什么不一起用 python 处理，他那边给的方案就是这样）。\r\n\r\n我也问过他这这个问题，他的原话是“我们目前是在完成产品 MVP，找种子客户实验闭环流程需要；验证完产品，会使用开放平台账号获取”。\r\n\r\n我想请教下大家，这个我要继续做下去吗？会不会有法律风险...","content_rendered":"<p>最近有个朋友给了个外包活，想让我爬取一些电商的订单信息，他的账号是商家的，有大量订单信息，所以想用爬虫获取自身账号的所有订单信息。</p>\n<p>目前只做了个 DEMO，没有对接后端接口上报数据。我负责用 chrome 插件，一页页解析订单页的 DOM 内容，配合另外一个人用 python 解决滑块验证（我也不知道为什么不一起用 python 处理，他那边给的方案就是这样）。</p>\n<p>我也问过他这这个问题，他的原话是“我们目前是在完成产品 MVP，找种子客户实验闭环流程需要；验证完产品，会使用开放平台账号获取”。</p>\n<p>我想请教下大家，这个我要继续做下去吗？会不会有法律风险...</p>\n","last_modified":1634091715,"replies":6,"id":807476},{"node":{"avatar_large":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1630512279","name":"programmer","avatar_normal":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1630512279","title":"程序员","url":"https://www.v2ex.com/go/programmer","topics":45905,"footer":"","header":"While code monkeys are not eating bananas, they're coding.","title_alternative":"Programmer","avatar_mini":"https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1630512279","stars":7542,"aliases":[],"root":false,"id":300,"parent_node_name":"computer"},"member":{"username":"jiobanma","website":"www.banmajio.com","github":"banmajio","psn":"","avatar_normal":"https://cdn.v2ex.com/avatar/581b/1335/487194_mini.png?m=1601286723","bio":"","url":"https://www.v2ex.com/u/jiobanma","tagline":"","twitter":"","created":1588228908,"avatar_large":"https://cdn.v2ex.com/avatar/581b/1335/487194_mini.png?m=1601286723","avatar_mini":"https://cdn.v2ex.com/avatar/581b/1335/487194_mini.png?m=1601286723","location":"","btc":"","id":487194},"last_reply_by":"jiobanma","last_touched":1634090738,"title":"SpringMVC,redirect 重定向的问题","url":"https://www.v2ex.com/t/807463","created":1634089670,"content":"- 老系统是 SpringMVC 集成 shiro 做的权限认证。现在要改为集团统一认证。\r\n- 流程为：访问域名->跳转到登录接口->判断是否登录->跳转集团登录页->登录成功后 return 回来我们的系统首页。\r\n- 遇到的问题：集团登录页是个 https 的链接。登录的 Controller 最后==return \"redirect:\" + targetUrl;==。但是 targetUrl 改为**http**就可以正常跳转，如果是**https**虽然不影响使用，但是会一直重复调用 login 的接口。\r\n\r\n- 尝试使用 http://www.baidu.com 和 https://www.baidu.com 也是一样的情况。现在不清楚问题到底是**shiro**引发的？还是**SpringMVC**的**redirect**引发的。奇怪的是退出的接口不管是 http 还是 https 都是正常的。\r\n\r\n- 相关代码放到下面了，有懂得大手子麻烦帮忙看下给点建议！！！\r\n\r\n```\r\n// 登录接口\r\n@RequestMapping(value = \"${adminPath}/login\", method = RequestMethod.GET)\r\n    public String e2Login(HttpServletRequest request,\r\n                          HttpServletResponse response, Model model) {\r\n        User user = UserUtils.getUser();\r\n        // 如果已经登录，则跳转到管理首页\r\n        if (user != null) {\r\n            if (user.getId() != null && user.getId() > -1) {\r\n                return \"redirect:\" + Global.getAdminPath();\r\n            } else {\r\n                return \"error/403\";\r\n            }\r\n        } else {\r\n            String e2state = java.util.UUID.randomUUID().toString();\r\n            X3.Service.X3App x3app = new X3.Service.X3App(request, response);\r\n            x3app.SetCookie(\"e2state\", e2state);\r\n            String targetUrl = Global.getConfig(\"e2.LoginUrl\") + \"?client_id=\"\r\n                    + Global.getConfig(\"e2.ClientId\")\r\n                    + \"&returnUrl=\"\r\n                    + Global.getConfig(\"e2.ReturnUrl\");\r\n            model.addAttribute(\"targetUrl\", targetUrl);\r\n            return \"redirect:\" + targetUrl;\r\n        }\r\n    }\r\n    \r\n\r\n// 退出接口\r\n   @RequestMapping(value = \"/logout\")\r\n    public String adminLogout(HttpServletRequest request,\r\n                              HttpServletResponse response) {\r\n        logger.info(\"======================= logout====================\");\r\n        X3App app = new X3App(request, null);\r\n        Subject subject = SecurityUtils.getSubject();\r\n        subject.getSession().removeAttribute(app.GetCookie(\"e2state\"));\r\n        String returnUrl = WebUtilX.UrlEncode(Global.getConfig(\"u2.Callback\"));\r\n\r\n        String logoutUrl = Global.getConfig(\"u2.LogoutUrl\") + \"?ClientId=\"\r\n                 + Global.getConfig(\"u2.ClientId\") + \"&ReturnUrl=\" + returnUrl;\r\n\r\n        String returnUrl = WebUtilX.UrlEncode(Global.getConfig(\"e2.ReturnUrl\"));\r\n        String logoutUrl = Global.getConfig(\"e2.LogoutUrl\") + \"?ClientId=\"\r\n                + Global.getConfig(\"e2.ClientId\") + \"&ReturnUrl=\" + returnUrl;\r\n        subject.logout();\r\n        return \"redirect:\" + logoutUrl;\r\n    }\r\n```\r\n\r\n```\r\n// shiro 过滤器\r\n <bean id=\"shiroFilter\" class=\"org.apache.shiro.spring.web.ShiroFilterFactoryBean\">\r\n        <property name=\"securityManager\" ref=\"securityManager\"/>\r\n        <property name=\"loginUrl\" value=\"${adminPath}/login\"/>\r\n        <property name=\"successUrl\" value=\"/index\"/>\r\n        <property name=\"filters\">\r\n            <map>\r\n                <entry key=\"authc\" value-ref=\"formAuthenticationFilter\"/>\r\n                <entry key=\"oauth2Authc\" value-ref=\"oAuth2AuthenticationFilter\"/>\r\n            </map>\r\n        </property>\r\n        <property name=\"filterChainDefinitions\">\r\n            <value>\r\n                /report/postContent/** = anon\r\n                /studentlist/** = anon\r\n                /courseInfo/** = anon\r\n                /studyInfo/** = anon\r\n                /studyservice/** = anon\r\n                /newwork/** = anon\r\n                /workflow/** = anon\r\n                /static/** = anon\r\n                /userfiles/** = anon\r\n                /servlet/** = anon\r\n                /app/**=anon\r\n                /demo/**=anon\r\n                ${adminPath}/login = authc\r\n                /e2/callback = oauth2Authc\r\n                /admin = anon\r\n                ${adminPath}/logout = authc\r\n                /** = user\r\n            </value>\r\n        </property>\r\n    </bean>\r\n```","content_rendered":"<ul>\n<li>\n<p>老系统是 SpringMVC 集成 shiro 做的权限认证。现在要改为集团统一认证。</p>\n</li>\n<li>\n<p>流程为：访问域名-&gt;跳转到登录接口-&gt;判断是否登录-&gt;跳转集团登录页-&gt;登录成功后 return 回来我们的系统首页。</p>\n</li>\n<li>\n<p>遇到的问题：集团登录页是个 https 的链接。登录的 Controller 最后==return \"redirect:\" + targetUrl;==。但是 targetUrl 改为<strong>http</strong>就可以正常跳转，如果是<strong>https</strong>虽然不影响使用，但是会一直重复调用 login 的接口。</p>\n</li>\n<li>\n<p>尝试使用 <a href=\"http://www.baidu.com\" rel=\"nofollow\">http://www.baidu.com</a> 和 <a href=\"https://www.baidu.com\" rel=\"nofollow\">https://www.baidu.com</a> 也是一样的情况。现在不清楚问题到底是<strong>shiro</strong>引发的？还是<strong>SpringMVC</strong>的<strong>redirect</strong>引发的。奇怪的是退出的接口不管是 http 还是 https 都是正常的。</p>\n</li>\n<li>\n<p>相关代码放到下面了，有懂得大手子麻烦帮忙看下给点建议！！！</p>\n</li>\n</ul>\n<pre><code>// 登录接口\n@RequestMapping(value = \"${adminPath}/login\", method = RequestMethod.GET)\n    public String e2Login(HttpServletRequest request,\n                          HttpServletResponse response, Model model) {\n        User user = UserUtils.getUser();\n        // 如果已经登录，则跳转到管理首页\n        if (user != null) {\n            if (user.getId() != null &amp;&amp; user.getId() &gt; -1) {\n                return \"redirect:\" + Global.getAdminPath();\n            } else {\n                return \"error/403\";\n            }\n        } else {\n            String e2state = java.util.UUID.randomUUID().toString();\n            X3.Service.X3App x3app = new X3.Service.X3App(request, response);\n            x3app.SetCookie(\"e2state\", e2state);\n            String targetUrl = Global.getConfig(\"e2.LoginUrl\") + \"?client_id=\"\n                    + Global.getConfig(\"e2.ClientId\")\n                    + \"&amp;returnUrl=\"\n                    + Global.getConfig(\"e2.ReturnUrl\");\n            model.addAttribute(\"targetUrl\", targetUrl);\n            return \"redirect:\" + targetUrl;\n        }\n    }\n    \n\n// 退出接口\n   @RequestMapping(value = \"/logout\")\n    public String adminLogout(HttpServletRequest request,\n                              HttpServletResponse response) {\n        logger.info(\"======================= logout====================\");\n        X3App app = new X3App(request, null);\n        Subject subject = SecurityUtils.getSubject();\n        subject.getSession().removeAttribute(app.GetCookie(\"e2state\"));\n        String returnUrl = WebUtilX.UrlEncode(Global.getConfig(\"u2.Callback\"));\n\n        String logoutUrl = Global.getConfig(\"u2.LogoutUrl\") + \"?ClientId=\"\n                 + Global.getConfig(\"u2.ClientId\") + \"&amp;ReturnUrl=\" + returnUrl;\n\n        String returnUrl = WebUtilX.UrlEncode(Global.getConfig(\"e2.ReturnUrl\"));\n        String logoutUrl = Global.getConfig(\"e2.LogoutUrl\") + \"?ClientId=\"\n                + Global.getConfig(\"e2.ClientId\") + \"&amp;ReturnUrl=\" + returnUrl;\n        subject.logout();\n        return \"redirect:\" + logoutUrl;\n    }\n</code></pre>\n<pre><code>// shiro 过滤器\n &lt;bean id=\"shiroFilter\" class=\"org.apache.shiro.spring.web.ShiroFilterFactoryBean\"&gt;\n        &lt;property name=\"securityManager\" ref=\"securityManager\"/&gt;\n        &lt;property name=\"loginUrl\" value=\"${adminPath}/login\"/&gt;\n        &lt;property name=\"successUrl\" value=\"/index\"/&gt;\n        &lt;property name=\"filters\"&gt;\n            &lt;map&gt;\n                &lt;entry key=\"authc\" value-ref=\"formAuthenticationFilter\"/&gt;\n                &lt;entry key=\"oauth2Authc\" value-ref=\"oAuth2AuthenticationFilter\"/&gt;\n            &lt;/map&gt;\n        &lt;/property&gt;\n        &lt;property name=\"filterChainDefinitions\"&gt;\n            &lt;value&gt;\n                /report/postContent/** = anon\n                /studentlist/** = anon\n                /courseInfo/** = anon\n                /studyInfo/** = anon\n                /studyservice/** = anon\n                /newwork/** = anon\n                /workflow/** = anon\n                /static/** = anon\n                /userfiles/** = anon\n                /servlet/** = anon\n                /app/**=anon\n                /demo/**=anon\n                ${adminPath}/login = authc\n                /e2/callback = oauth2Authc\n                /admin = anon\n                ${adminPath}/logout = authc\n                /** = user\n            &lt;/value&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n</code></pre>\n","last_modified":1634089670,"replies":6,"id":807463}]